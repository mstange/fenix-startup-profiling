/*! For license information please see merge-android-profiles.js.LICENSE.txt */
(()=>{var e,t,r,n,a,o,s,i={34:(e,t,r)=>{"use strict";var n=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},81:(e,t,r)=>{"use strict";var n=r(9565),a=r(9306),o=r(8551),s=r(6823),i=r(851),l=TypeError;e.exports=function(e,t){var r=arguments.length<2?i(e):t;if(a(r))return o(n(r,e));throw new l(s(e)+" is not iterable")}},116:(e,t,r)=>{"use strict";var n=r(6518),a=r(9565),o=r(2652),s=r(9306),i=r(8551),l=r(1767),c=r(9539),u=r(4549)("find",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:u},{find:function(e){i(this);try{s(e)}catch(e){c(this,"throw",e)}if(u)return a(u,this,e);var t=l(this),r=0;return o(t,(function(t,n){if(e(t,r++))return n(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},181:e=>{"use strict";e.exports=require("buffer")},283:(e,t,r)=>{"use strict";var n=r(9504),a=r(9039),o=r(4901),s=r(9297),i=r(3724),l=r(350).CONFIGURABLE,c=r(3706),u=r(1181),d=u.enforce,f=u.get,h=String,m=Object.defineProperty,p=n("".slice),g=n("".replace),y=n([].join),b=i&&!a((function(){return 8!==m((function(){}),"length",{value:8}).length})),T=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===p(h(t),0,7)&&(t="["+g(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(i?m(e,"name",{value:t,configurable:!0}):e.name=t),b&&r&&s(r,"arity")&&e.length!==r.arity&&m(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?i&&m(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=d(e);return s(n,"source")||(n.source=y(T,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return o(this)&&f(this).source||c(this)}),"toString")},350:(e,t,r)=>{"use strict";var n=r(3724),a=r(9297),o=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,i=a(o,"name"),l=i&&"something"===function(){}.name,c=i&&(!n||n&&s(o,"name").configurable);e.exports={EXISTS:i,PROPER:l,CONFIGURABLE:c}},397:(e,t,r)=>{"use strict";var n=r(7751);e.exports=n("document","documentElement")},421:e=>{"use strict";e.exports={}},604:(e,t,r)=>{"use strict";var n={};r.r(n),r.d(n,{exclude:()=>vn,extract:()=>pn,parse:()=>gn,parseUrl:()=>bn,pick:()=>wn,stringify:()=>yn,stringifyUrl:()=>Tn});var a={};r.r(a),r.d(a,{getAllCommittedRanges:()=>ba,getAssemblyViewIsOpen:()=>xa,getAssemblyViewNativeSymbol:()=>Na,getAssemblyViewScrollGeneration:()=>_a,getCurrentSearchString:()=>Ea,getDataSource:()=>ha,getFileNameInZipFilePath:()=>io,getFirstSelectedThreadIndex:()=>La,getFormattedMetaInfoString:()=>so,getGlobalTrackOrder:()=>Ba,getHash:()=>ma,getHiddenGlobalTracks:()=>Ga,getHiddenLocalTracks:()=>Ja,getHiddenLocalTracksByPid:()=>Wa,getImplementationFilter:()=>Ta,getInvertCallstack:()=>Ma,getIsBottomBoxOpen:()=>no,getLastSelectedCallTreeSummaryStrategy:()=>wa,getLegacyHiddenThreads:()=>ja,getLegacyThreadOrder:()=>$a,getLocalTrackOrder:()=>Ka,getLocalTrackOrderByPid:()=>Ha,getMarkersSearchString:()=>Aa,getMarkersSearchStrings:()=>Za,getMarkersSearchStringsAsRegExp:()=>Xa,getNetworkSearchString:()=>Oa,getNetworkSearchStrings:()=>Ya,getNetworkSearchStringsAsRegExp:()=>eo,getPathInZipFileFromUrl:()=>oo,getProfileNameForStorage:()=>co,getProfileNameFromUrl:()=>ya,getProfileNameWithDefault:()=>lo,getProfileSpecificState:()=>fa,getProfileUrl:()=>pa,getProfilesToCompare:()=>ga,getSearchStrings:()=>qa,getSearchStringsAsRegExp:()=>Qa,getSelectedTab:()=>Pa,getSelectedThreadIndexes:()=>Fa,getSelectedThreadIndexesOrNull:()=>Ra,getSelectedThreadsKey:()=>Da,getShowJsTracerSummary:()=>Ca,getShowUserTimings:()=>va,getSourceViewScrollGeneration:()=>Ia,getSourceViewSourceIndex:()=>ka,getStackChartSameWidths:()=>Sa,getSymbolServerUrl:()=>uo,getTabFilter:()=>Va,getTimelineType:()=>Ua,getTransformStack:()=>ro,getUrlPredictor:()=>ao,getUrlState:()=>da,hasTabFilter:()=>za});var o={};r.r(o),r.d(o,{getCategories:()=>Xo,getCommittedRange:()=>No,getCommittedRangeLabels:()=>_o,getContainsPrivateBrowsingInformation:()=>Rs,getContentfulSpeedIndexProgress:()=>qo,getCounterSelectors:()=>os,getCounters:()=>Wo,getCurrentTableViewOptions:()=>To,getDefaultCategory:()=>Uo,getExtensionIdToNameMap:()=>Es,getExtensionTable:()=>Qo,getFocusCallTreeGeneration:()=>ko,getGlobalTrackAndIndexByPid:()=>ms,getGlobalTrackFromReference:()=>hs,getGlobalTrackName:()=>vs,getGlobalTrackNames:()=>ws,getGlobalTrackReferences:()=>ds,getGlobalTracks:()=>us,getHasPreferenceMarkers:()=>fs,getHiddenTrackCount:()=>Is,getIPCMarkerCorrelations:()=>ss,getInnerWindowIDSetByTabID:()=>Cs,getInnerWindowIDToPageMap:()=>is,getInnerWindowIDToTabMap:()=>ls,getLastNonShiftClick:()=>Bo,getLocalTrackFromReference:()=>ys,getLocalTrackName:()=>ks,getLocalTrackNamesByPid:()=>Ss,getLocalTracks:()=>gs,getLocalTracksByPid:()=>ps,getMarkerSchema:()=>rs,getMarkerSchemaByName:()=>ns,getMeta:()=>Ho,getMouseTimePosition:()=>Co,getPageList:()=>Lo,getPagesMap:()=>_s,getPerceptualSpeedIndexProgress:()=>Ko,getPreviewSelection:()=>Ao,getPreviewSelectionIsBeingModified:()=>Oo,getPreviewSelectionRange:()=>Po,getProcessIdToNameMap:()=>Ms,getProcessesWithMemoryTrack:()=>bs,getProfile:()=>Ro,getProfileExtraInfo:()=>Us,getProfileFilterPageDataByTabID:()=>As,getProfileFilterSortedPageData:()=>Os,getProfileInterval:()=>Do,getProfileOrNull:()=>Mo,getProfileRootRange:()=>wo,getProfileTimelineUnit:()=>xo,getProfileUsesMultipleStackTypes:()=>Ls,getProfileView:()=>yo,getProfileViewOptions:()=>bo,getProfiledThreadIds:()=>Fs,getProfilerConfiguration:()=>Zo,getRawProfileSharedData:()=>Fo,getReferenceCPUDeltaPerMs:()=>xs,getRightClickedThreadIndex:()=>Ts,getRightClickedTrack:()=>Go,getSampleUnits:()=>Yo,getScrollToSelectionGeneration:()=>So,getShouldDisplaySearchfox:()=>Ds,getSourceTable:()=>ts,getSourceViewFile:()=>$s,getSourceViewSourceUuid:()=>js,getStringTable:()=>es,getSymbolicationStatus:()=>vo,getTabToThreadIndexesMap:()=>cs,getTableViewOptionSelectors:()=>Eo,getThreadActivityScores:()=>Ns,getThreadIdToNameMap:()=>Ps,getThreadNames:()=>jo,getThreads:()=>$o,getVisualMetrics:()=>zo,getVisualMetricsOrNull:()=>Vo,getVisualProgress:()=>Jo,getZeroAt:()=>Io});var s={};r.r(s),r.d(s,{getExpandedZipFileIndexes:()=>Ws,getHasZipFile:()=>zs,getSelectedZipFileIndex:()=>Gs,getZipFile:()=>Vs,getZipFileErrorMessage:()=>Js,getZipFileMaxDepth:()=>Zs,getZipFileState:()=>Hs,getZipFileTable:()=>qs,getZipFileTableOrNull:()=>Ks,getZipFileTree:()=>Qs,getZipFileTreeOrNull:()=>Ys,getZippedProfilesState:()=>Bs});var i={};r.r(i),r.d(i,{getApp:()=>Xs,getBrowserConnection:()=>ui,getBrowserConnectionStatus:()=>ci,getCurrentProfileUploadedInformation:()=>gi,getExperimental:()=>li,getHasZoomedViaMousewheel:()=>ri,getIsDragAndDropDragging:()=>mi,getIsDragAndDropOverlayRegistered:()=>pi,getIsEventDelayTracksEnabled:()=>di,getIsExperimentalCPUGraphsEnabled:()=>fi,getIsExperimentalProcessCPUTracksEnabled:()=>hi,getIsNewProfileLoadAllowed:()=>bi,getIsNewlyPublished:()=>ii,getIsSidebarOpen:()=>ni,getLastVisibleThreadTabSlug:()=>oi,getPanelLayoutGeneration:()=>ai,getSidebarOpenCategories:()=>Ti,getTimelineHeight:()=>yi,getTrackThreadHeights:()=>si,getUrlSetupPhase:()=>ti,getView:()=>ei});var l={};r.r(l),r.d(l,{getAbortFunction:()=>Il,getCheckedSharingOptions:()=>dl,getFilenameString:()=>fl,getHasPrePublishedState:()=>_l,getHasSanitizedProfile:()=>El,getIsHidingStaleProfile:()=>Cl,getPrePublishedState:()=>Nl,getPublishState:()=>ul,getRemoveProfileInformation:()=>hl,getSanitizedProfile:()=>gl,getSanitizedProfileEncodingState:()=>yl,getShouldSanitizeByDefault:()=>xl,getUploadError:()=>Sl,getUploadGeneration:()=>wl,getUploadPhase:()=>Tl,getUploadProgress:()=>vl,getUploadProgressString:()=>kl,getUploadState:()=>bl});var c={};r.r(c),r.d(c,{getAreThereAnyProcessCPUCounters:()=>Ol,getIsCPUUtilizationProvided:()=>Al});var u={};r.r(u),r.d(u,{getAssemblyCodeCache:()=>Rl,getAssemblyViewCode:()=>Dl,getSourceCodeCache:()=>Pl,getSourceViewCode:()=>Ml});var d={};r.r(d),r.d(d,{getIconClassName:()=>Ul,getIconsWithClassNames:()=>Ll}),r(1454);const f=require("fs");var h,m,p=r.n(f),g=r(9031),y=r.n(g),b=(r(4520),r(2577),r(8872),r(7550),r(3215),r(3949),r(9635)),T=r(8172),w=r(2301),v=r(5119),S=r.n(v),k=r(1617),I=r.n(k),x=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),N=(h=["",""],m=["",""],Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(m)}}))),_=function(){function e(){for(var t=this,r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tag=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return"function"==typeof e?t.interimTag.bind(t,e):"string"==typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,n))))},n.length>0&&Array.isArray(n[0])&&(n=n[0]),this.transformers=n.map((function(e){return"function"==typeof e?e():e})),this.tag}return x(e,[{key:"interimTag",value:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return this.tag(N,e.apply(void 0,[t].concat(n)))}},{key:"processSubstitutions",value:function(e,t,r){var n=this.transformSubstitution(e.shift(),t);return"".concat(t,n,r)}},{key:"transformString",value:function(e){return this.transformers.reduce((function(e,t){return t.onString?t.onString(e):e}),e)}},{key:"transformSubstitution",value:function(e,t){return this.transformers.reduce((function(e,r){return r.onSubstitution?r.onSubstitution(e,t):e}),e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce((function(e,t){return t.onEndResult?t.onEndResult(e):e}),e)}}]),e}();const C=_;var E={separator:"",conjunction:"",serial:!1};const A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return{onSubstitution:function(t,r){if(Array.isArray(t)){var n=t.length,a=e.separator,o=e.conjunction,s=e.serial,i=r.match(/(\n?[^\S\n]+)$/);if(t=i?t.join(a+i[1]):t.join(a+" "),o&&n>1){var l=t.lastIndexOf(a);t=t.slice(0,l)+(s?a:"")+" "+o+t.slice(l+1)}}return t}}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var r=t.match(/^[^\S\n]*(?=\S)/gm),n=r&&Math.min.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r.map((function(e){return e.length}))));if(n){var a=new RegExp("^.{"+n+"}","gm");return t.replace(a,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};new C(A({separator:","}),O,P),new C(A({separator:",",conjunction:"and"}),O,P),new C(A({separator:",",conjunction:"or"}),O,P);const M=function(e){return{onSubstitution:function(t,r){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof t&&t.includes(e)&&(t=t.split(e)),t}}};var R=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e};new C(M("\n"),(function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(R):R(e)?e:""}}}),A,O,P);const F=function(e,t){return{onSubstitution:function(r,n){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==r?r:r.toString().replace(e,t)}}};new C(M("\n"),A,O,P,F(/&/g,"&amp;"),F(/</g,"&lt;"),F(/>/g,"&gt;"),F(/"/g,"&quot;"),F(/'/g,"&#x27;"),F(/`/g,"&#x60;"));const D=function(e,t){return{onEndResult:function(r){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return r.replace(e,t)}}},L=new C(D(/(?:\n(?:\s*))+/g," "),P);new C(D(/(?:\n\s*)/g,""),P),new C(A({separator:","}),D(/(?:\s+)/g," "),P),new C(A({separator:",",conjunction:"or"}),D(/(?:\s+)/g," "),P),new C(A({separator:",",conjunction:"and"}),D(/(?:\s+)/g," "),P),new C(A,O,P),new C(A,D(/(?:\s+)/g," "),P);const U=new C(O,P);function $(e){return e.join("-")}new C(O("all"),P);class j{constructor(e){if(this._table=void 0,e instanceof j)this._table=new Map(e._table);else if(this._table=new Map,e)for(const t of e)this._table.set($(t),t)}add(e){return this._table.set($(e),e),this}clear(){this._table.clear()}delete(e){return this._table.delete($(e))}*values(){yield*this._table.values()}*entries(){for(const e of this)yield[e,e]}forEach(e,t){for(const r of this)e.call(t,r,r,this)}has(e){return this._table.has($(e))}get size(){return this._table.size}*[Symbol.iterator](){yield*this._table.values()}}function B(e,t,r,n=0,a=e.length){if(n<0||n>e.length||a<0||a>e.length)throw new TypeError("low and high must lie within the array's range");for(;n<a;){const o=n+a>>1;t<r(e[o])?a=o:n=o+1}return n}function G(e,t,r=0,n=e.length){if(r<0||r>e.length||n<0||n>e.length)throw new TypeError("low and high must lie within the array's range");for(;r<n;){const a=r+n>>1;t<=e[a]?n=a:r=a+1}return r}class W{constructor(e,t){this._callNodeTable=void 0,this._stackIndexToNonInvertedCallNodeIndex=void 0,this._cache=new Map,this._callNodeTable=e,this._stackIndexToNonInvertedCallNodeIndex=t}isInverted(){return!1}asInverted(){return null}getCallNodeTable(){return this._callNodeTable}getStackIndexToNonInvertedCallNodeIndex(){return this._stackIndexToNonInvertedCallNodeIndex}getCallNodePathFromIndex(e){if(null===e||-1===e)return[];const t=[];let r=e;for(;-1!==r;)t.push(this._callNodeTable.func[r]),r=this._callNodeTable.prefix[r];return t.reverse(),t}getCallNodeIndexFromPath(e){const t=this._cache,r=$(e),n=t.get(r);if(void 0!==n)return n;const a=[r];let o,s=e.length;for(;--s>0;){const r=$(e.slice(0,s));if(o=t.get(r),void 0!==o)break;a.push(r)}for(void 0===o&&(o=-1);s<e.length;){const r=e[s],n=this.getCallNodeIndexFromParentAndFunc(o,r);if(null===n)return null;const i=a.pop();t.set(i,n),o=n,s++}return o<0?null:o}getCallNodeIndexFromParentAndFunc(e,t){const r=this._callNodeTable;if(-1===e){if(0===r.length)return null}else if(r.subtreeRangeEnd[e]===e+1)return null;for(let n=e+1;-1!==n;n=r.nextSibling[n])if(r.func[n]===t)return n;return null}prefixForNode(e){return this._callNodeTable.prefix[e]}funcForNode(e){return this._callNodeTable.func[e]}categoryForNode(e){return this._callNodeTable.category[e]}subcategoryForNode(e){return this._callNodeTable.subcategory[e]}innerWindowIDForNode(e){return this._callNodeTable.innerWindowID[e]}depthForNode(e){return this._callNodeTable.depth[e]}sourceFramesInlinedIntoSymbolForNode(e){return this._callNodeTable.sourceFramesInlinedIntoSymbol[e]}}class H{constructor(e,t,r,n){this._callNodeTable=void 0,this._invertedRootCallNodeTable=void 0,this._invertedNonRootCallNodeTable=void 0,this._stackIndexToNonInvertedCallNodeIndex=void 0,this._rootCount=void 0,this._suffixOrderedCallNodes=void 0,this._suffixOrderIndexes=void 0,this._defaultCategory=void 0,this._cache=new Map,this._children=new Map,this._callNodeTable=e,this._stackIndexToNonInvertedCallNodeIndex=t;const{suffixOrderedCallNodes:a,suffixOrderIndexes:o,rootSuffixOrderIndexRangeEndCol:s}=function(e,t){const r=new Uint32Array(t),n=e.length,a=e.func;for(let e=0;e<n;e++)r[a[e]]++;const o=r;let s=0;for(let e=0;e<o.length;e++){const t=r[e];o[e]=s,s+=t}const i=o,l=new Uint32Array(n),c=new Uint32Array(n);for(let e=0;e<n;e++){const t=i[a[e]]++;l[t]=e,c[e]=t}return{suffixOrderedCallNodes:l,suffixOrderIndexes:c,rootSuffixOrderIndexRangeEndCol:o}}(e,n);this._suffixOrderedCallNodes=a,this._suffixOrderIndexes=o,this._defaultCategory=r,this._rootCount=n;const i=function(e,t,r,n){const a=t.length,o=new Int32Array(a),s=new Int32Array(a),i=new Float64Array(a),l=new Int32Array(a);let c=0;for(let u=0;u<a;u++){const a=c,d=t[u];if(c=d,a===d){l[u]=-2;continue}const f=r[a];let h=e.category[f],m=e.subcategory[f];const p=e.innerWindowID[f];let g=e.sourceFramesInlinedIntoSymbol[f];for(let t=a+1;t<d;t++){const a=r[t];h!==e.category[a]?(h=n,m=0):m!==e.subcategory[a]&&(m=0),g!==e.sourceFramesInlinedIntoSymbol[a]&&(g=-1)}o[u]=h,s[u]=m,i[u]=p,l[u]=g}return{category:o,subcategory:s,innerWindowID:i,sourceFramesInlinedIntoSymbol:l,suffixOrderIndexRangeEnd:t,length:a}}(e,s,a,r);this._invertedRootCallNodeTable=i,this._invertedNonRootCallNodeTable={prefix:[],func:[],pathHash:[],category:[],subcategory:[],innerWindowID:[],sourceFramesInlinedIntoSymbol:[],suffixOrderIndexRangeStart:[],suffixOrderIndexRangeEnd:[],deepNodes:[],depth:[],length:0}}isInverted(){return!0}asInverted(){return this}getCallNodeTable(){return this._callNodeTable}getStackIndexToNonInvertedCallNodeIndex(){return this._stackIndexToNonInvertedCallNodeIndex}getSuffixOrderedCallNodes(){return this._suffixOrderedCallNodes}getSuffixOrderIndexes(){return this._suffixOrderIndexes}getFuncCount(){return this._rootCount}isRoot(e){return e<this._rootCount}getSuffixOrderIndexRangeForCallNode(e){if(e<this._rootCount){const t=e;return[0===t?0:this._invertedRootCallNodeTable.suffixOrderIndexRangeEnd[t-1],this._invertedRootCallNodeTable.suffixOrderIndexRangeEnd[t]]}const t=e-this._rootCount;return[this._invertedNonRootCallNodeTable.suffixOrderIndexRangeStart[t],this._invertedNonRootCallNodeTable.suffixOrderIndexRangeEnd[t]]}_createChildren(e){const t=this._takeDeepNodesForInvertedNode(e),r=this._computeChildrenInfo(e,t);return null===r?[]:(this._applyRefinedSuffixOrderForNode(e,r.selfNodesWhichEndAtParent,r.childrenSelfNodes),this._createChildrenForInfo(r,e))}_computeChildrenInfo(e,t){const r=t.length,[n,a]=this.getSuffixOrderIndexRangeForCallNode(e),o=this._suffixOrderedCallNodes.subarray(n,a);if(o.length!==t.length)throw new Error("indexes out of sync");const s=[],i=[],l=[],c=[],u=new Map,d=this._callNodeTable;for(let e=0;e<r;e++){const r=o[e],n=t[e],a=d.prefix[n];if(-1!==a){const e=d.func[a],t=u.get(e);void 0===t?u.set(e,1):u.set(e,t+1),s.push(r),i.push(a),l.push(e)}else c.push(r)}const f=c.length,h=i.length;if(f+h!==r)throw new Error("indexes out of sync");if(f===r)return null;const m=new Uint32Array(u.keys());m.sort();const p=m.length,g=new Uint32Array(p),y=new Uint32Array(p),b=new Map;let w=0;for(let e=0;e<p;e++){const t=m[e];b.set(t,e);const r=(0,T.Nn)(u.get(t));y[e]=r,g[e]=w,w+=r}const v=g,S=new Uint32Array(h),k=new Uint32Array(h);for(let e=0;e<h;e++){const t=l[e],r=(0,T.Nn)(b.get(t)),n=s[e],a=i[e],o=v[r]++;S[o]=a,k[o]=n}return{funcPerChild:m,deepNodeCountPerChild:y,childrenSuffixOrderIndexRangeStart:n+f,selfNodesWhichEndAtParent:c,childrenSelfNodes:k,childrenDeepNodes:S}}_applyRefinedSuffixOrderForNode(e,t,r){const[n,a]=this.getSuffixOrderIndexRangeForCallNode(e),o=this._suffixOrderIndexes,s=this._suffixOrderedCallNodes;let i=n;for(let e=0;e<t.length;e++){const r=t[e],n=i++;o[r]=n,s[n]=r}for(let e=0;e<r.length;e++){const t=r[e],n=i++;o[t]=n,s[n]=t}if(i!==a)throw new Error("Indexes out of sync")}_createChildrenForInfo(e,t){const r=this._pathHashForNode(t),n=this.depthForNode(t)+1,{funcPerChild:a,deepNodeCountPerChild:o,childrenSuffixOrderIndexRangeStart:s,childrenDeepNodes:i}=e,l=a.length,c=[];let u=0,d=s;for(let e=0;e<l;e++){const s=a[e],l=o[e],f=d,h=i.subarray(u,u+l);d+=l,u+=l;const m=this._createNonRootNode(s,h,f,n,t,r);c.push(m)}return c}_createNonRootNode(e,t,r,n,a,o){const s=t.length,i=this._callNodeTable,l=t[0];let c=i.category[l],u=i.subcategory[l];const d=i.innerWindowID[l];let f=i.sourceFramesInlinedIntoSymbol[l];const h=this._invertedNonRootCallNodeTable;for(let e=1;e<s;e++){const r=t[e];c!==i.category[r]?(c=this._defaultCategory,u=0):u!==i.subcategory[r]&&(u=0),f!==i.sourceFramesInlinedIntoSymbol[r]&&(f=-1)}const m=h.length++,p=this._rootCount+m,g=o+"-"+e;return h.prefix[m]=a,h.func[m]=e,h.pathHash[m]=g,h.category[m]=c,h.subcategory[m]=u,h.innerWindowID[m]=d,h.sourceFramesInlinedIntoSymbol[m]=f,h.deepNodes[m]=t,h.suffixOrderIndexRangeStart[m]=r,h.suffixOrderIndexRangeEnd[m]=r+s,h.depth[m]=n,this._cache.set(g,p),p}getChildren(e){let t=this._children.get(e);return void 0===t&&(t=this._createChildren(e),this._children.set(e,t)),t}_takeDeepNodesForInvertedNode(e){if(e<this._rootCount){const[t,r]=this.getSuffixOrderIndexRangeForCallNode(e);return this._suffixOrderedCallNodes.subarray(t,r)}const t=e-this._rootCount,r=(0,T.Nn)(this._invertedNonRootCallNodeTable.deepNodes[t],"_takeDeepNodesForInvertedNode should only be called once for each node, and only after its parent created its children.");return this._invertedNonRootCallNodeTable.deepNodes[t]=null,r}getCallNodePathFromIndex(e){if(null===e||-1===e)return[];const t=this._rootCount,r=[];let n=e;for(;n>=t;){const e=n-t;r.push(this._invertedNonRootCallNodeTable.func[e]),n=this._invertedNonRootCallNodeTable.prefix[e]}const a=n;return r.push(a),r.reverse(),r}getCallNodeIndexFromPath(e){if(0===e.length)return null;if(1===e.length)return e[0];const t=e.length-1;let r=this._findDeepestExistingInvertedAncestorNode(e),n=this.depthForNode(r);for(;n<t;){const t=e[n+1],a=this.getChildren(r),o=this._getChildWithFunc(a,t);if(null===o)return null;r=o,n++}return r}_findDeepestExistingInvertedAncestorNode(e){const t=this._cache.get($(e));if(void 0!==t)return t;let r=e[0],n=1,a=e.length-1;for(;n<a;){const t=n+a>>1,o=e.slice(0,t+1),s=this._cache.get($(o));void 0!==s?(r=s,n=t+1):a=t}return r}_getChildWithFunc(e,t){const r=function(e,t,r,n=0,a=e.length){if(n<0||n>e.length||a<0||a>e.length)throw new TypeError("low and high must lie within the array's range");for(;n<a;){const o=n+a>>1;t<r(e[o])?a=o:n=o+1}return n}(e,t,(e=>this.funcForNode(e)));if(0===r)return null;const n=e[r-1];return this.funcForNode(n)!==t?null:n}getCallNodeIndexFromParentAndFunc(e,t){if(-1===e)return t;const r=this.getChildren(e);return this._getChildWithFunc(r,t)}_pathHashForNode(e){if(e<this._rootCount)return""+e;const t=e-this._rootCount;return this._invertedNonRootCallNodeTable.pathHash[t]}prefixForNode(e){if(e<this._rootCount)return-1;const t=e-this._rootCount;return this._invertedNonRootCallNodeTable.prefix[t]}funcForNode(e){if(e<this._rootCount)return e;const t=e-this._rootCount;return this._invertedNonRootCallNodeTable.func[t]}categoryForNode(e){if(e<this._rootCount){const t=e;return this._invertedRootCallNodeTable.category[t]}const t=e-this._rootCount;return this._invertedNonRootCallNodeTable.category[t]}subcategoryForNode(e){if(e<this._rootCount){const t=e;return this._invertedRootCallNodeTable.subcategory[t]}const t=e-this._rootCount;return this._invertedNonRootCallNodeTable.subcategory[t]}innerWindowIDForNode(e){if(e<this._rootCount){const t=e;return this._invertedRootCallNodeTable.innerWindowID[t]}const t=e-this._rootCount;return this._invertedNonRootCallNodeTable.innerWindowID[t]}depthForNode(e){if(e<this._rootCount)return 0;const t=e-this._rootCount;return this._invertedNonRootCallNodeTable.depth[t]}sourceFramesInlinedIntoSymbolForNode(e){if(e<this._rootCount){const t=e;return this._invertedRootCallNodeTable.sourceFramesInlinedIntoSymbol[t]}const t=e-this._rootCount;return this._invertedNonRootCallNodeTable.sourceFramesInlinedIntoSymbol[t]}}function V(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const a=e[n];t[n]=a-r,r=a}return t}const z={};function J(e,t){if("undefined"!=typeof performance){const r=performance.now(),n=t(),a=Math.round(performance.now()-r),o=z[e]||0;return o<3&&(z[e]=1+o,function(e){const t=self.ga;t&&t("send",e)}({hitType:"timing",timingCategory:"timeCode",timingVar:e,timingValue:a})),n}return t()}function K(e){return new Int32Array(1+(e-1>>5))}function q(e,t){const r=t>>5,n=31&t;if(r>=e.length)throw new Y(t);e[r]|=1<<n}function Z(e,t){const r=t>>5,n=31&t;if(r>=e.length)throw new Y(t);return!!(e[r]&1<<n)}class Y extends Error{constructor(e){super(`Bit index ${e} is out of bounds`),this.name="BitSetOutOfBoundsError",this.bitIndex=void 0,this.bitIndex=e}}const Q=/^(?<vcs>hg|git):(?<repo>[^:]*):(?<path>[^:]*):(?<rev>.*)$/,X=/^s3:(?<bucket>[^:]*):(?<digest>[0-9a-f]*)\/(?<path>[^:]*):$/,ee=/^cargo:(?<registry>[^:]*):(?<crate>[^/]+)-(?<version>[0-9]+\.[0-9]+\.[0-9]+):(?<path>[^:]*)$/,te=r.p+"1ddbc3ce40af8c7a648b.svg",re=r.p+"d6df0017c0241dfe86ff.svg";function ne(e,t,r){const{callNodeTable:n,stackIndexToCallNodeIndex:a}=function(e,t,r){if(0===e.length)return{callNodeTable:(0,b.U1)(),stackIndexToCallNodeIndex:new Int32Array(0)};const n=function(e,t){const r=new Int32Array(e.length),n=[],a=[],o=[],s=[];let i=0;const l=[];let c=-1;for(let u=0;u<e.length;u++){const d=e.prefix[u],f=null===d?-1:r[d],h=e.frame[u],m=t.func[h];let p=-1;if(0!==u)for(let e=-1===f?0:a[f];-1!==e;e=o[e])if(s[e]===m){p=e;break}if(-1===p)if(p=i++,r[u]=p,n[p]=f,s[p]=m,a[p]=-1,o[p]=-1,l[p]=-1,-1===f)-1!==c&&(o[c]=p),c=p;else{const e=l[f];-1===e?a[f]=p:o[e]=p,l[f]=p}else r[u]=p}return{prefix:n,firstChild:a,nextSibling:o,length:i,stackIndexToCallNodeIndex:r}}(e,t),a=function(e){const{prefix:t,firstChild:r,nextSibling:n,length:a,stackIndexToCallNodeIndex:o}=e,s=new Int32Array(a),i=new Int32Array(a),l=new Uint32Array(a),c=new Int32Array(a);let u=0;if(0===a)return{prefixSorted:s,subtreeRangeEndSorted:l,nextSiblingSorted:i,depthSorted:c,maxDepth:u,length:a,stackIndexToCallNodeIndex:o};const d=new Uint32Array(a);let f=0,h=0,m=0,p=-1,g=-1;for(;-1!==f;){const e=f,a=h;d[e]=a,h++,s[a]=g,c[a]=m;const o=r[e];if(-1===o)for(l[a]=h,f=n[e],i[a]=-1===f?-1:h;-1===f&&-1!==p;){l[g]=h;const e=n[p];i[g]=-1===e?-1:h,f=e,p=t[p],g=s[g],m--}else p=e,g=a,f=o,m++,m>u&&(u=m)}for(let e=0;e<o.length;e++)o[e]=d[o[e]];return{prefixSorted:s,subtreeRangeEndSorted:l,nextSiblingSorted:i,depthSorted:c,maxDepth:u,length:a,stackIndexToCallNodeIndex:o}}(n),{stackIndexToCallNodeIndex:o}=a,s=function(e){const t=e.length,r=e.inlineDepth,n=e.nativeSymbol,a=new Int32Array(t);for(let e=0;e<t;e++){let t=-2;if(r[e]>0){const r=n[e];null!==r&&(t=r)}a[e]=t}return a}(t),i=function(e,t,r,n,a,o){const s=e.length,i=e.category,l=e.frame,c=e.subcategory,u=t.innerWindowID,d=t.func,f=new Int32Array(a),h=new Int32Array(a),m=new Int32Array(a),p=new Float64Array(a),g=new Int32Array(a),y=new Uint8Array(a);for(let e=0;e<s;e++){const t=i[e],a=c[e],s=l[e],b=n[s],T=r[e];if(0===y[T]){f[T]=d[s],h[T]=t,m[T]=a,g[T]=b;const e=u[s];null!==e&&0!==e&&(p[T]=e),y[T]=1}else h[T]!==t?(h[T]=o,m[T]=0):m[T]!==a&&(m[T]=0),g[T]!==b&&(g[T]=-1)}return{funcCol:f,categoryCol:h,subcategoryCol:m,innerWindowIDCol:p,inlinedIntoCol:g}}(e,t,o,s,n.length,r);return{callNodeTable:{prefix:a.prefixSorted,nextSibling:a.nextSiblingSorted,subtreeRangeEnd:a.subtreeRangeEndSorted,func:i.funcCol,category:i.categoryCol,subcategory:i.subcategoryCol,innerWindowID:i.innerWindowIDCol,sourceFramesInlinedIntoSymbol:i.inlinedIntoCol,depth:a.depthSorted,maxDepth:a.maxDepth,length:n.length},stackIndexToCallNodeIndex:o}}(e,t,r);return new W(n,a)}function ae(e,t,r){return new H(e.getCallNodeTable(),e.getStackIndexToNonInvertedCallNodeIndex(),t,r)}function oe(e,t,r,n,a,o,s){const i=n[o[e]];return i>=t&&i<r?function(e,t,r){let n=e;for(let e=0;e<t&&null!==n;e++)n=r[n];return n}(e,a,s):null}function se(e,t){return e.map((e=>null===e?null:t[e]))}function ie(e){if(0===e.length)throw new Error("getLeafFuncIndex assumes that the path isn't empty.");return e[e.length-1]}function le(e,t,r,n,a,o,s){return function(e,t,r,n,a,o,s){const{stackTable:i}=r,l={selfTime:{value:0,breakdownByCategory:null},totalTime:{value:0,breakdownByCategory:null}};let c=0;function u(e,t,r){e.value+=r;const o=s.stack[t+n];if(null!==o){const t=i.category[o],n=i.subcategory[o];null===e.breakdownByCategory&&(e.breakdownByCategory=a.map((e=>({entireCategoryValue:0,subcategoryBreakdown:Array(e.subcategories.length).fill(0)})))),e.breakdownByCategory[t].entireCategoryValue+=r,e.breakdownByCategory[t].subcategoryBreakdown[n]+=r}}if(null===e)return{forPath:l,rootTime:c};const d=t.getCallNodeTable(),f=t.getStackIndexToNonInvertedCallNodeIndex(),h=t.asInverted();if(null!==h){const t=h.isRoot(e),r=h.getSuffixOrderIndexes(),[n,a]=h.getSuffixOrderIndexRangeForCallNode(e);for(let e=0;e<o.length;e++){const s=o.stack[e];if(null===s)continue;const i=r[f[s]],d=o.weight?o.weight[e]:1;c+=Math.abs(d),i>=n&&i<a&&(u(l.totalTime,e,d),t&&(l.selfTime.value+=d))}}else{const t=d.subtreeRangeEnd[e];for(let r=0;r<o.length;r++){const n=o.stack[r];if(null===n)continue;const a=f[n],s=o.weight?o.weight[r]:1;c+=Math.abs(s),a===e&&u(l.selfTime,r,s),a>=e&&a<t&&u(l.totalTime,r,s)}}return{forPath:l,rootTime:c}}(t.getCallNodeIndexFromPath(e),t,r,n,a,o,s)}function ce(e){const t=e.length,r=e.maxDepth,n=e.depth,a=e.func,o=K(t),s=new Int32Array(r+1),i=new Int32Array(r+1);e:for(let e=0;e<t;e++){const t=n[e],r=a[e];if(0===t){s[0]=r;continue}const l=i[t-1];for(let n=l;n>=0;n--)if(s[n]===r){i[t]=l;const r=31&e;o[e>>5]|=1<<r;continue e}const c=l+1;s[c]=r,i[t]=c}return o}const ue=S()((function({samples:e,markers:t,jsAllocations:r,nativeAllocations:n},a){const o={start:1/0,end:-1/0};if(e.length){const{time:t,timeDeltas:r}=e;if(void 0!==t){const r=e.length-1;o.start=t[0],o.end=t[r]+a}else{const t=(0,T.Nn)(r);o.start=t[0];let n=0;for(let r=0;r<e.length;r++)n+=t[r];o.end=n+a}}else if(t.length)for(let e=0;e<t.length;e++){const r=t.startTime[e],n=t.endTime[e];switch(t.phase[e]){case w.mN:case w.nO:{const e=(0,T.Nn)(r);o.start=Math.min(o.start,e),o.end=Math.max(o.end,e+a);break}case w.a1:{const e=(0,T.Nn)(n);o.start=Math.min(o.start,e),o.end=Math.max(o.end,e+a);break}case w.KU:{const e=(0,T.Nn)(r),t=(0,T.Nn)(n);o.start=Math.min(o.start,e,t),o.end=Math.max(o.end,e+a,t+a);break}default:throw new Error("Unhandled marker phase type.")}}if(r){const e=r.length-1;o.start=Math.min(o.start,r.time[0]),o.end=Math.max(o.end,r.time[e]+a)}if(n){const e=n.length-1;o.start=Math.min(o.start,n.time[0]),o.end=Math.max(o.end,n.time[e]+a)}return o}),{cache:new(I())});function de(e){switch(e){case"cpp":case"js":return e;default:return"combined"}}function fe(e,t){const{funcTable:r,stringTable:n}=e;switch(t){case"cpp":return he(e,(e=>{if(r.isJS[e])return!1;const t=n.getString(r.name[e]);return!(-1===r.resource[e]&&t.startsWith("0x"))}));case"js":return he(e,(e=>r.isJS[e]||r.relevantForJS[e]));default:return e}}function he(e,t){return J("_filterThreadByFunc",(()=>{const{stackTable:r,frameTable:n}=e,a={length:0,frame:[],prefix:[],category:[],subcategory:[]},o=new Int32Array(r.length);for(let e=0;e<r.length;e++){const s=r.prefix[e],i=r.frame[e],l=n.func[i],c=null===s?-1:o[s];if(t(l)){const t=a.length++;a.frame[t]=i,a.prefix[t]=-1!==c?c:null,a.category[t]=r.category[e],a.subcategory[t]=r.subcategory[e],o[e]=t}else o[e]=c}return _e(e,a,(e=>{if(null===e)return null;const t=o[e];return-1!==t?t:null}))}))}function me(e,t){return J("filterThreadToSearchStrings",(()=>t&&t.length?t.reduce(((e,t)=>function(e,t){if(!t)return e;const r=t.toLowerCase(),{funcTable:n,frameTable:a,stackTable:o,stringTable:s,resourceTable:i,sources:l}=e;function c(e){const t=n.name[e];if(s.getString(t).toLowerCase().includes(r))return!0;const a=n.source[e];if(null!==a){const e=l.filename[a];if(s.getString(e).toLowerCase().includes(r))return!0}const o=n.resource[e];if(-1!==o){const e=i.name[o];if(s.getString(e).toLowerCase().includes(r))return!0}return!1}const u=K(n.length);for(let e=0;e<n.length;e++)c(e)&&q(u,e);const d=K(o.length);for(let e=0;e<o.length;e++){const t=o.prefix[e];(null!==t&&Z(d,t)||Z(u,a.func[o.frame[e]]))&&q(d,e)}return _e(e,o,(e=>null!==e&&Z(d,e)?e:null))}(e,t)),e):e))}function pe(e){const{time:t,timeDeltas:r}=e;return t??function(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const a=r+e[n];t[n]=a,r=a}return t}((0,T.Nn)(r))}function ge(e,t,r){const{stringArray:n}=r,{stackTable:a,frameTable:o,funcTable:s}=t;if(void 0===e||0===e.length||0===a.length)return!1;const i=e.find((e=>null!==e));if(null==i)return!1;if(null===a.prefix[i]){const t=a.frame[i],r=o.func[t];if("(root)"===n[s.name[r]])return e.some((e=>null!==e&&e!==i))}return!0}function ye(e,t,r){return be(e.time,t,r)}function be(e,t,r){const n=G(e,t);return[n,G(e,r,n)]}function Te(e,t,r){return we(e.time,t,r)}function we(e,t,r){let[n,a]=be(e,t,r);return n>0&&n--,a<e.length&&a++,[n,a]}function ve(e,t,r){const{samples:n,jsAllocations:a,nativeAllocations:o}=e,[s,i]=ye(n,t,r),l={length:i-s,time:n.time.slice(s,i),weight:n.weight?n.weight.slice(s,i):null,weightType:n.weightType,stack:n.stack.slice(s,i)};n.eventDelay?l.eventDelay=n.eventDelay.slice(s,i):n.responsiveness&&(l.responsiveness=n.responsiveness.slice(s,i)),n.threadCPURatio&&(l.threadCPURatio=n.threadCPURatio.slice(s,i)),n.threadId&&(l.threadId=n.threadId.slice(s,i));const c={...e,samples:l};if(a){const[e,n]=ye(a,t,r);c.jsAllocations={time:a.time.slice(e,n),className:a.className.slice(e,n),typeName:a.typeName.slice(e,n),coarseType:a.coarseType.slice(e,n),weight:a.weight.slice(e,n),weightType:a.weightType,inNursery:a.inNursery.slice(e,n),stack:a.stack.slice(e,n),length:n-e}}if(o){const[e,n]=ye(o,t,r),a=o.time.slice(e,n),s=o.weight.slice(e,n),i=o.stack.slice(e,n),l=n-e;c.nativeAllocations="memoryAddress"in o?{time:a,weight:s,weightType:o.weightType,stack:i,memoryAddress:o.memoryAddress.slice(e,n),threadId:o.threadId.slice(e,n),length:l}:{time:a,weight:s,weightType:o.weightType,stack:i,length:l}}return c}function Se(e,t,r){let n=0;const a=r?r[0]:0,o=r?r[1]:e.length;for(let r=a;r<o;r++){const a=e.count[r]/(0===r?t:e.time[r]-e.time[r-1]);n=Math.max(a,n)}return n}function ke(e,t){let r=-1;const n=t.getCallNodeTable(),a=t.getStackIndexToNonInvertedCallNodeIndex();for(let t=0;t<e.length;t++){const o=e.stack[t];if(null===o)continue;const s=a[o],i=n.depth[s];i>r&&(r=i)}return r+1}function Ie(e,t,r){const{responsiveness:n,eventDelay:a,stack:o,weight:s,weightType:i,threadId:l,length:c}=e,u=void 0!==e.time?V(e.time):(0,T.Nn)(e.timeDeltas),d=void 0!==t?function(e,t,r){const{threadCPUDelta:n}=e;if(!n)return;const a=new Float64Array(n.length);a[0]=0;for(let e=1;e<n.length;e++){const o=r*t[e],s=n[e];a[e]=null!==s&&0!==o&&s<=o?s/o:1}return a}(e,u,r):void 0;return{responsiveness:n,eventDelay:a,stack:o,weight:s,weightType:i,threadId:l,length:c,time:pe(e),threadCPURatio:d}}function xe(e,t,r,n,a){const{processType:o,processStartupTime:s,processShutdownTime:i,registerTime:l,unregisterTime:c,pausedRanges:u,showMarkersInTimeline:d,name:f,isMainThread:h,"eTLD+1":m,processName:p,isJsTracer:g,pid:y,tid:b,jsAllocations:T,nativeAllocations:w,markers:v,frameTable:S,funcTable:k,resourceTable:I,nativeSymbols:x,jsTracer:N,isPrivateBrowsing:_,userContextId:C}=e;return{processType:o,processStartupTime:s,processShutdownTime:i,registerTime:l,unregisterTime:c,pausedRanges:u,showMarkersInTimeline:d,name:f,isMainThread:h,"eTLD+1":m,processName:p,isJsTracer:g,pid:y,tid:b,jsAllocations:T,nativeAllocations:w,markers:v,frameTable:S,funcTable:k,resourceTable:I,nativeSymbols:x,jsTracer:N,isPrivateBrowsing:_,userContextId:C,samples:t,stackTable:r,stringTable:n,sources:a}}function Ne(e,t,r,n,a){const{jsAllocations:o,nativeAllocations:s,samples:i,markers:l}=e,c={...i,stack:r(i.stack,i.time)},u={...l,data:a(l.data)},d={...e,samples:c,markers:u,stackTable:t};return o&&(d.jsAllocations={...o,stack:n(o.stack,o.time)}),s&&(d.nativeAllocations={...s,stack:n(s.stack,s.time)}),d}function _e(e,t,r){function n(e){return e&&"cause"in e&&e.cause?{...e,cause:{...e.cause,stack:r(e.cause.stack)}}:e}return Ne(e,t,((e,t)=>e.map((e=>r(e)))),((e,t)=>e.map((e=>r(e)))),(e=>e.map(n)))}function Ce(e,t,r,n){const{jsAllocations:a,nativeAllocations:o,samples:s,markers:i}=e,l={...s,stack:s.stack.map(r)},c={...i,data:i.data.map((function(e){return e&&"cause"in e&&e.cause?{...e,cause:{...e.cause,stack:n(e.cause.stack)}}:e}))},u={...e,samples:l,markers:c,stackTable:t};return a&&(u.jsAllocations={...a,stack:a.stack.map(n)}),o&&(u.nativeAllocations={...o,stack:o.stack.map(n)}),u}function Ee(e){return t=>{if(null===t)return null;const r=e.get(t);if(void 0===r)throw new Error("Could not find a stack when converting from an old stack to new stack.");return r}}function Ae(e,t){let r,n;if("GeckoMain"===t.name)if(t["eTLD+1"])r=t["eTLD+1"],n=e.filter((e=>"GeckoMain"===e.name&&e["eTLD+1"]===r));else if(t.processName)r=t.processName,n=e.filter((e=>"GeckoMain"===e.name&&e.processName===r));else switch(t.processType){case"default":r="Parent Process";break;case"gpu":r="GPU Process";break;case"rdd":r="Remote Data Decoder";break;case"tab":r="Content Process",n=e.filter((e=>"GeckoMain"===e.name&&"tab"===e.processType));break;case"plugin":r="Plugin Process";break;case"socket":r="Socket Process"}if(r||(r=t.name),n&&n.length>1){const e=1+n.indexOf(t);r+=` (${e}/${n.length})`}return r}function Oe(e,t){let r=`${t}\n`;return r+=`Thread: "${e.name}"`,void 0!==e.tid&&(r+=` (${e.tid})`),e.processType&&(r+=`\nProcess: "${e.processType}"`,void 0!==e.pid&&(r+=` (${e.pid})`)),e.isPrivateBrowsing&&(r+="\nPrivate Browsing: Yes"),e.userContextId&&(r+=`\nContainer Id: ${e.userContextId}`),r}function Pe(e,t,r,n,a,o=null,s=null){let i=null,l=null;const c=t.resource[e];if(-1!==c){i=r.type[c];const e=r.name[c];l=n.getString(e)}const u=t.source[e];let d;if(null!==u){const e=a.filename[u];d=n.getString(e)}if(d)if(d=function(e){const t=Q.exec(e);if(null!==t&&t.groups){const{vcs:e,repo:r,path:n,rev:a}=t.groups;if("hg"!==e&&"git"!==e)throw new Error('The regexp ensures that "vcs" is "hg" or "git", so this cannot happen.');return{type:e,repo:r,path:n,rev:a}}const r=X.exec(e);if(null!==r&&r.groups){const{bucket:e,digest:t,path:n}=r.groups;return{type:"s3",bucket:e,digest:t,path:n}}const n=ee.exec(e);if(null!==n&&n.groups){const{registry:e,crate:t,version:r,path:a}=n.groups;return{type:"cargo",registry:e,crate:t,version:r,path:`${t}-${r}/${a}`}}return{type:"normal",path:e}}(d).path,null!==o)d+=":"+o,null!==s&&(d+=":"+s);else{const r=t.lineNumber[e];if(null!==r){d+=":"+r;const n=t.columnNumber[e];null!==n&&(d+=":"+n)}}return d?l&&function(e,t,r){return!e.startsWith(t)&&r!==b.AU.library}(d,l,i)?`${l}: ${d}`:d:l||""}function Me(e){const t=(0,b.ES)(e.funcTable),r=new Map,n=[b.AU.addon,b.AU.url,b.AU.webhost,b.AU.otherhost],{resourceTable:a}=e;for(let e=0;e<a.length;e++){const o=a.type[e],s=a.name[e],i=n.includes(o),l=t.length;t.isJS.push(i),t.relevantForJS.push(i),t.name.push(s),t.resource.push(e),t.source.push(null),t.lineNumber.push(null),t.columnNumber.push(null),t.length++,r.set(e,l)}return{thread:{...e,funcTable:t},reservedFunctionsForResources:r}}function Re(e,t){const r=t.asInverted();return null!==r?function(e,t){const r=t.getCallNodeTable();return function(t,n){const a=e[t],o=e[n];return a===o?0:null===a?1:null===o?-1:function(e,t,r){for(;;){const n=r.func[e],a=r.func[t];if(n!==a)return n-a;if((e=r.prefix[e])===(t=r.prefix[t]))break;if(-1===e)return-1;if(-1===t)return 1}return 0}(a,o,r)}}(e,r):(n=e,function(e,t){const r=n[e],a=n[t];return null===r?null===a?0:1:null===a?-1:r-a});var n}function Fe(e,t,r){const n=e[t];return 0!==r?`${n.name}: ${n.subcategories[r]}`:`${n.name}`}function De(e,t,r,n){let a,o;try{const t=new URL(e);if("http:"!==t.protocol&&"https:"!==t.protocol&&"moz-extension:"!==t.protocol)throw new Error("not a webhost or extension protocol");a=t.origin,o=t.host}catch(t){a=e,o=null}let s=n.get(a);return void 0!==s||(s=t.length++,n.set(a,s),o?(t.lib[s]=null,t.name[s]=r.indexForString(a),t.host[s]=r.indexForString(o),t.type[s]=b.AU.webhost):(t.lib[s]=null,t.name[s]=r.indexForString(e),t.host[s]=null,t.type[s]=b.AU.url)),s}function Le(e){return 1===e.size?(0,T.Nn)((0,T.cF)(e)):[...e].sort(((e,t)=>t-e)).join(",")}function Ue(e,t,r){const n=new Array(e.length),a=new Array(e.length);for(let o=0;o<e.length;o++){const s=e.frame[o],i=t.category[s],l=t.subcategory[s];let c,u;if(null!==i)c=i,u=l||0;else{const t=e.prefix[o];null!==t?(c=n[t],u=a[t]):(c=r,u=0)}n[o]=c,a[o]=u}return{frame:e.frame,category:n,subcategory:a,prefix:e.prefix,length:e.length}}var $e=r(3349);class je{constructor(){this._libs=[],this._libKeyToLibIndex=new Map,this._stringArray=[],this._stringTable=$e.M.withBackingArray(this._stringArray),this._sources={length:0,uuid:[],filename:[]},this._uuidToSourceIndex=new Map,this._filenameToSourceIndex=new Map}indexForLib(e){const{debugName:t,breakpadId:r}=e,n=`${t}/${r}`;let a=this._libKeyToLibIndex.get(n);if(void 0===a){a=this._libs.length;const{arch:o,name:s,path:i,debugPath:l,codeId:c}=e;this._libs.push({arch:o,name:s,path:i,debugName:t,debugPath:l,breakpadId:r,codeId:c??null}),this._libKeyToLibIndex.set(n,a)}return a}indexForSource(e,t){let r;if(null!==e)r=this._uuidToSourceIndex.get(e);else{const e=this._stringTable.indexForString(t);r=this._filenameToSourceIndex.get(e)}if(void 0===r){r=this._sources.length;const n=this._stringTable.indexForString(t);this._sources.uuid[r]=e,this._sources.filename[r]=n,this._sources.length++,null!==e?this._uuidToSourceIndex.set(e,r):this._filenameToSourceIndex.set(n,r)}return r}getStringTable(){return this._stringTable}getSources(){return this._sources}finish(){const e={stringArray:this._stringArray,sources:this._sources};return{libs:this._libs,shared:e}}}function Be(e,t,r){const n=e.get(t);return n?n.find(r):void 0}function Ge(e,t,r){const n=e.get(t);return n?n.filter(r):[]}function We(e,t,r,n,a){const o=`${a.pid}:${a.tid}`,s=e.get(o);if(s)return s;const i=(0,b.Qh)();i.pid=`${a.pid}`,i.tid=o,i.processType="unknown",i.name="Chrome Thread";const l=Be(r,"thread_name",(e=>e.pid===a.pid&&e.tid===a.tid));l&&(i.name=l.args.name,i.isMainThread=i.name.startsWith("Cr")&&i.name.endsWith("Main"));const c=Be(r,"process_name",(e=>e.pid===a.pid));c&&(i.processName=c.args.name);const u=Be(r,"process_labels",(e=>e.pid===a.pid));if(u){const e=u.args.labels;i.processName?i.processName=`${i.processName} (${e})`:i.processName=`Process ${a.pid} (${e})`}const d=Be(r,"process_sort_index",(e=>e.pid===a.pid));let f=0;d&&(f=d.args.sort_index);const h=Be(r,"thread_sort_index",(e=>e.pid===a.pid&&e.tid===a.tid));let m=0;h?m=h.args.sort_index:!l||"CrBrowserMain"!==l.args.name&&"CrGpuMain"!==l.args.name||(m=-1),n.threads.push(i);const p=new Map;p.set(void 0,null);const g={thread:i,nodeIdToStackId:p,funcKeyToFuncId:new Map,originToResourceIndex:new Map,lastSeenTime:a.ts/1e3,lastSampledTime:0,pid:a.pid,processSortIndex:f,threadSortIndex:m,tieBreakerIndex:t.size};return e.set(o,g),t.set(i,g),g}function He(e){switch(e.name){case"ProfileChunk":return e.args.data.timeDeltas;case"CpuProfile":return e.args.data.cpuProfile.timeDeltas;default:return}}function Ve(e){return new Promise((t=>{const r=new Image;r.src=e,r.addEventListener("load",(()=>{t({width:r.width,height:r.height})})),r.addEventListener("error",(()=>{t(null)}))}))}function ze(e){const t=new Set([null]);for(let r=0;r<e.length;r++){if(!t.has(e.prefix[r]))throw new Error("The stack ordering is incorrect");t.add(r)}}class Je{constructor(e){this._libs=void 0,this._libRanges=void 0,this._libs=e,this._libRanges=e.map((e=>{const t=BigInt(e.start);return{baseAddress:t-BigInt(e.offset),start:t,end:BigInt(e.end)}}))}locateAddress(e){const t=BigInt(e),r=this._libRanges;let n=0,a=r.length-1;for(;n<=a;){const e=(n+a)/2|0;if(t>=r[e].end)n=e+1;else{if(!(t<r[e].start)){const n=e,a=t-r[n].baseAddress;return{lib:this._libs[n],relativeAddress:Number(a)}}a=e-1}}return{lib:null,relativeAddress:parseInt(e,16)}}}var Ke=r(910);function qe(e,t,r){function n(t,r){if(t!==r)for(const n in e)if("length"!==n){const a=e[n],o=a[t];a[t]=a[r],a[r]=o}}return function e(a,o){if(a<o){const s=function(e,a,o){const s=t[e];let i=a,l=e;for(let e=a;e<=o;e++)r(t[e],s)<0&&(n(e,i),i===l&&(l=e),i++);return n(i,l),i}(a+o>>1,a,o);e(a,s-1),e(s+1,o)}}(0,e.length-1),e}function Ze(e){if(e){const t=e.split(" -> ");return t[t.length-1]}return e}function Ye(e){for(const t of e.threads)for(let e=0;e<t.markers.length;e++){const r=t.markers.data[e],n="default"===t.processType?0:t.processStartupTime;if(r){if("stack"in r&&r.stack&&r.stack.samples.data.length>0){const e=r.stack,t=e.samples.data[0][e.samples.schema.stack],a=e.samples.data[0][e.samples.schema.time];null!==t&&(r.cause={time:a+n,stack:t})}delete r.stack}}}function Qe(e){for(const t of[{name:"Idle",color:"transparent",subcategories:["Other"]},{name:"Other",color:"grey",subcategories:["Other"]},{name:"Layout",color:"purple",subcategories:["Other"]},{name:"JavaScript",color:"yellow",subcategories:["Other"]},{name:"GC / CC",color:"orange",subcategories:["Other"]},{name:"Network",color:"lightblue",subcategories:["Other"]},{name:"Graphics",color:"green",subcategories:["Other"]},{name:"DOM",color:"blue",subcategories:["Other"]}])-1===e.meta.categories.findIndex((e=>e.name===t.name))&&e.meta.categories.push(t);const t=e.meta.categories.findIndex((e=>"Other"===e.name)),r=new Map([["DOMEvent","DOM"],["Navigation::DOMComplete","DOM"],["Navigation::DOMInteractive","DOM"],["Navigation::Start","DOM"],["UserTiming","DOM"],["CC","GC / CC"],["GCMajor","GC / CC"],["GCMinor","GC / CC"],["GCSlice","GC / CC"],["Paint","Graphics"],["VsyncTimestamp","Graphics"],["CompositorScreenshot","Graphics"],["JS allocation","JavaScript"],["Styles","Layout"],["nsRefreshDriver::Tick waiting for paint","Layout"],["Navigation","Network"],["Network","Network"],["firstLoadURI","Other"],["IPC","Other"],["Text","Other"],["MainThreadLongTask","Other"],["FileIO","Other"],["Log","Other"],["PreferenceRead","Other"],["BHR-detected hang","Other"],["MainThreadLongTask","Other"]].map((([t,r])=>{const n=e.meta.categories.findIndex((e=>e.name===r));if(-1===n)throw new Error("Could not find a category index to map to.");return[t,n]})));for(const n of e.threads){const{markers:e,stringArray:a}=n;e.category||(e.category=[]);for(let n=0;n<e.length&&"number"!=typeof e.category[n];n++){const o=e.name[n],s=e.data[n];let i=a[o];s&&s.type&&(i="tracing"===s.type?s.category:s.type);let l=r.get(i);void 0===l&&(l=t),e.category[n]=l}}}const Xe={1:e=>{J("sorting thread markers",(()=>{for(const t of e.threads)qe(t.markers,t.markers.time,((e,t)=>e-t))}));for(const t of e.threads)"processType"in t||("Content"===t.name?(t.processType="tab",t.name="GeckoMain"):"Plugin"===t.name?t.processType="plugin":t.processType="default")},2:e=>{for(const r of e.threads)for(const n of r.libs)"debugName"in n||(n.debugName=n.pdbName,n.path=n.name,n.name=n.debugName.endsWith(".pdb")?n.debugName.substr(0,n.debugName.length-4):n.debugName,n.arch="x86_64-gcc3"===(t=e.meta.abi)?"x86_64":t,delete n.pdbName,delete n.pdbAge,delete n.pdbSignature);var t},3:e=>{for(const t of e.threads)for(const e of t.libs)e.debugPath=e.debugPath||""},4:e=>{e.threads.forEach((e=>{const{funcTable:t,stringArray:r,resourceTable:n}=e,a=$e.M.withBackingArray(r),o={length:0,type:[],name:[],lib:[],icon:[],addonId:[],host:[]};function s(e,t){const r=o.length++;o.type[r]=b.AU.library,o.name[r]=e,o.lib[r]=t}function i(e,t){const r=o.length++;o.type[r]=b.AU.webhost,o.name[r]=e,o.host[r]=t}function l(e){const t=o.length++;o.type[t]=b.AU.url,o.name[t]=e}const c=new Map,u=new Map;for(let e=0;e<n.length;e++)if(n.type[e]===b.AU.library)c.set(e,o.length),s(n.name[e],n.lib[e]);else if(n.type[e]===b.AU.url){const t=a.getString(n.name[e]);let r,s,d=null;try{const e=new URL(t);if("http:"!==e.protocol&&"https:"!==e.protocol)throw new Error("not a webhost protocol");r=e.origin,s=e.host}catch(e){r=t,s=null}if(u.has(r))d=u.get(r);else{d=o.length,u.set(r,d);const e=a.indexForString(r);s?i(e,a.indexForString(s)):l(a.indexForString(t))}c.set(e,d)}t.fileName=[],t.lineNumber=[];for(let e=0;e<t.length;e++){const r=t.resource[e];c.has(r)&&(t.resource[e]=c.get(r));let n=null,o=null;if(t.isJS[e]){const r=a.getString(t.name[e]),s=/^(.*) \((.*):([0-9]+)\)$/.exec(r)||/^()(.*):([0-9]+)$/.exec(r);if(s){const r=Ze(s[2]);s[1]?t.name[e]=a.indexForString(s[1]):t.name[e]=a.indexForString(r),n=a.indexForString(r),o=0|Number(s[3])}}t.fileName[e]=n,t.lineNumber[e]=o}e.resourceTable=o}))},5:e=>{for(const t of e.threads)delete t.samples.frameNumber},6:e=>{for(const t of e.threads){const{stringArray:e,markers:r}=t,n=[];for(let t=0;t<r.length;t++){const a=e[r.name[t]],o=r.data[t];n[t]="DOMEvent"===a?{type:"DOMEvent",startTime:o.startTime,endTime:o.endTime,eventType:o.type,phase:o.phase}:o}t.markers.data=n}},7:e=>{for(const t of e.threads)t.pausedRanges=[],t.processStartupTime=0,t.processShutdownTime=null,t.registerTime=0,t.unregisterTime=null},8:e=>{for(const t of e.threads){if("default"===t.processType)continue;const{stringArray:e,markers:r}=t,n=[];for(let a=0;a<r.length;a++){const o=e[r.name[a]],s=r.data[a];"DOMEvent"===o&&s.timeStamp?n[a]={type:"DOMEvent",startTime:s.startTime,endTime:s.endTime,timeStamp:s.timeStamp+t.processStartupTime,eventType:s.eventType,phase:s.phase}:n[a]=s}t.markers.data=n}},9:e=>{function t(e){const t=function(e){if("timings"in e&&!("status"in e.timings)){const t=e.timings;t.status="completed",Array.isArray(t.sices)&&(t.slices_list=t.slices,t.slices=t.slices.length),t.allocated_bytes=1024*t.allocated*1024}return e}(e),r=t.timings;switch(r.status){case"completed":{const{totals:e,...a}=r,o={...a,phase_times:n(e),mmu_20ms:r.mmu_20ms/100,mmu_50ms:r.mmu_50ms/100};return{type:"GCMajor",startTime:t.startTime,endTime:t.endTime,timings:o}}case"aborted":return{type:"GCMajor",startTime:t.startTime,endTime:t.endTime,timings:{status:"aborted"}};default:throw console.log("Unknown GCMajor status"),new Error("Unknown GCMajor status")}}function r(e){if("nursery"in e){if("status"in e.nursery)return"no collection"===e.nursery.status&&(e.nursery.status="nursery empty"),Object.assign(e);const t=Object.assign(e,{nursery:Object.assign(e.nursery,{status:"complete",bytes_used:e.nursery.nursery_bytes,new_capacity:e.nursery.new_nursery_bytes,phase_times:e.nursery.timings})});return delete t.nursery.nursery_bytes,delete t.nursery.new_nursery_bytes,delete t.nursery.timings,t}return e}function n(e){const t={};for(const r in e)t[r]=1e3*e[r];return t}for(const a of e.threads)for(let e=0;e<a.markers.length;e++){let o=a.markers.data[e];if(o){switch(o.type){case"GCMinor":o=r(o);break;case"GCSlice":o.timings&&o.timings.times&&(o.timings.phase_times=n(o.timings.times),delete o.timings.times);break;case"GCMajor":o=t(o)}a.markers.data[e]=o}}},10:e=>{Ye(e)},11:e=>{for(const t of e.threads){const{stringArray:e,markers:r}=t;if(0===r.length)continue;const n=[];for(let t=0;t<r.length;t++){const a=e[r.name[t]],o=r.data[t];"DOMEvent"===a&&(r.data[t]={type:"tracing",category:"DOMEvent",timeStamp:o.timeStamp,interval:"start",eventType:o.eventType,phase:o.phase},n.push({data:{type:"tracing",category:"DOMEvent",timeStamp:o.timeStamp,interval:"end",eventType:o.eventType,phase:o.phase},time:o.endTime,name:r.name[t]}))}if(n.length>0){n.sort(((e,t)=>e.time-t.time));const e={length:0,name:[],time:[],data:[]};let a=0,o=r.time[0],s=0,i=n[0].time;for(;a<r.length||s<n.length;)o<=i?(e.name.push(r.name[a]),e.time.push(r.time[a]),e.data.push(r.data[a]),e.length++,a++,o=a<r.length?r.time[a]:1/0):(e.name.push(n[s].name),e.time.push(n[s].time),e.data.push(n[s].data),e.length++,s++,i=s<n.length?n[s].time:1/0);t.markers=e}}},12:e=>{e.meta.categories=[{name:"Idle",color:"transparent"},{name:"Other",color:"grey"},{name:"JavaScript",color:"yellow"},{name:"Layout",color:"purple"},{name:"Graphics",color:"green"},{name:"DOM",color:"blue"},{name:"GC / CC",color:"orange"},{name:"Network",color:"lightblue"}];const t={16:1,32:3,64:2,128:6,256:6,512:7,1024:4,2048:1,4096:1},r=new Map([["-[GeckoNSApplication nextEventMatchingMask:untilDate:inMode:dequeue:]",0],["base::MessagePumpDefault::Run(base::MessagePump::Delegate*)",0],["mozilla::widget::WinUtils::WaitForMessage(unsigned long)",0],["mozilla::ThreadEventQueue<mozilla::PrioritizedEventQueue<mozilla::LabeledEventQueue> >::GetEvent(bool,mozilla::EventPriority *)",0],["mozilla::ThreadEventQueue<mozilla::PrioritizedEventQueue<mozilla::EventQueue> >::GetEvent(bool,mozilla::EventPriority *)",0],["mozilla::ThreadEventQueue<mozilla::EventQueue>::GetEvent(bool,mozilla::EventPriority *)",0],["mozilla::layers::PaintThread::AsyncPaintContents(mozilla::layers::CompositorBridgeChild *,mozilla::layers::CapturedPaintState *,bool (*)(mozilla::layers::CapturedPaintState *))",4],["PresShell::DoFlushPendingNotifications InterruptibleLayout",3],["nsRefreshDriver::Tick",3],["nsLayoutUtils::GetFrameForPoint",3],["nsAppShell::ProcessGeckoEvents",1],["PollWrapper(_GPollFD*, unsigned int, int)",0],["mozilla::image::DecodePoolImpl::PopWorkLocked(bool)",0],["nsCCUncollectableMarker::Observe(nsISupports*, char const*, char16_t const*)",6],["g_main_context_dispatch",1],["Events::ProcessGeckoEvents",1],["widget::ChildView::drawUsingOpenGL",1],["nsContentSink::StartLayout(bool)",3],["Paint::PresShell::Paint",4],["JS::EvaluateString",2],["js::RunScript",2]]),n=new Map([["PresShell::DoFlushPendingNotifications",3],["PresShell::DoReflow",3],["layout::DoReflow",3],["JS::Compile",2]]);function a(e){const t=r.get(e);return void 0!==t?t:n.get(function(e){const t=e.indexOf(" ");return-1===t?e:e.substr(0,t)}(e))}const o=/^(get |set )?\w+(\.\w+| constructor)$/;for(const r of e.threads){const{frameTable:e,funcTable:n,stringArray:s}=r;for(let r=0;r<e.length;r++){const i=e.func[r],l=s[n.name[i]],c=a(l);if(void 0!==c)e.category[r]=c;else{const a=e.category[r];if(null!==a)if(!n.isJS[i]&&o.test(l))e.category[r]=5;else{const n=a in t?t[a]:1;e.category[r]=n}}}}},13:e=>{const{meta:t,threads:r}=e,n=t.categories.findIndex((e=>"grey"===e.color));for(const e of r){const{stackTable:t,frameTable:r}=e;t.category=new Array(t.length);for(let e=0;e<t.length;e++){const a=t.frame[e],o=r.category[a];if(null!==o)t.category[e]=o;else{const r=t.prefix[e];t.category[e]=null!==r?t.category[r]:n}}}},14:e=>{const{threads:t}=e;for(let e=0;e<t.length;e++){const r=t[e];null!==r.pid&&void 0!==r.pid||(r.pid=`Unknown Process ${e+1}`)}},15:e=>{for(const t of e.threads){t.frameTable.column=new Array(t.frameTable.length);for(let e=0;e<t.frameTable.length;e++)t.frameTable.column[e]=null}},16:e=>{for(const t of e.threads){const{stringArray:e,markers:r}=t,n=[];for(let t=0;t<r.length;t++){const a=e[r.name[t]],o=r.data[t];switch(a){case"VsyncTimestamp":n[t]={type:"VsyncTimestamp",vsync:o.vsync};break;case"LayerTranslation":n[t]={type:"LayerTranslation",layer:o.layer,x:o.x,y:o.y};break;case"CompositorScreenshot":n[t]={type:"CompositorScreenshot",url:o.url,windowID:o.windowID,windowWidth:o.windowWidth,windowHeight:o.windowHeight};break;default:n[t]=o}}t.markers.data=n}},17:e=>{const t=/^(get |set )?\w+(\.\w+| constructor)$/;for(const r of e.threads){const{funcTable:e,stringArray:n}=r,a=$e.M.withBackingArray(n);e.relevantForJS=new Array(e.length);for(let r=0;r<e.length;r++){const n=a.getString(e.name[r]);n.startsWith("AutoEntryScript ")?(e.name[r]=a.indexForString(n.substring(16)),e.relevantForJS[r]=!0):e.relevantForJS[r]=t.test(n)}}},18:e=>{for(const t of e.threads){const{funcTable:e,stringArray:r}=t,n=$e.M.withBackingArray(r);e.columnNumber=[];for(let r=0;r<t.funcTable.length;r++)if(e.columnNumber[r]=null,e.isJS[r]){const t=e.fileName[r];if(null!==t){const a=n.getString(t),o=/^(.*):([0-9]+)$/.exec(a);o&&(e.columnNumber[r]=e.lineNumber[r],e.fileName[r]=n.indexForString(o[1]),e.lineNumber[r]=parseInt(o[2],10))}}}},19:e=>{for(const t of e.threads){const e=t.markers,r=t.processStartupTime;for(let n=0;n<t.markers.length;n++){const t=e.data[n];t&&"type"in t&&"Network"===t.type&&(t.domainLookupStart&&(t.domainLookupStart+=r),t.domainLookupEnd&&(t.domainLookupEnd+=r),t.connectStart&&(t.connectStart+=r),t.tcpConnectEnd&&(t.tcpConnectEnd+=r),t.secureConnectionStart&&(t.secureConnectionStart+=r),t.connectEnd&&(t.connectEnd+=r),t.requestStart&&(t.requestStart+=r),t.responseStart&&(t.responseStart+=r),t.responseEnd&&(t.responseEnd+=r))}}},20:e=>{},21:e=>{Ye(e)},22:e=>{for(const t of e.threads){const{stringArray:e}=t,r=$e.M.withBackingArray(e);if(!r.hasString("DiskIO"))continue;const n=r.indexForString("FileIO");for(let e=0;e<t.markers.length;e++){const r=t.markers.data[e];r&&"DiskIO"===r.type&&(r.type="FileIO",t.markers.name[e]=n)}}},23:e=>{for(const t of e.meta.categories)t.subcategories=["Other"];for(const t of e.threads){const{frameTable:e,stackTable:r}=t;e.subcategory=e.category.map((e=>null===e?null:0)),r.subcategory=r.category.map((e=>null===e?null:0))}},24:e=>{Qe(e)},25:e=>{if(e.pages&&e.pages.length>0){const t=new Map,r=new Map;let n=1,a=1;for(const o of e.pages){t.set(`d${o.docshellId}h${o.historyId}`,a);let e=r.get(o.docshellId);e||(e=n++,r.set(o.docshellId,e)),o.browsingContextID=e,o.innerWindowID=a,o.embedderInnerWindowID=0,a++,delete o.docshellId,delete o.historyId,delete o.isSubFrame}for(const r of e.threads){const{markers:e}=r;e.data=e.data.map((e=>{if(e&&void 0!==e.docShellId&&void 0!==e.docshellHistoryId){const r=t.get(`d${e.docShellId}h${e.docshellHistoryId}`);void 0===r?console.error("No page found with given docShellId and historyId"):e.innerWindowID=r,delete e.docShellId,delete e.docshellHistoryId}return e}))}}},26:e=>{if(e.counters&&e.counters.length>0)for(const t of e.counters)t.sampleGroups=[t.sampleGroups]},27:e=>{for(const t of e.threads){const{frameTable:e}=t;e.innerWindowID=new Array(e.length).fill(0)}},28:e=>{for(const t of e.threads){const{markers:r}=t;if(null===r.category[0])return void Qe(e)}},29:e=>{for(const t of e.threads)t.samples.duration&&(t.samples.weightType="samples",t.samples.weight=t.samples.duration,delete t.samples.duration),t.nativeAllocations&&(t.nativeAllocations.weightType="bytes",t.nativeAllocations.weight=t.nativeAllocations.duration,delete t.nativeAllocations.duration),t.jsAllocations&&(t.jsAllocations.weightType="bytes",t.jsAllocations.weight=t.jsAllocations.duration,delete t.jsAllocations.duration),t.samples.weight||(t.samples.weight=null),t.samples.weightType||(t.samples.weightType="samples")},30:e=>{for(const{markers:t}of e.threads){const e=t.time,r=[],n=[],a=[];delete t.time,t.startTime=r,t.endTime=n,t.phase=a;for(let o=0;o<t.length;o++){const s=t.data[o],i=e[o];let l=i,c=null,u=0;if(s){const{startTime:e,endTime:t,type:r,interval:n}=s;"tracing"===r?"start"===n?(l=i,c=null,u=2):(l=null,c=i,u=3):e!==t&&"number"==typeof e&&"number"==typeof t&&(l=e,c=t,u=1),"IPC"!==s.type&&"Network"!==s.type&&(delete s.startTime,delete s.endTime)}r.push(l),n.push(c),a.push(u)}}},31:e=>{for(const{markers:t}of e.threads)for(let e=0;e<t.length;e++){const r=t.data[e];if(r){const{type:n,interval:a}=r;"tracing"===n&&"start"!==a&&"end"!==a&&(t.phase[e]=0,t.startTime[e]=t.endTime[e],t.endTime[e]=null)}}},32:e=>{for(const{markers:t}of e.threads)for(let e=0;e<t.length;e++){const r=t.data[e];if(r&&"tracing"===r.type&&"DOMEvent"===r.category){const n=t.startTime[e];r.type="DOMEvent",void 0!==r.timeStamp&&null!==n&&(r.latency=n-r.timeStamp),delete r.timeStamp}}},33:e=>{e.meta.markerSchema=[{name:"GCMajor",display:["marker-chart","marker-table","timeline-memory"],data:[]},{name:"GCMinor",display:["marker-chart","marker-table","timeline-memory"],data:[]},{name:"GCSlice",display:["marker-chart","marker-table","timeline-memory"],data:[]},{name:"CC",tooltipLabel:"Cycle Collect",display:["marker-chart","marker-table","timeline-memory"],data:[]},{name:"FileIO",display:["marker-chart","marker-table"],data:[{key:"operation",label:"Operation",format:"string",searchable:!0},{key:"source",label:"Source",format:"string",searchable:!0},{key:"filename",label:"Filename",format:"file-path",searchable:!0}]},{name:"MediaSample",display:["marker-chart","marker-table"],data:[{key:"sampleStartTimeUs",label:"Sample start time",format:"microseconds"},{key:"sampleEndTimeUs",label:"Sample end time",format:"microseconds"}]},{name:"Styles",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"elementsTraversed",label:"Elements traversed",format:"integer"},{key:"elementsStyled",label:"Elements styled",format:"integer"},{key:"elementsMatched",label:"Elements matched",format:"integer"},{key:"stylesShared",label:"Styles shared",format:"integer"},{key:"stylesReused",label:"Styles reused",format:"integer"}]},{name:"PreferenceRead",display:["marker-chart","marker-table"],data:[{key:"prefName",label:"Name",format:"string"},{key:"prefKind",label:"Kind",format:"string"},{key:"prefType",label:"Type",format:"string"},{key:"prefValue",label:"Value",format:"string"}]},{name:"UserTiming",tooltipLabel:"{marker.data.name}",chartLabel:"{marker.data.name}",tableLabel:"{marker.data.name}",display:["marker-chart","marker-table"],data:[{label:"Marker",value:"UserTiming"},{key:"entryType",label:"Entry Type",format:"string"},{label:"Description",value:"UserTiming is created using the DOM APIs performance.mark() and performance.measure()."}]},{name:"Text",tableLabel:"{marker.name} {marker.data.name}",chartLabel:"{marker.name} {marker.data.name}",display:["marker-chart","marker-table"],data:[{key:"name",label:"Details",format:"string"}]},{name:"Log",display:["marker-table"],tableLabel:"({marker.data.module}) {marker.data.name}",data:[{key:"module",label:"Module",format:"string"},{key:"name",label:"Name",format:"string"}]},{name:"DOMEvent",tooltipLabel:"{marker.data.eventType}  DOMEvent",tableLabel:"{marker.data.eventType}",chartLabel:"{marker.data.eventType}",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"latency",label:"Latency",format:"duration"}]},{name:"Paint",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"category",label:"Type",format:"string"}]},{name:"Navigation",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"category",label:"Type",format:"string"}]},{name:"Layout",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"category",label:"Type",format:"string"}]},{name:"IPC",tooltipLabel:"IPC {marker.data.niceDirection}",tableLabel:"{marker.name}  {marker.data.messageType}  {marker.data.niceDirection}",chartLabel:"{marker.data.messageType}",display:["marker-chart","marker-table","timeline-ipc"],data:[{key:"messageType",label:"Type",format:"string"},{key:"sync",label:"Sync",format:"string"},{key:"sendThreadName",label:"From",format:"string"},{key:"recvThreadName",label:"To",format:"string"}]},{name:"RefreshDriverTick",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"name",label:"Tick Reasons",format:"string"}]},{name:"Network",display:["marker-table"],data:[]}]},34:e=>{for(const t of e.threads){const e=t.processStartupTime,{markers:r}=t;for(const t of r.data)t&&"tracing"!==t.type&&"Styles"!==t.type&&t.cause&&void 0!==t.cause.time&&(t.cause.time+=e)}},35:e=>{if(e.meta.configuration&&e.meta.configuration.activeBrowsingContextID&&(e.meta.configuration.activeTabID=e.meta.configuration.activeBrowsingContextID,delete e.meta.configuration.activeBrowsingContextID),e.pages&&e.pages.length>0)for(const t of e.pages)t.tabID=t.browsingContextID,delete t.browsingContextID},36:e=>{for(const t of e.threads){const e={libIndex:[],address:[],name:[],length:0},{frameTable:r,funcTable:n,resourceTable:a}=t,o=new Map;for(let t=0;t<n.length;t++){const r=n.resource[t];if(-1===r)continue;if(a.type[r]!==b.AU.library)continue;const s=a.lib[r];if(null==s||-1===s)continue;const i=n.address[t],l=e.length;e.libIndex.push(s),e.address.push(-1===i?null:i),e.name.push(n.name[t]),e.length++,o.set(t,l)}delete n.address,r.nativeSymbol=r.func.map((e=>o.get(e)??null)),t.nativeSymbols=e}},37:e=>{for(const t of e.threads)"Java Main Thread"===t.name&&(t.name="AndroidUI (JVM)")},38:e=>{for(const t of e.threads){const e=new Set,r=new Set,{samples:n,markers:a,jsAllocations:o,nativeAllocations:s,stackTable:i,frameTable:l}=t;for(let t=0;t<n.length;t++){const r=n.stack[t];null!==r&&e.add(r)}for(let e=0;e<a.length;e++){const t=a.data[e];if(t&&t.cause){const e=t.cause.stack;null!==e&&r.add(e)}}if(void 0!==o)for(let e=0;e<o.length;e++){const t=o.stack[e];null!==t&&r.add(t)}if(void 0!==s)for(let e=0;e<s.length;e++){const t=s.stack[e];null!==t&&r.add(t)}const c=new Uint32Array(l.length),u=new Set;for(const t of e){const e=i.frame[t];c[e]=e,-1!==l.address[e]&&u.add(e)}const d=new Map,f=new Set;for(const e of r){const t=i.frame[e],r=l.address[t];-1!==r&&d.set(t,r)}for(let e=0;e<i.length;e++){const t=i.prefix[e];if(null===t||f.has(t))continue;f.add(t);const r=i.frame[t],n=l.address[r];-1!==n&&d.set(r,n)}if(0===u.size&&0===d.size)continue;for(const[e,t]of d){if(u.has(e)){const r=l.length;l.address.push(t),l.category.push(l.category[e]),l.subcategory.push(l.subcategory[e]),l.func.push(l.func[e]),l.nativeSymbol.push(l.nativeSymbol[e]),l.innerWindowID.push(l.innerWindowID[e]),l.implementation.push(l.implementation[e]),l.line.push(l.line[e]),l.column.push(l.column[e]),l.optimizations.push(l.optimizations[e]),l.length++,c[e]=r}l.address[e]=t-1}const h={frame:[],prefix:[],category:[],subcategory:[],length:0},m=new Map,p=new Map,g=new Uint32Array(i.length);for(let t=0;t<i.length;t++){const n=i.frame[t],a=i.category[t],o=i.subcategory[t],s=i.prefix[t],l=null===s?null:g[s];if(f.has(t)||r.has(t)){const e=h.length;h.frame.push(n),h.category.push(a),h.subcategory.push(o),h.prefix.push(l),h.length++,g[t]=e,p.set(t,e)}if(e.has(t)){const e=c[n],r=h.length;h.frame.push(e),h.category.push(a),h.subcategory.push(o),h.prefix.push(l),h.length++,m.set(t,r)}}t.stackTable=h,n.stack=n.stack.map((e=>null===e?null:m.get(e)??null)),a.data.forEach((e=>{e&&"cause"in e&&e.cause&&(e.cause.stack=p.get(e.cause.stack))})),void 0!==o&&(o.stack=o.stack.map((e=>null===e?null:p.get(e)??null))),void 0!==s&&(s.stack=s.stack.map((e=>null===e?null:p.get(e)??null)))}},39:e=>{for(const t of e.threads)t.samples.threadCPUDelta&&(t.samples.threadCPUDelta.some((e=>null!==e))||delete t.samples.threadCPUDelta)},40:e=>{for(const t of e.threads)t.frameTable.inlineDepth=Array(t.frameTable.length).fill(0)},41:e=>{const t=[],r=new Map;for(const n of e.threads){const{libs:e,resourceTable:a,nativeSymbols:o,stringArray:s}=n,i=$e.M.withBackingArray(s),l=new Map;delete n.libs;const c=n=>{let a=l.get(n);if(void 0===a){const o=e[n],{debugName:s,breakpadId:i}=o,c=`${s}/${i}`;if(a=r.get(c),void 0===a){a=t.length;const{arch:e,name:n,path:l,debugPath:u,codeId:d}=o;t.push({arch:e,name:n,path:l,debugName:s,debugPath:u,breakpadId:i,codeId:d??null}),r.set(c,a)}l.set(n,a)}return a};for(let e=0;e<a.length;e++){const t=a.name[e];-1!==t&&null!=t||(a.name[e]=i.indexForString("<unnamed resource>"));const r=a.host[e];-1!==r&&void 0!==r||(a.host[e]=null);const n=a.lib[e];if(null==n||-1===n){a.lib[e]=null;continue}const o=c(n);a.lib[e]=o}for(let e=0;e<o.length;e++){const t=c(o.libIndex[e]);o.libIndex[e]=t}}e.libs=t},42:e=>{for(const t of e.threads){const{nativeSymbols:e}=t;e.functionSize=Array(e.length).fill(null)}},43:e=>{},44:e=>{for(const t of e.meta.markerSchema){let e;switch(t.name){case"FileIO":t.data.push({key:"threadId",label:"Thread ID",format:"string",searchable:!0}),e=[];break;case"Log":e=["name","module"];break;case"DOMEvent":t.data.push({key:"eventType",label:"Event Type",format:"string",searchable:!0}),e=["target"];break;case"TraceEvent":e=["name1","name2","val1","val2"];break;default:e=["name","category"]}for(const r of t.data)e.includes(r.key)&&(r.searchable=!0)}},45:e=>{for(const t of e.threads)delete t.frameTable.optimizations},46:e=>{for(const t of e.threads)t.isMainThread="GeckoMain"===t.name||"string"==typeof t.pid||String(t.pid)===t.tid},47:e=>{for(const t of e.threads){t.pid=`${t.pid}`;for(const e of t.markers.data)e&&"IPC"===e.type&&(e.otherPid=`${e.otherPid}`)}if(e.counters)for(const t of e.counters)t.pid=`${t.pid}`;if(e.profilerOverhead)for(const t of e.profilerOverhead)t.pid=`${t.pid}`},48:e=>{if(e.counters&&e.counters.length>0)for(const t of e.counters)t.samples=t.sampleGroups[0].samples,delete t.sampleGroups},49:e=>{},50:e=>{},51:e=>{},52:e=>{const t=new Set(e.meta.markerSchema.map((e=>e.name))),r="tracingCCFrom52Upgrader",n=t.has("CC");let a=!1,o=!1;for(const t of e.threads){const{markers:e}=t;for(let t=0;t<e.length;t++){const s=e.data[t];s&&"tracing"===s.type&&s.category&&(a=!0,n&&"CC"===s.category&&(s.type=r,o=!0,s.interval&&delete s.interval))}}a&&!t.has("tracing")&&e.meta.markerSchema.push({name:"tracing",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"category",label:"Type",format:"string"}]}),o&&e.meta.markerSchema.push({name:r,display:["marker-chart","marker-table","timeline-memory"],data:[{key:"category",label:"Type",format:"string"}]})},53:e=>{for(const t of e.threads){const{frameTable:e,stackTable:r}=t;if(e.category)e.subcategory||(e.subcategory=new Array(e.length).fill(0));else{e.category=new Array(e.length).fill(null),e.subcategory=new Array(e.length).fill(null);for(let t=0;t<r.length;t++){const n=r.frame[t];e.category[n]=r.category[t],e.subcategory[n]=r.subcategory[t]}}delete r.category,delete r.subcategory}},54:e=>{!function(e){const{categories:t}=e.meta;if(!t)return;if(t.some((e=>1!==e.subcategories.length)))return;const r=t.findIndex((e=>"JavaScript"===e.name));if(-1===r)return;const n=t[r].subcategories,a=new Map;for(const t of e.threads){const{frameTable:e,stringArray:o}=t;for(let t=0;t<e.length;t++){const s=e.implementation[t];if(null===s)continue;const i=o[s];let l=a.get(i);void 0===l&&(l=n.length,n[l]=`JIT (${i})`,a.set(i,l)),e.category[t]=r,e.subcategory[t]=l}}}(e);for(const t of e.threads)delete t.frameTable.implementation;delete e.meta.doesNotUseFrameImplementation},55:e=>{for(const t of e.meta.markerSchema){const e=t.data.filter((e=>void 0===e.key)),r=t.data.filter((e=>void 0===e.value));if(t.fields=r,delete t.data,0===e.length)continue;let n=e.findIndex((e=>"Description"===e.label));-1===n&&(n=0);const a=e[n].value;t.description=a;const o=e.filter(((e,t)=>t!==n)).filter((e=>"Marker"!==e.label&&"UserTiming"!==e.value));0!==o.length&&console.warn(`Discarding the following static fields from marker schema "${t.name}": ${o.map((e=>e.label+": "+e.value)).join(", ")}`)}},56:e=>{const t=[],r=$e.M.withBackingArray(t),n=new Map;n.set("CompositorScreenshot",["url"]);for(const t of e.meta.markerSchema){const{name:e,fields:r}=t,a=[];for(const e of r)"unique-string"!==e.format&&"flow-id"!==e.format&&"terminating-flow-id"!==e.format||a.push(e.key);0!==a.length&&n.set(e,a)}for(const t of e.threads){const{markers:e,funcTable:a,nativeSymbols:o,resourceTable:s,jsTracer:i,stringArray:l}=t;for(let t=0;t<e.length;t++){const a=l[e.name[t]];e.name[t]=r.indexForString(a);const o=e.data[t];if(!o||!o.type)continue;const s=n.get(o.type);if(void 0!==s)for(const e of s){const t=l[o[e]];void 0!==t&&(o[e]=r.indexForString(t))}}for(let e=0;e<a.length;e++){a.name[e]=r.indexForString(l[a.name[e]]);const t=a.fileName[e];null!==t&&(a.fileName[e]=r.indexForString(l[t]))}for(let e=0;e<o.length;e++)o.name[e]=r.indexForString(l[o.name[e]]);for(let e=0;e<s.length;e++){s.name[e]=r.indexForString(l[s.name[e]]);const t=s.host[e];null!==t&&(s.host[e]=r.indexForString(l[t]))}if(void 0!==i)for(let e=0;e<i.length;e++)i.events[e]=r.indexForString(l[i.events[e]]);delete t.stringArray}e.shared={stringArray:t}},57:e=>{for(const t of e.meta.markerSchema)for(const e of t.fields)delete e.searchable},58:e=>{const t={length:0,uuid:[],filename:[]},r=new Map;for(const n of e.threads){const{funcTable:e}=n,a=new Array(e.length);for(let n=0;n<e.length;n++){const o=e.fileName[n];if(null===o)a[n]=null;else{let e=r.get(o);void 0===e&&(e=t.length,t.uuid.push(null),t.filename.push(o),t.length++,r.set(o,e)),a[n]=e}}e.source=a,delete e.fileName}e.shared||(e.shared={}),e.shared.sources=t}};function et(e){if(e&&"object"==typeof e&&"meta"in e&&e.meta&&"object"==typeof e.meta)return e.meta;throw new Error("Could not find the meta property on a profile.")}const tt={1:()=>{throw new Error("Gecko profiles without version numbers are very old and no conversion code has been written for that version of the profile format.")},2:()=>{throw new Error("Gecko profile version 1 is very old and no conversion code has been written for that version of the profile format.")},3:()=>{throw new Error("Gecko profile version 2 is very old and no conversion code has been written for that version of the profile format.")},4:e=>{!function e(t){t.libs=JSON.parse(t.libs).map((e=>{if("breakpadId"in e)e.debugName=e.name.substr(e.name.lastIndexOf("/")+1);else{e.debugName=e.pdbName;const t=e.pdbSignature.replace(/[{}-]/g,"").toUpperCase();e.breakpadId=t+e.pdbAge}var r;return delete e.pdbName,delete e.pdbAge,delete e.pdbSignature,e.path=e.name,e.name=e.debugName.endsWith(".pdb")?e.debugName.substr(0,e.debugName.length-4):e.debugName,e.arch="x86_64-gcc3"===(r=t.meta.abi)?"x86_64":r,e.debugPath="",e})).sort(((e,t)=>e.start-t.start));for(let r=0;r<t.threads.length;r++)if("string"==typeof t.threads[r]){const n=JSON.parse(t.threads[r]);e(n),t.threads[r]=JSON.stringify(n)}else{const e=t.threads[r];"processType"in e||("Content"===e.name?(e.processType="tab",e.name="GeckoMain"):"Plugin"===e.name?e.processType="plugin":e.processType="default")}t.meta.version=4}(e)},5:e=>{!function e(t){const r=t.threads.map((t=>{if("string"==typeof t){const r=JSON.parse(t);return e(r),{type:"process",data:r}}return{type:"thread",data:t}}));t.processes=r.filter((e=>"process"===e.type)).map((e=>e.data)),t.threads=r.filter((e=>"thread"===e.type)).map((e=>e.data)),t.meta.version=5}(e)},6:e=>{!function e(t){for(const e of t.threads){delete e.samples.schema.frameNumber;for(let t=0;t<e.samples.data.length;t++)e.samples.data[t].splice(5)}for(const r of t.processes)e(r)}(e)},7:e=>{!function e(t){for(const e of t.threads){const t=e.markers.schema.name,r=e.markers.schema.data;for(let n=0;n<e.markers.data.length;n++)if("DOMEvent"===e.stringTable[e.markers.data[n][t]]){const t=e.markers.data[n][r];t.eventType=t.type,t.type="DOMEvent"}}for(const r of t.processes)e(r)}(e)},8:e=>{!function e(t){t.pausedRanges=[],t.meta.shutdownTime=null;for(const e of t.threads)e.registerTime=0,e.unregisterTime=null;for(const r of t.processes)e(r)}(e)},9:e=>{function t(e){if("timings"in e&&!("status"in e.timings)){const t=e.timings;t.status="completed",Array.isArray(t.sices)&&(t.slices_list=t.slices,t.slices=t.slices.length),t.allocated_bytes=1024*t.allocated*1024}return e}function r(e){if("nursery"in e){if("status"in e.nursery)return"no collection"===e.nursery.status&&(e.nursery.status="nursery empty"),Object.assign(e);const t=Object.assign(e,{nursery:Object.assign(e.nursery,{status:"complete",bytes_used:e.nursery.nursery_bytes,new_capacity:e.nursery.new_nursery_bytes,phase_times:e.nursery.timings})});return delete t.nursery.nursery_bytes,delete t.nursery.new_nursery_bytes,delete t.nursery.timings,t}return e}!function e(n){for(const e of n.threads){const n=e.markers.schema.data;for(let a=0;a<e.markers.data.length;a++){let o=e.markers.data[a][n];if(o){switch(o.type){case"GCMinor":o=r(o);break;case"GCMajor":o=t(o)}e.markers.data[a][n]=o}}}for(const t of n.processes)e(t)}(e)},10:e=>{!function e(t){for(const e of t.threads){const{markers:t}=e,r=t.schema.name,n=t.schema.data,a=t.schema.time,o=[];for(let s=0;s<t.data.length;s++){const i=t.data[s],l=e.stringTable[i[r]],c=i[n];if("DOMEvent"===l&&"tracing"!==c.type){const e=[];e[n]={type:"tracing",category:"DOMEvent",timeStamp:c.timeStamp,interval:"end",eventType:c.eventType,phase:c.phase},e[a]=c.endTime,e[r]=i[r],o.push(e),i[a]=c.startTime,i[n]={type:"tracing",category:"DOMEvent",timeStamp:c.timeStamp,interval:"start",eventType:c.eventType,phase:c.phase}}}t.data=t.data.concat(o)}for(const r of t.processes)e(r)}(e)},11:e=>{let t=0;!function e(r){for(const e of r.threads)null!==e.pid&&void 0!==e.pid||(e.pid="Unknown Process "+ ++t);for(const t of r.processes)e(t)}(e);const r=[{name:"Idle",color:"transparent"},{name:"Other",color:"grey"},{name:"JavaScript",color:"yellow"},{name:"Layout",color:"purple"},{name:"Graphics",color:"green"},{name:"DOM",color:"blue"},{name:"GC / CC",color:"orange"},{name:"Network",color:"lightblue"}],n={16:1,32:3,64:2,128:6,256:6,512:7,1024:4,2048:1,4096:1};!function e(t){t.meta.categories=r;for(const e of t.threads){const t=e.frameTable.schema.category;for(const r of e.frameTable.data)t in r&&null!==r[t]&&(r[t]in n?r[t]=n[r[t]]:r[t]=1)}for(const r of t.processes)e(r)}(e)},12:e=>{!function e(t){for(const e of t.threads){const t=e.frameTable.schema.category;for(const r of e.frameTable.data)r.hasOwnProperty(t)&&(r[5]=r[4],r[4]=null);e.frameTable.schema.category=5,e.frameTable.schema.column=4}for(const r of t.processes)e(r)}(e)},13:e=>{!function e(t){for(const e of t.threads){const t=e.markers.schema.name,r=e.markers.schema.data;for(let n=0;n<e.markers.data.length;n++){const a=e.stringTable[e.markers.data[n][t]],o=e.markers.data[n][r];switch(a){case"VsyncTimestamp":case"LayerTranslation":case"CompositorScreenshot":o.type=a,delete o.category}}}for(const r of t.processes)e(r)}(e)},14:e=>{const t=/^(get |set )?\w+(\.\w+| constructor)$/;!function e(r){for(const e of r.threads){e.frameTable.schema={location:0,relevantForJS:1,implementation:2,optimizations:3,line:4,column:5,category:6};const r=e.frameTable.schema.location,n=e.frameTable.schema.relevantForJS,a=$e.M.withBackingArray(e.stringTable);for(let o=0;o<e.frameTable.data.length;o++){const s=e.frameTable.data[o];s.splice(n,0,!1);const i=a.getString(s[r]);i.startsWith("AutoEntryScript ")?(s[n]=!0,s[r]=a.indexForString(i.substring(16))):s[n]=t.test(i)}}for(const t of r.processes)e(t)}(e)},15:e=>{!function e(t){for(const e of t.threads){const t=$e.M.withBackingArray(e.stringTable);if(!t.hasString("DiskIO"))continue;const r=t.indexForString("FileIO"),n=e.markers.schema.name,a=e.markers.schema.data;for(let t=0;t<e.markers.data.length;t++){const o=e.markers.data[t],s=o[a];s&&"DiskIO"===s.type&&(o[n]=r,s.type="FileIO")}}for(const r of t.processes)e(r)}(e)},16:e=>{!function e(t){for(const e of t.meta.categories)e.subcategories=["Other"];for(const e of t.threads){const{frameTable:t}=e;t.schema.subcategory=7;for(let e=0;e<t.data.length;e++)t.data[e][t.schema.category]&&(t.data[e][t.schema.subcategory]=0)}for(const r of t.processes)e(r)}(e);for(const t of[{name:"Idle",color:"transparent",subcategories:["Other"]},{name:"Other",color:"grey",subcategories:["Other"]},{name:"Layout",color:"purple",subcategories:["Other"]},{name:"JavaScript",color:"yellow",subcategories:["Other"]},{name:"GC / CC",color:"orange",subcategories:["Other"]},{name:"Network",color:"lightblue",subcategories:["Other"]},{name:"Graphics",color:"green",subcategories:["Other"]},{name:"DOM",color:"blue",subcategories:["Other"]}])-1===e.meta.categories.findIndex((e=>e.name===t.name))&&e.meta.categories.push(t);const t=e.meta.categories.findIndex((e=>"Other"===e.name)),r=new Map([["DOMEvent","DOM"],["Navigation::DOMComplete","DOM"],["Navigation::DOMInteractive","DOM"],["Navigation::Start","DOM"],["UserTiming","DOM"],["CC","GC / CC"],["GCMajor","GC / CC"],["GCMinor","GC / CC"],["GCSlice","GC / CC"],["Paint","Graphics"],["VsyncTimestamp","Graphics"],["CompositorScreenshot","Graphics"],["JS allocation","JavaScript"],["Styles","Layout"],["nsRefreshDriver::Tick waiting for paint","Layout"],["Navigation","Network"],["Network","Network"],["firstLoadURI","Other"],["IPC","Other"],["Text","Other"],["MainThreadLongTask","Other"],["FileIO","Other"],["Log","Other"],["PreferenceRead","Other"],["BHR-detected hang","Other"],["MainThreadLongTask","Other"]].map((([t,r])=>{const n=e.meta.categories.findIndex((e=>e.name===r));if(-1===n)throw new Error("Could not find a category index to map to.");return[t,n]})));!function e(n){for(const e of n.threads){const{markers:n,stringTable:a}=e;if(void 0!==n.schema.category)return;n.schema.category=3;for(let e=0;e<n.data.length;e++){const o=n.data[e][n.schema.name],s=n.data[e][n.schema.data];let i=a[o];s&&s.type&&(i="tracing"===s.type?s.category:s.type);let l=r.get(i);void 0===l&&(l=t),n.data[e][n.schema.category]=l}}for(const t of n.processes)e(t)}(e)},17:e=>{let t=1,r=1;!function e(n){if(n.pages&&n.pages.length>0){const e=new Map,a=new Map;for(const o of n.pages){e.set(`d${o.docshellId}h${o.historyId}`,r);let n=a.get(o.docshellId);n||(n=t++,a.set(o.docshellId,n)),o.browsingContextID=n,o.innerWindowID=r,o.embedderInnerWindowID=0,r++,delete o.docshellId,delete o.historyId,delete o.isSubFrame}for(const t of n.threads){const{markers:r}=t,n=r.schema.data;for(let r=0;r<t.markers.data.length;r++){const a=t.markers.data[r][n];if(a&&void 0!==a.docShellId&&void 0!==a.docshellHistoryId){const t=e.get(`d${a.docShellId}h${a.docshellHistoryId}`);void 0===t?console.error("No page found with given docShellId and historyId"):a.innerWindowID=t,delete a.docShellId,delete a.docshellHistoryId}}}}for(const t of n.processes)e(t)}(e)},18:e=>{!function e(t){if(t.counters&&t.counters.length>0)for(const e of t.counters)"samples"in e.sample_groups?e.sample_groups=[e.sample_groups]:e.sample_groups=[];for(const r of t.processes)e(r)}(e)},19:e=>{!function e(t){for(const e of t.threads){const{frameTable:t}=e;t.schema={location:0,relevantForJS:1,innerWindowID:2,implementation:3,optimizations:4,line:5,column:6,category:7,subcategory:8};for(let e=0;e<t.data.length;e++){const r=t.schema.innerWindowID;t.data[e].splice(r,0,0)}}for(const r of t.processes)e(r)}(e)},20:e=>{!function e(t){for(const e of t.threads){const{markers:t}=e,r=t.schema,n={name:0,startTime:1,endTime:2,phase:3,category:4,data:5};t.schema=n;for(let e=0;e<t.data.length;e++){const a=t.data[e],o=a[r.name],s=a[r.time],i=a[r.category],l=a[r.data];let c=s,u=null,d=0;if(l){const{startTime:e,endTime:t,type:r,interval:n}=l;"tracing"===r?"start"===n?(c=s,u=null,d=2):"end"===n&&(c=null,u=s,d=3):e!==t&&"number"==typeof e&&"number"==typeof t&&(c=e,u=t,d=1),"IPC"!==l.type&&"Network"!==l.type&&(delete l.startTime,delete l.endTime)}const f=[];f[n.name]=o,f[n.startTime]=c,f[n.endTime]=u,f[n.phase]=d,f[n.category]=i,f[n.data]=l,t.data[e]=f}}for(const r of t.processes)e(r)}(e)},21:e=>{!function e(t){for(const e of t.threads){const{markers:t}=e;for(let e=0;e<t.data.length;e++){const r=t.data[e],n=r[t.schema.data];if(n&&"tracing"===n.type&&"DOMEvent"===n.category){const e=r[t.schema.startTime];n.type="DOMEvent",void 0!==n.timeStamp&&(n.latency=e-n.timeStamp),delete n.timeStamp}}}for(const r of t.processes)e(r)}(e)},22:e=>{const t=e;t.meta.markerSchema=[{name:"GCMajor",display:["marker-chart","marker-table","timeline-memory"],data:[]},{name:"GCMinor",display:["marker-chart","marker-table","timeline-memory"],data:[]},{name:"GCSlice",display:["marker-chart","marker-table","timeline-memory"],data:[]},{name:"CC",tooltipLabel:"Cycle Collect",display:["marker-chart","marker-table","timeline-memory"],data:[]},{name:"FileIO",display:["marker-chart","marker-table"],data:[{key:"operation",label:"Operation",format:"string",searchable:!0},{key:"source",label:"Source",format:"string",searchable:!0},{key:"filename",label:"Filename",format:"file-path",searchable:!0}]},{name:"MediaSample",display:["marker-chart","marker-table"],data:[{key:"sampleStartTimeUs",label:"Sample start time",format:"microseconds"},{key:"sampleEndTimeUs",label:"Sample end time",format:"microseconds"}]},{name:"Styles",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"elementsTraversed",label:"Elements traversed",format:"integer"},{key:"elementsStyled",label:"Elements styled",format:"integer"},{key:"elementsMatched",label:"Elements matched",format:"integer"},{key:"stylesShared",label:"Styles shared",format:"integer"},{key:"stylesReused",label:"Styles reused",format:"integer"}]},{name:"PreferenceRead",display:["marker-chart","marker-table"],data:[{key:"prefName",label:"Name",format:"string"},{key:"prefKind",label:"Kind",format:"string"},{key:"prefType",label:"Type",format:"string"},{key:"prefValue",label:"Value",format:"string"}]},{name:"UserTiming",tooltipLabel:"{marker.data.name}",chartLabel:"{marker.data.name}",tableLabel:"{marker.data.name}",display:["marker-chart","marker-table"],data:[{label:"Marker",value:"UserTiming"},{key:"entryType",label:"Entry Type",format:"string"},{label:"Description",value:"UserTiming is created using the DOM APIs performance.mark() and performance.measure()."}]},{name:"Text",tableLabel:"{marker.name} {marker.data.name}",chartLabel:"{marker.name} {marker.data.name}",display:["marker-chart","marker-table"],data:[{key:"name",label:"Details",format:"string"}]},{name:"Log",display:["marker-table"],tableLabel:"({marker.data.module}) {marker.data.name}",data:[{key:"module",label:"Module",format:"string"},{key:"name",label:"Name",format:"string"}]},{name:"DOMEvent",tooltipLabel:"{marker.data.eventType}  DOMEvent",tableLabel:"{marker.data.eventType}",chartLabel:"{marker.data.eventType}",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"latency",label:"Latency",format:"duration"}]},{name:"Paint",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"category",label:"Type",format:"string"}]},{name:"Navigation",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"category",label:"Type",format:"string"}]},{name:"Layout",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"category",label:"Type",format:"string"}]},{name:"IPC",tooltipLabel:"IPC {marker.data.niceDirection}",tableLabel:"{marker.name}  {marker.data.messageType}  {marker.data.niceDirection}",chartLabel:"{marker.data.messageType}",display:["marker-chart","marker-table","timeline-ipc"],data:[{key:"messageType",label:"Type",format:"string"},{key:"sync",label:"Sync",format:"string"},{key:"sendThreadName",label:"From",format:"string"},{key:"recvThreadName",label:"To",format:"string"}]},{name:"RefreshDriverTick",display:["marker-chart","marker-table","timeline-overview"],data:[{key:"name",label:"Tick Reasons",format:"string"}]},{name:"Network",display:["marker-table"],data:[]}];for(const e of t.processes)e.meta.markerSchema=[]},23:e=>{!function t(r){if(e.meta.configuration&&e.meta.configuration.activeBrowsingContextID&&(e.meta.configuration.activeTabID=e.meta.configuration.activeBrowsingContextID,delete e.meta.configuration.activeBrowsingContextID),r.pages&&r.pages.length>0)for(const e of r.pages)e.tabID=e.browsingContextID,delete e.browsingContextID;for(const e of r.processes)t(e)}(e)},24:e=>{},25:e=>{},26:e=>{!function e(t){for(const e of t.meta.markerSchema){let t;switch(e.name){case"FileIO":e.data.push({key:"threadId",label:"Thread ID",format:"string",searchable:!0}),t=[];break;case"Log":t=["name","module"];break;case"DOMEvent":e.data.push({key:"eventType",label:"Event Type",format:"string",searchable:!0}),t=["target"];break;case"TraceEvent":t=["name1","name2","val1","val2"];break;default:t=["name","category"]}for(const r of e.data)t.includes(r.key)&&(r.searchable=!0)}for(const r of t.processes)e(r)}(e)},27:e=>{!function e(t){for(const e of t.threads)delete e.frameTable.schema.optimizations;for(const r of t.processes)e(r)}(e)},28:e=>{},29:e=>{!function e(t){if(t.counters&&t.counters.length>0)for(const e of t.counters)e.sample_groups&&(e.samples=e.sample_groups[0].samples,delete e.sample_groups);for(const r of t.processes)e(r)}(e)},30:e=>{},31:e=>{},32:e=>{}},rt=[{name:"User",color:"yellow",subcategories:["Other"]},{name:"Kernel",color:"orange",subcategories:["Other"]}];function nt(e){const t=new Map;function r(e,r,n,a,o){let s=t.get(r);void 0===s&&(s=function(e,t,r){const n={schema:{name:0,startTime:1,endTime:2,phase:3,category:4,data:5},data:[]},a={schema:{stack:0,time:1,responsiveness:2},data:[]},o={schema:{location:0,relevantForJS:1,innerWindowID:2,implementation:3,optimizations:4,line:5,column:6,category:7,subcategory:8},data:[]},s={schema:{prefix:0,frame:1},data:[]},i=[],l=new Map,c=new Map;return{addSample:function(t,r,n){e!==t&&(e=t);const u=r.reduce(((e,t)=>function(e,t){const r=null===t?`${e}`:`${e},${t}`;let n=l.get(r);return void 0===n&&(n=s.data.length,s.data.push([t,e]),l.set(r,n)),n}(function(e){let t=c.get(e);if(void 0===t){t=o.data.length;const r=i.length;i.push(e);const n=e.includes("kallsyms")||e.includes("/vmlinux)")||e.endsWith(".ko)")?1:0,a=null,s=null,l=null,u=!1,d=null,f=0,h=null;o.data.push([r,u,f,a,s,l,h,n,d]),c.set(e,t)}return t}(t),e)),null);a.data.push([u,n,0])},finish:()=>({tid:r,pid:t,name:e,markers:n,samples:a,frameTable:o,stackTable:s,stringTable:i,registerTime:0,unregisterTime:null,processType:"default"})}}(n,e,r),t.set(r,s)),s.addSample(n,o,a)}const n=e.split("\n");let a=0,o=0;for(;a<n.length;){const e=n[a++];if(""===e||e.startsWith("#"))continue;const t=e,s=/^(.*)\s+([\d.]+):/.exec(t);if(!s){console.log('Could not parse line as the start of a sample in the "perf script" profile format: "%s"',t);continue}const i=s[1],l=1e3*parseFloat(s[2]),c=/^(.*)\s+(?:(\d+)\/)?(\d+)\b/.exec(i);if(!c){console.log('Could not parse line as the start of a sample in the "perf script" profile format: "%s"',t);continue}const u=c[1].trim(),d=Number(c[2]||0),f=Number(c[3]||0);0===o&&(o=l);const h=[];for(;a<n.length;){const e=n[a++];if(""===e.trim())break;const t=/^\s*(\w+)\s*(.+) \(([^)]*)\)/.exec(e);if(t){let e=t[2];const r=t[3];if(e=e.replace(/\+0x[\da-f]+$/,""),e.startsWith("("))continue;r&&(e+=` (in ${r})`),h.push(e)}}0!==h.length&&(h.reverse(),r(d,f,u,l,h))}const s=Array.from(t.values()).map((e=>e.finish()));for(const e of s){const t=e.samples.schema.time;e.samples.data.sort(((e,r)=>e[t]-r[t]))}return{meta:{interval:1,processType:0,product:"Firefox",stackwalk:1,debug:0,gcpoison:0,asyncstack:1,startTime:o,shutdownTime:null,version:24,presymbolicated:!0,categories:rt,markerSchema:[]},libs:[],threads:s,processes:[],pausedRanges:[]}}const at=1464814675,ot="\n".charCodeAt(0);class st{constructor(e){this._decoder=void 0,this._u8View=void 0,this._dataView=void 0,this._pos=void 0,this._decoder=new TextDecoder("utf-8",{fatal:!0}),this._u8View=e,this._dataView=new DataView(this._u8View.buffer),this._pos=0}eof(){return this._pos>=this._u8View.length}curPos(){return this._pos}setCurPos(e){this._pos=e}getU8(){const e=this._dataView.getUint8(this._pos);return this._pos+=1,e}getU16(){const e=this._dataView.getUint16(this._pos,!0);return this._pos+=2,e}getU32(){const e=this._dataView.getUint32(this._pos,!0);return this._pos+=4,e}getU64(){const e=this.getU32();return this.getU32()*Math.pow(2,32)+e}getBytesUntil(e){if(e<this._pos)throw new Error(`getBytesUntil() called with a target position in the past (curPos: ${this._pos}, endPos: ${e})`);const t=this._u8View.subarray(this._pos,e);return this._pos=e,t}getBytes(e){return this.getBytesUntil(this._pos+e)}getString(e){const t=this.getBytes(e);return this._decoder.decode(t)}getLine(){let e=this._u8View.indexOf(ot,this._pos);-1===e&&(e=this._u8View.length);const t=this._u8View.subarray(this._pos,e);return this._pos=e+1,this._decoder.decode(t)}}function it(e){try{const t=11,r=e.slice(0,t),n=(new TextDecoder).decode(r);if(/\*version\n[1-3]\n/.test(n))return"regular"}catch(e){}try{if(new DataView(e).getUint32(0,!0)===at)return"streaming"}catch(e){}return"unrecognized"}function lt(e){if(e!==at){const t=`0x${at.toString(16)}`,r=`0x${e.toString(16)}`;throw new Error(`Unexpected magic header, expected ${t} (little endian), got ${r}`)}}function ct(e){if(e<1||e>3)throw new Error(`This code only knows how to parse versions 1 to 3, got version ${e}.`)}function ut(e,t){if(e!==t)throw new Error(`Error: version number mismatch; got ${t} in summary but ${e} in data section`)}function dt(e){let t=e.getLine();if("*version"!==t)throw new Error("Expected *version, got "+t);const r=+e.getLine();ct(r);const n={clock:"thread-cpu"};for(;t=e.getLine(),t&&!t.startsWith("*");){const[e,r]=t.split("=");n[e]=r}return{summaryVersion:r,summaryDetails:n,lineAfterSummary:t}}function ft(e){const[t,r,n,a]=e.split("\t");return{methodId:+t,className:r,methodName:n,signature:a}}function ht(e,t){switch(t){case 1:return 9;case 2:return 10;default:return e.getU16()}}function mt(e,t,r,n){const a=e.curPos(),o=1===t?e.getU8():e.getU16(),s=e.getU32(),i=-4&s,l=3&s;if(l>2)throw new Error("Unexpected method action "+l);let c,u;switch(n){case"wall":c=e.getU32(),u=c;break;case"dual":u=e.getU32(),c=e.getU32();break;default:u=e.getU32(),c=u}return e.setCurPos(a+r),{tid:o,methodId:i,globalTime:c,threadTime:u,action:["enter","exit","exit-unroll"][l]}}function pt(e){try{const t=new st(new Uint8Array(e));switch(it(e)){case"regular":return function(e){const{summaryVersion:t,summaryDetails:r,lineAfterSummary:n}=dt(e);if("*threads"!==n)throw new Error("Expected *threads, got "+n);const{threads:a,lineAfterThreads:o}=function(e){const t=[];let r="";for(;r=e.getLine(),r&&!r.startsWith("*");){const[e,n]=r.split("\t");t.push({tid:+e,threadName:n})}return{threads:t,lineAfterThreads:r}}(e);if("*methods"!==o)throw new Error("Expected *methods, got "+o);const{methods:s,lineAfterMethods:i}=function(e){const t=[];let r="";for(;r=e.getLine(),r&&!r.startsWith("*");)t.push(ft(r));return{methods:t,lineAfterMethods:r}}(e);if("*end"!==i)throw new Error("Expected *end, got "+i);const l=e.curPos();lt(e.getU32());const c=e.getU16();ut(c,t);const u=e.getU16(),d=e.getU64(),f=ht(e,c);e.setCurPos(l+u);const{clock:h}=r,m=[];for(;!e.eof();)m.push(mt(e,c,f,h));return{summaryDetails:r,threads:a,methods:s,methodActions:m,startTimeInUsecSinceBoot:d}}(t);case"streaming":return function(e){const t=e.curPos();lt(e.getU32());const r=240^e.getU16();ct(r);const n=e.getU16(),a=e.getU64(),o=ht(e,r);e.setCurPos(t+n);const s=[],i=[],l=[];let c={clock:"thread-cpu"};for(;!e.eof();){const t=e.curPos();if(0!==e.getU16()){l.push(t),e.setCurPos(t+o);continue}const n=e.getU8();if(1===n){const t=e.getU16();s.push(ft(e.getString(t)))}else{if(2!==n){if(3===n){const t=e.getU32(),n=e.getBytes(t),a=dt(new st(n));ut(r,a.summaryVersion),c=a.summaryDetails;break}throw new Error(`Invalid trace format: got invalid code ${n}.`)}{const t=e.getU16(),r=e.getU16(),n=e.getString(r);i.push({tid:t,threadName:n})}}}const{clock:u}=c,d=[];for(const t of l)e.setCurPos(t),d.push(mt(e,r,o,u));return{summaryDetails:c,threads:i,methods:s,methodActions:d,startTimeInUsecSinceBoot:a}}(t);default:throw new Error("Not an ART trace")}}catch(e){throw console.error("Source exception:",e),new Error(`Could not parse the profile array buffer as an ART trace: ${e}`)}}class gt{constructor(e){this.idleCategory=0,this.otherCategory=1,this.blockingCategory=2,this.androidCategory=3,this.javaCategory=4,this.kotlinCategory=5,this.androidxCategory=6,this.specialCategory=7,this.categories=[{name:"Idle",color:"transparent"},{name:"Other",color:"grey"},{name:"Blocked",color:"lightblue"},{name:"Android",color:"yellow"},{name:"Java",color:"blue"},{name:"Kotlin / KotlinX",color:"purple"},{name:"AndroidX",color:"orange"},{name:"Special",color:"green"}],this._specialCategoryInfo=void 0,this._specialCategoryInfo=function(e){function t(e){const t=e.startsWith("org.")||e.startsWith("com.")?e.substring(4):e,r=t.indexOf(".");return-1===r?t:t.substring(0,r)}const r=new Map;for(let n=0;n<e.length;n++){const a=t(e[n].className);switch(a){case"android":case"java":case"sun":case"kotlin":case"androidx":case"kotlinx":break;default:{const e=r.get(a)||0;r.set(a,e+1)}}}const n=Array.from(r.entries());if(0===n.length)return;n.sort((([e,t],[r,n])=>n-t));const[a]=n[0];return{prefixes:[`${a}.`,`com.${a}.`,`org.${a}.`],name:a[0].toUpperCase()+a.slice(1)}}(e),this._specialCategoryInfo&&(this.categories[this.specialCategory].name=this._specialCategoryInfo.name)}inferJavaCategory(e){return"android.os.MessageQueue.nativePollOnce"===e?this.idleCategory:"java.lang.Object.wait"===e?this.blockingCategory:e.startsWith("android.")||e.startsWith("com.android.")?this.androidCategory:e.startsWith("java.")||e.startsWith("sun.")||e.startsWith("com.sun.")?this.javaCategory:e.startsWith("kotlin.")||e.startsWith("kotlinx.")?this.kotlinCategory:e.startsWith("androidx.")?this.androidxCategory:this._specialCategoryInfo&&this._specialCategoryInfo.prefixes.some((t=>e.startsWith(t)))?this.specialCategory:this.otherCategory}}class yt{constructor(e,t,r,n,a,o,s){this._markers={schema:{name:0,time:1,data:2},data:[]},this._samples={schema:{stack:0,time:1,responsiveness:2,rss:3,uss:4},data:[]},this._frameTable={schema:{location:0,implementation:1,optimizations:2,line:3,category:4},data:[]},this._stackTable={schema:{frame:0,prefix:1},data:[]},this._stringTable=[],this._currentStack=null,this._nextSampleTimestamp=0,this._stackMap=new Map,this._frameMap=new Map,this._registerTime=0,this._name=void 0,this._pid=void 0,this._tid=void 0,this._methodMap=void 0,this._intervalInMsec=void 0,this._honorOriginalSamplingTimestamps=void 0,this._categoryInfo=void 0,this._name=e,this._pid=t,this._tid=r,this._methodMap=n,this._intervalInMsec=a,this._honorOriginalSamplingTimestamps=o,this._categoryInfo=s}_getOrCreateStack(e,t){const r=null===t?`${e}`:`${e},${t}`;let n=this._stackMap.get(r);return void 0===n&&(n=this._stackTable.data.length,this._stackTable.data.push([e,t]),this._stackMap.set(r,n)),n}_getOrCreateFrameForMethodId(e){let t=this._frameMap.get(e);if(void 0===t){const r=this._methodMap.get(e);let n;if(void 0===r)n="<unknown method ID 0x"+e.toString(16)+">";else{const{className:e,methodName:t}=r;n=e+"."+t}const a=this._stringTable.length;this._stringTable.push(n);const o=this._categoryInfo.inferJavaCategory(n);t=this._frameTable.data.length,this._frameTable.data.push([a,null,null,null,o]),this._frameMap.set(e,t)}return t}enterMethod(e){const t=this._getOrCreateFrameForMethodId(e);this._currentStack=this._getOrCreateStack(t,this._currentStack)}exitMethod(e){null!==this._currentStack&&(this._currentStack=this._stackTable.data[this._currentStack][1])}advanceTimeTo(e){if(0===this._nextSampleTimestamp)return this._nextSampleTimestamp=e,void("main"!==this._name&&(this._registerTime=e));for(;this._nextSampleTimestamp<e;){if(this._samples.data.push([this._currentStack,this._nextSampleTimestamp]),this._honorOriginalSamplingTimestamps&&e-this._nextSampleTimestamp<2*this._intervalInMsec){this._nextSampleTimestamp=e;break}this._nextSampleTimestamp+=this._intervalInMsec}}finish(){return null!==this._nextSampleTimestamp&&this._samples.data.push([this._currentStack,this._nextSampleTimestamp]),{tid:this._tid,pid:this._pid,name:this._name,registerTime:this._registerTime,unregisterTime:null,markers:this._markers,samples:this._samples,frameTable:this._frameTable,stackTable:this._stackTable,stringTable:this._stringTable}}}var bt=r(6540),Tt=r(2351),wt=r.n(Tt);const vt=S()((function({places:e,style:t}){return new Intl.NumberFormat(void 0,{minimumFractionDigits:e,maximumFractionDigits:e,style:t})}),{cache:new(wt())});function St(e,t=2,r=3,n="decimal"){if(0===e)return vt({places:0,style:n}).format(e);if(isNaN(e))return"<invalid>";let a=Math.floor(Math.log10(Math.abs(e)))+1;"percent"===n&&(a+=2);let o=t-a;return o<0?o=0:o>r&&(o=r),vt({places:o,style:n}).format(e)}function kt(e,t,r){let n;switch(e){case"tracing-ms":n=1;break;case"samples":case"bytes":n=0;break;default:throw(0,T.lC)(e,"Unhandled WeightType.")}return t&&(n=3),St(r,3,n)}function It(e){return St(e,2,1,"percent")}function xt(e,t=3,r=2,n=1/0){const a=1048576;if(n===1/0)return St(e/a,t,r)+"MB";n>=a&&(e=Math.round(e/a)*a);const o=e%a;return St((e-o)/a,t,0)+"MB"+(o>0&&r>0||n<a?" "+Nt(o,t,0,n):"")}function Nt(e,t=3,r=2,n=1/0){const a=1024;if(n===1/0)return St(e/a,t,r)+"KB";n>=a&&(e=Math.round(e/a)*a);const o=e%a;return St((e-o)/a,t,0)+"KB"+(o>0&&r>0||n<a?" "+_t(o,t,0,n):"")}function _t(e,t=3,r=2,n=1/0){return e<1e4?St(e,0)+"B":e<1048576?Nt(e,t,r,n):e<1024**3?xt(e,t,r,n):function(e,t=3,r=2,n=1/0){const a=1024**3;if(n===1/0)return St(e/a,t,r)+"GB";n>=a&&(e=Math.round(e/a)*a);const o=e%a;return St((e-o)/a,t,0)+"GB"+(o>0&&r>0||n<a?" "+xt(o,t,0,n):"")}(e,t,r,n)}function Ct(e,t=3,r=4){return St(e,t,r)+"ns"}function Et(e,t=2,r=3){return St(e,t,r)+"s"}function At(e,t=2,r=3){return St(e,t,r)+"ms"}function Ot(e,t=5,r=3,n=1/0){const a=1e3,o=e/a;let s="";if(n<a){const e=Math.floor(Math.log10(n/a)),t=Math.max(0,-e);s=o.toFixed(t)}else s=St(o,t,r);return s+"s"}function Pt(e,t=5,r=2,n=1/0){const a=1e3,o=6e4;n>=a&&(e=Math.round(e/a)*a);const s=e%o;return St((e-s)/o,t,0)+"m"+(s>0&&r>0||n<o?Ot(s,t,0,n):"")}function Mt(e,t=5,r=1,n=1/0){const a=6e4;n>=a&&(e=Math.round(e/a)*a);const o=36e5,s=e%o;return St((e-s)/o,t,0)+"h"+(s>0&&r>0||n<o?Pt(s,t,0,n):"")}function Rt(e,t=5,r=3,n=1/0){return n!==1/0&&(n<1e4&&(n=10**Math.floor(Math.log10(n))),e>n&&(e=Math.round(e/n)*n)),e>=6e4-(n===1/0?500:0)?e>=36e5-(n===1/0?500:0)?e>=864e5-(n===1/0?3e4:0)?function(e,t=5,r=1,n=1/0){const a=36e5;n>=a&&(e=Math.round(e/a)*a);const o=864e5,s=e%o;return St((e-s)/o,t,0)+"d"+(s>0&&r>0||n<o?Mt(s,t,0,n):"")}(e,t,r,n):Mt(e,t,r,n):Pt(e,t,r,n):e>=1e3?Ot(e,t,Number.isInteger(e/1e3)?0:r,n):e>=1?At(e,t,Number.isInteger(e)?0:r):1e3*e>=1?Et(1e3*e,t,Number.isInteger(1e3*e)?0:r):0===e?"0s":Ct(1e3*e*1e3,t,Number.isInteger(1e3*e*1e3)?0:r)}var Ft=r(4848);const Dt=[{name:"Jank",display:["marker-table","marker-chart"],tooltipLabel:"Jank  event processing delay",tableLabel:"Event processing delay",fields:[],description:L`
      Jank markers show when the main event loop of a thread has been busy. It is
      a good indicator that there may be some kind of performance problem that
      is worth investigating.
    `},{name:"IPC",tooltipLabel:"IPC {marker.data.niceDirection}",tableLabel:"{marker.data.messageType}  {marker.data.niceDirection}",chartLabel:"{marker.data.messageType}",display:["marker-chart","marker-table","timeline-ipc"],fields:[{key:"messageType",label:"Type",format:"string"},{key:"sync",label:"Sync",format:"string"},{key:"sendThreadName",label:"From",format:"string"},{key:"recvThreadName",label:"To",format:"string"},{key:"otherPid",label:"Other Pid",format:"pid"}]},{name:"Network",display:["marker-table","marker-chart"],chartLabel:"{marker.data.URI}",fields:[{format:"string",key:"contentType",label:"Content Type",hidden:!0},{format:"integer",key:"responseStatus",label:"Response Status",hidden:!0}]}];function Lt(e,t){const r=t?t.type:null;return r?e[r]??null:null}function Ut(e,t,r,n){const a=n.split(/{([^}]+)}/);if(1===a.length)return()=>n;function o(e,t){return console.error(L`
      Error processing the label "${e}" because of the ${t}.
      Currently the labels in the marker schema take the form of
      "marker.data.keyName" or "marker.startTime". No other type
      of access is currently supported.
    `),()=>""}const s=a.map(((a,s)=>{if(s%2==0)return()=>a;const i=a.trim().split(".");if(2!==i.length&&3!==i.length)return o(n,a);const[l,c,u]=i;if("marker"!==l)return o(n,a);if(2===i.length)switch(c){case"start":return e=>Rt(e.start);case"end":return e=>null===e.end?"unknown":Rt(e.end);case"duration":return e=>null===e.end?"unknown":Rt(e.end-e.start);case"name":return e=>e.name;case"category":return e=>t[e.category].name;default:return o(n,a)}if("data"===c){let t=null;for(const r of e.fields)if(r.key===u){t=r.format;break}return n=>{if(!n.data)return"";const a=n.data[u];return null==a?"":t?Gt(e.name,t,a,r):a}}return o(n,a)}));return e=>{let t="";for(const r of s)t+=r(e);return t}}const $t={tooltipLabel:e=>e.name,chartLabel:e=>"",tableLabel:e=>{let t="";if(e.data){const r=e.data;"FileIO"===r.type&&(r.source&&(t=`(${r.source}) `),t+=r.operation,r.filename&&(t=r.operation?`${t}  ${r.filename}`:r.filename))}return t},copyLabel:e=>e.name};function jt(e,t,r,n,a,o){const s=new Map,i=/^{marker.name}\s[-]\s/;for(const e of t){let t;"copyLabel"===o?(t=e.tableLabel,t&&!i.test(t)&&(t="{marker.name}  "+t)):(t=e[o],t&&"tableLabel"===o&&(t=t.replace(i,""))),t&&s.set(e.name,Ut(e,n,a,t))}const l=(0,T.Nn)($t[o],"Unable to find a fallback label function."),c=new Map;return t=>{let r=c.get(t);if(void 0===r){const n=e(t),a=n.data?n.data.type:null,o=a?s.get(a):null;r=o?o(n):l(n),c.set(t,r)}return r}}function Bt(e,t,r){const n=new Map;return a=>{let o=n.get(a);if(void 0===o){const s=e(a),i=s.data?s.data.type:null;if(i){const e=t[i];e?.tooltipLabel&&(o=function(e,t,r,n){const a=n.split(/{([^}]+)}/);if(a.length<2)return null;const o=a[1].trim().split(".");if(3!==o.length)return null;const[s,i,l]=o;if("marker"!==s||"data"!==i||!l)return null;const c=t.fields?.find((e=>e.key===l));if(!c)return null;const u=e.data;if(!u)return null;const d=u[l];return null==d?null:Gt(u.type,c.format,d,r)}(s,e,r,e.tooltipLabel))}o||(o=s.name),n.set(a,o)}return o}}function Gt(e,t,r,n,a,o){if(null==r)return console.warn(`Formatting ${r} for ${e} with format ${JSON.stringify(t)}`),"(empty)";if("object"==typeof t){if("table"===t.type){const{columns:s}=t;if(!(r instanceof Array))throw new Error("Expected an array for table type");const i=s.some((e=>e.label))?[s.map((e=>e.label||"(empty)"))]:[],l=r.map(((t,r)=>{if(!(t instanceof Array))throw new Error("Expected an array for table row");if(t.length!==s.length)throw new Error(`Row ${r} length doesn't match column count (row: ${t.length}, cols: ${s.length})`);return t.map(((t,r)=>{const{type:i}=s[r];return Gt(e,i||"string",t,n,a,o)}))}));return i.push(...l),i.map((e=>`(${e.join(", ")})`)).join(",")}throw new Error(`Unknown format type ${JSON.stringify(t.type)}`)}switch(t){case"url":case"file-path":case"sanitized-string":case"string":return String(r)||"(empty)";case"unique-string":case"flow-id":case"terminating-flow-id":return n.getString(r,"(empty)");case"duration":case"time":return Rt(r);case"seconds":return Ot(r);case"milliseconds":return At(r);case"microseconds":return Et(r);case"nanoseconds":return Ct(r);case"bytes":return _t(r);case"integer":return St(r,0,0);case"decimal":return St(r);case"percentage":return It(r);case"pid":return o&&o.has(r)?`${(0,T.Nn)(o.get(r))} (${r})`:`PID: ${r}`;case"tid":return a&&a.has(r)?`${(0,T.Nn)(a.get(r))} (${r})`:`TID: ${r}`;case"list":if(!(r instanceof Array))throw new Error("Expected an array for list format");return r.map((t=>Gt(e,"string",t,n))).join(", ");default:return console.warn(`A marker schema of type "${e}" had an unknown format ${JSON.stringify(t)}`),r}}function Wt(e,t,r,n){const{data:a}=t;if(!a)return!1;for(const o of e.fields){let e=a[o.key];if(null!=e){if("unique-string"===o.format||"flow-id"===o.format||"terminating-flow-id"===o.format){if("number"!=typeof e){console.warn(`In marker ${t.name}, the key ${o.key} has an invalid value "${e}" as a unique string, it isn't a number.`);continue}if(!r.hasIndex(e)){console.warn(`In marker ${t.name}, the key ${o.key} has an invalid index "${e}" as a unique string, as it's missing from the string table.`);continue}e=r.getString(e)}if(""!==e&&n(e,o.key))return!0}}return!1}function Ht(e){const t=new Map;t.set("CompositorScreenshot",["url"]);for(const r of e){const{name:e,fields:n}=r,a=[];for(const e of n)"unique-string"!==e.format&&"flow-id"!==e.format&&"terminating-flow-id"!==e.format||!e.key||a.push(e.key);0!==a.length&&t.set(e,a)}return t}function Vt(e,t,r){const{funcTable:n}=e,a=new Map;for(let e=0;e<n.length;e++){if(!n.isJS[e])continue;const o=n.lineNumber[e],s=n.columnNumber[e],i=n.source[e];if(null!==s&&null!==o&&null!==i){const n=r.filename[i],l=`${t.getString(n)}:${o}:${s}`;a.has(l)?a.set(l,null):a.set(l,e)}}return a}function zt(e,t,r,n,a){const o=function(e){if(0===e.length)return{events:[],start:[],end:[],line:[],column:[],length:0};let t=e.timestamps[0],r=t+(e.durations[0]||0);const n=[t],a=[r],o={events:e.events,start:n,end:a,line:e.line,column:e.column,length:e.length};for(let o=1;o<e.length;o++){const s=e.durations[o];let i=e.timestamps[o],l=i+(null===s?0:s);if(i<t)if(t<l)i=t;else{const e=l-i;i=t,l=Math.min(r,i+e)}else l<r||r<=i||(r-i<l-r?i=r:l=r);n.push(i),a.push(l),t=i,r=l}return o}(t),{thread:s,stackMap:i}=function(e,t,r,n,a){const o=(0,b.vA)(),s=(0,b.Gh)(),i={...(0,b.cy)(),weight:[],weightType:"tracing-ms"},l=(0,b.qc)(),c={...e.funcTable},u={...e,markers:l,funcTable:c,stackTable:s,frameTable:o,samples:i};let d=0;const f=[null],h=[0],m=new Map,p=new Map,g=t.indexForString(""),y=n.findIndex((e=>"Other"===e.name));if(-1===y)throw new Error("Expected to find an 'Other' category.");const T=Vt(u,t,a);for(let e=0;e<r.length;e++){const n=r.events[e],a=t.getString(n),i=r.end[e],l=r.column[e],u=r.line[e];let b=null;if(null!==l&&null!==u){const e=`${a}:${u}:${l}`,t=T.get(e);null!=t&&(b=t,m.set(n,b))}if(null===b){const e=m.get(n);void 0===e?(b=c.length++,c.name.push(n),c.isJS.push(!1),c.resource.push(-1),c.relevantForJS.push(!0),c.source.push(null),c.lineNumber.push(null),c.columnNumber.push(null),m.set(n,b)):b=e}let w=f[d];for(;null!==w&&!(i<=h[d]);)w=f[d],d--;const v=o.length++;o.address.push(g),o.inlineDepth.push(0),o.category.push(y),o.func.push(b),o.nativeSymbol.push(null),o.innerWindowID.push(0),o.line.push(u),o.column.push(l);const S=s.length++;s.frame.push(v),s.prefix.push(w),p.set(e,S),d++,0===d&&(d=1),f[d]=e,h[d]=i}return{thread:u,stackMap:p}}(e,n,o,r,a);return s.samples=function(e,t,r){const n=1e-5,a=(e,t)=>Math.abs(e-t)<n,o=(0,b.cy)(),s=[];function i(e,t,n){if(a(t,n))return;const i=(0,T.Nn)(r.get(e),"The JS tracer event did not exist in the stack map.");o.stack.push(i),(0,T.Nn)(o.time).push(t/1e3),s.push((n-t)/1e3),o.length++}o.weight=s;const l=[],c=[],u=[];let d=-1;for(let r=0;r<t.length;r++){const o=t.start[r],s=t.end[r];if(-1!==d)for(;;){const f=l[d],h=c[d],m=u[d];if(!(h<=o+n)){if(s<h+n){i(m,f,o),l[d]=s,d++,l[d]=o,c[d]=s,u[d]=r;break}if(a(h,s)){a(f,o)||(i(m,f,o),l[d]=o),u[d]=r;break}{const n=e.getString(t.events[m]),a=e.getString(t.events[r]);throw console.error("Current JS Tracer information:",{jsTracer:t,stringTable:e,prefixEventIndex:m,currentEventIndex:r}),console.error(`Prefix (parent) times for "${n}": ${f}ms to ${h}ms`),console.error(`Current (child) times for "${a}": ${o}ms to ${s}ms`),new Error("The JS Tracer information was malformed. Some event lasted longer than its parent event.")}}if(i(m,f,h),d--,-1===d){d=0,u[d]=r,l[d]=o,c[d]=s;break}}else d=0,l[d]=o,c[d]=s,u[d]=r}for(;d>=0;d--)i(u[d],l[d],c[d]);return o}(n,o,i),s}var Jt=r(5929),Kt=r.n(Jt);function qt(e,t){return new Promise(((r,n)=>{const a=new Worker(Kt());a.onmessage=e=>{r(e.data),a.terminate()},a.onerror=e=>{n(e.error),a.terminate()},a.postMessage({kind:e,arrayData:t},[t.buffer])}))}function Zt(e){const t={length:e.data.length};for(const r in e.schema){const n=e.schema[r];if("number"!=typeof n)throw new Error("fieldIndex must be a number in the Gecko profile table.");t[r]=e.data.map((e=>n in e?e[n]:null))}return t}function Yt(e,t,r){if(!t.startsWith("0x"))return null;const{addressLocator:n,libToResourceIndex:a,resourceTable:o,funcTable:s,stringTable:i}=e;let l=-1,c=-1;try{const r=t,{lib:s,relativeAddress:u}=n.locateAddress(r);if(null!==s){c=u;const t=e.globalDataCollector.indexForLib(s),r=a.get(t);void 0!==r?l=r:(l=o.length++,o.lib[l]=t,o.name[l]=i.indexForString(s.name),o.host[l]=null,o.type[l]=b.AU.library,a.set(t,l))}}catch(e){}const u=s.length++;return s.name[u]=r,s.resource[u]=l,s.relevantForJS[u]=!1,s.isJS[u]=!1,s.source[u]=null,s.lineNumber[u]=null,s.columnNumber[u]=null,{funcIndex:u,frameAddress:c}}function Qt(e,t){const r=/^(.*) \(in ([^)]*)\) (\+ [0-9]+)$/.exec(t)||/^(.*) \(in ([^)]*)\) (\(.*:.*\))$/.exec(t)||/^(.*) \(in ([^)]*)\)$/.exec(t);if(!r)return null;const{funcTable:n,stringTable:a,stringToNewFuncIndexAndFrameAddress:o,libNameToResourceIndex:s,resourceTable:i}=e,[,l,c]=r,u=(m=l).startsWith&&m.startsWith("non-virtual thunk to ")?m.substr(21):m,d=a.indexForString(u),f=a.indexForString(c),h=o.get(u);var m;if(void 0!==h)return h.funcIndex;let p=s.get(f);void 0===p&&(p=i.length++,s.set(f,p),i.lib[p]=null,i.name[p]=f,i.host[p]=null,i.type[p]=b.AU.library);const g=n.length++;return n.name[g]=d,n.resource[g]=p,n.relevantForJS[g]=!1,n.isJS[g]=!1,n.source[g]=null,n.lineNumber[g]=null,n.columnNumber[g]=null,g}function Xt(e,t,r){const{originToResourceIndex:n,resourceTable:a,stringTable:o}=e,s=new URL(t.baseURL[r]).origin;let i=n.get(s);if(void 0===i){i=a.length++,n.set(s,i);const e=`Extension ${JSON.stringify(t.name[r])} (ID: ${t.id[r]})`,l=o.indexForString(t.id[r]);a.lib[i]=null,a.name[i]=o.indexForString(e),a.host[i]=l,a.type[i]=b.AU.addon}}function er(e,t){const r=/^(.*) \((.+?):([0-9]+)(?::([0-9]+))?\)(?:\[(\d+)\])?$/.exec(t)||/^()(.+?):([0-9]+)(?::([0-9]+))?(?:\[(\d+)\])?$/.exec(t);if(!r)return null;const{funcTable:n,stringTable:a,resourceTable:o,originToResourceIndex:s,globalDataCollector:i,geckoSourceTable:l}=e,[,c,u,d,f,h]=r,m=function(e){if(e){const t=e.split(" -> ");return t[t.length-1]}return e}(u),p=De(m,o,a,s);let g,y=null;if(void 0!==h){const e=parseInt(h,10);if(l&&e<l.data.length){const t=l.schema.uuid,r=l.schema.filename,n=l.data[e][t],a=l.data[e][r];y=i.indexForSource(n,a)}}null===y&&(y=i.indexForSource(null,m)),g=c?a.indexForString(c):a.indexForString(`(root scope) ${m}`);const b=parseInt(d,10),T=f?parseInt(f,10):null,w=n.length++;return n.name[w]=g,n.resource[w]=p,n.relevantForJS[w]=!1,n.isJS[w]=!0,n.source[w]=y,n.lineNumber[w]=b,n.columnNumber[w]=T,w}function tr({funcTable:e},t,r){const n=e.length++;return e.name[n]=t,e.resource[n]=-1,e.relevantForJS[n]=r,e.isJS[n]=!1,e.source[n]=null,e.lineNumber[n]=null,e.columnNumber[n]=null,n}function rr(e){if(!e)return null;if("stack"in e&&e.stack&&e.stack.samples.data.length>0){const{samples:t}=e.stack;return t.data[0][t.schema.stack]}return null}function nr(e){const t={};for(const r in e)t[r]=1e3*e[r];return t}function ar(e,t,r,n){if(!e)return null;const a=function(e){if("stack"in e&&e.stack&&e.stack.samples.data.length>0){const{stack:t,...r}=e,n=t.samples.data[0][t.samples.schema.stack],a=t.samples.data[0][t.samples.schema.time];return null!==n?{...r,cause:{tid:t.tid,time:a,stack:n}}:r}return e}(e);switch(a.type){case"GCSlice":{const{times:e,...t}=a.timings;return{type:"GCSlice",timings:{...t,phase_times:e?nr(e):{}}}}case"GCMajor":{const e=a.timings;switch(e.status){case"completed":{const{totals:t,...r}=e;return{type:"GCMajor",timings:{...r,phase_times:nr(t),mmu_20ms:e.mmu_20ms/100,mmu_50ms:e.mmu_50ms/100}}}case"aborted":return{type:"GCMajor",timings:{status:"aborted"}};default:throw console.log("Unknown GCMajor status"),new Error("Unknown GCMajor status")}}case"IPC":{const{startTime:e,endTime:t,otherPid:r,messageType:n,messageSeqno:o,side:s,direction:i,phase:l,sync:c,threadId:u}=a;return{type:"IPC",startTime:e,endTime:t,otherPid:`${r}`,messageType:n,messageSeqno:o,side:s,direction:i,phase:l,sync:c,threadId:u}}}const o=a;if(!o.type)return o;const s=n.get(o.type);if(void 0===s)return o;let i=o;for(const e of s){const n=o[e];"number"==typeof n&&(i={...i,[e]:r.indexForString(t[n])})}return i}function or(e){const t=1e6,r=new Array(e.length);let n=0;for(let a=0;a<e.length;a++){const o=Math.round(e[a]*t);r[a]=(o-n)/t,n=o}return r}function sr(e,t,r){const n=e.counters,a=e.threads.find((e=>"GeckoMain"===e.name));if(!a||!n)return[];const o=`${a.pid}`,s=t.findIndex((e=>"GeckoMain"===e.name&&e.pid===o));if(-1===s)throw new Error("Unable to find the main thread in the stable thread list. This means that the logic in the _processCounters function is wrong.");return n.reduce(((e,{name:t,category:n,description:a,samples:i})=>{if(0===i.data.length)return e;const l={timeDeltas:or((c=Zt(i)).time),number:c.number,count:c.count,length:c.length};var c;return e.push({name:t,category:n,description:a,pid:o,mainThreadIndex:s,samples:ur(l,r)}),e}),[])}function ir(e,t,r){const n=e.profilerOverhead,a=e.threads.find((e=>"GeckoMain"===e.name));if(!a||!n)return null;const o=`${a.pid}`,s=t.findIndex((e=>"GeckoMain"===e.name&&e.pid===o));if(-1===s)throw new Error("Unable to find the main thread in the stable thread list. This means that the logic in the _processProfilerOverhead function is wrong.");return{samples:fr(Zt(n.samples),r),pid:o,mainThreadIndex:s,statistics:n.statistics}}function lr(e,t,r,n,a){const o=Zt(e.frameTable),s=Zt(e.stackTable),i=Zt(e.samples),l=Zt(function(e){const{startTime:t,endTime:r}=e.schema,n=e.data.slice(0);return n.sort(((e,n)=>{const a=e[r]||e[t],o=n[r]||n[t];if(null===a)throw console.error(e),new Error("A marker had null start and end time.");if(null===o)throw console.error(n),new Error("A marker had null start and end time.");return a-o})),Object.assign({},e,{data:n})}(e.markers)),{libs:c,pausedRanges:u,meta:d,sources:f}=t,{shutdownTime:h}=d,{funcTable:m,resourceTable:p,frameFuncs:g,frameAddresses:y}=function(e,t,r,n,a=(0,b.Ie)(),o,s){const i=(0,b.uv)(),l=(0,b.WU)(),c=o.getStringTable(),u={funcTable:i,resourceTable:l,geckoThreadStringArray:r,stringTable:c,addressLocator:new Je(n),libToResourceIndex:new Map,originToResourceIndex:new Map,libNameToResourceIndex:new Map,stringToNewFuncIndexAndFrameAddress:new Map,globalDataCollector:o,geckoSourceTable:s};for(let e=0;e<a.length;e++)Xt(u,a,e);const d=[],f=[];for(let n=0;n<e.length;n++){const a=e[n],o=(0,T.Nn)(r[a]),s=c.indexForString(o),i=t[n],l=u.stringToNewFuncIndexAndFrameAddress.get(o);if(void 0!==l){const{funcIndex:e,frameAddress:t}=l;d.push(e),f.push(t);continue}let h=null,m=null;const p=Yt(u,o,s);null!==p?(h=p.funcIndex,m=p.frameAddress):(h=Qt(u,o),null===h&&(h=er(u,o),null===h&&(h=tr(u,s,i)))),u.stringToNewFuncIndexAndFrameAddress.set(o,{funcIndex:h,frameAddress:m}),d.push(h),f.push(m)}return{funcTable:u.funcTable,resourceTable:u.resourceTable,frameFuncs:d,frameAddresses:f}}(o.location,o.relevantForJS,e.stringTable,c,r,a,f),w=(0,b.Ry)(),v=function(e,t,r){return{address:r.map((e=>e??-1)),inlineDepth:Array(e.length).fill(0),category:e.category,subcategory:e.subcategory,func:t,nativeSymbol:Array(e.length).fill(null),innerWindowID:e.innerWindowID,line:e.line,column:e.column,length:e.length}}(o,g,y),S=function(e){return{frame:e.frame,prefix:e.prefix,length:e.length}}(s),{markers:k,jsAllocations:I,nativeAllocations:x}=function(e,t,r,n){const a=(0,b.qc)(),o=(0,b.uz)(),s=(0,b.x2)(),i=[],l=[],c=n.getStringTable();let u,d;for(let n=0;n<e.length;n++){const d=e.data[n];if(d)switch(d.type){case"JS allocation":o.time.push((0,T.Nn)(e.startTime[n],"JS Allocations are assumed to have a startTime")),o.className.push(d.className),o.typeName.push(d.typeName),o.coarseType.push(d.coarseType),o.weight.push(d.size),o.inNursery.push(d.inNursery),o.stack.push(rr(d)),o.length++;continue;case"Native allocation":void 0===u&&(u="memoryAddress"in d),s.time.push((0,T.Nn)(e.startTime[n],"Native Allocations are assumed to have a startTime")),s.weight.push(d.size),s.stack.push(rr(d)),s.length++,u&&(i.push((0,T.Nn)(d.memoryAddress,"Could not find the memoryAddress property on a gecko marker payload.")),l.push((0,T.Nn)(d.threadId,"Could not find a threadId property on a gecko marker payload.")));continue}const f=ar(d,t,c,r),h=c.indexForString(t[e.name[n]]),m=e.startTime[n],p=e.endTime[n],g=e.phase[n],y=e.category[n];a.name.push(h),a.startTime.push(m),a.endTime.push(p),a.phase.push(g),a.category.push(y),a.data.push(f),a.length++}return d=0===s.length?null:u?{time:s.time,weight:s.weight,weightType:s.weightType,stack:s.stack,memoryAddress:i,threadId:l,length:s.length}:{time:s.time,weight:s.weight,weightType:s.weightType,stack:s.stack,length:s.length},{markers:a,jsAllocations:0===o.length?null:o,nativeAllocations:d}}(l,e.stringTable,n,a),N=function(e){const t={stack:e.stack,timeDeltas:or(e.time),weightType:"samples",weight:null,length:e.length};if(e.threadCPUDelta&&e.threadCPUDelta.some((e=>null!==e))&&(t.threadCPUDelta=e.threadCPUDelta),"eventDelay"in e)t.eventDelay=e.eventDelay;else{if(!("responsiveness"in e))throw new Error("The profile processor expected an eventDelay or responsiveness array in the samples table, but none was found.");t.responsiveness=e.responsiveness}return t}(i),_={name:e.name,isMainThread:"GeckoMain"===e.name,"eTLD+1":e["eTLD+1"],processType:e.processType,processName:"string"==typeof e.processName?e.processName:"",processStartupTime:0,processShutdownTime:h,registerTime:e.registerTime,unregisterTime:e.unregisterTime,tid:e.tid,pid:`${e.pid}`,pausedRanges:u||[],frameTable:v,funcTable:m,nativeSymbols:w,resourceTable:p,stackTable:S,markers:k,samples:N};return void 0!==e.isPrivateBrowsing&&(_.isPrivateBrowsing=e.isPrivateBrowsing),void 0!==e.userContextId&&(_.userContextId=e.userContextId),I&&(_.jsAllocations=I),x&&(_.nativeAllocations=x),function(){const{jsTracerEvents:r}=e,{jsTracerDictionary:n}=t,o=a.getStringTable();if(r&&n){const e=new Array(n.length);for(let t=0;t<n.length;t++)e[t]=o.indexForString(n[t]);const t=r.events.slice();for(let r=0;r<t.length;r++){const n=t[r];t[r]=e[n]}_.jsTracer={...r,events:t}}}(),function(e){const{samplingSelfStacks:t,syncBacktraceSelfStacks:r}=function(e){const t=new Set,r=new Set,{samples:n,markers:a,jsAllocations:o,nativeAllocations:s}=e;for(let e=0;e<n.length;e++){const r=n.stack[e];null!==r&&t.add(r)}for(let e=0;e<a.length;e++){const t=a.data[e];if(t&&"cause"in t&&t.cause){const e=t.cause.stack;null!==e&&r.add(e)}}if(void 0!==o)for(let e=0;e<o.length;e++){const t=o.stack[e];null!==t&&r.add(t)}if(void 0!==s)for(let e=0;e<s.length;e++){const t=s.stack[e];null!==t&&r.add(t)}return{samplingSelfStacks:t,syncBacktraceSelfStacks:r}}(e),{stackTable:n,frameTable:a}=e,o=new Uint32Array(a.length),s=new Set;for(const e of t){const t=n.frame[e];o[t]=t,-1!==a.address[t]&&s.add(t)}const i=new Map,l=new Set;for(const e of r){const t=n.frame[e],r=a.address[t];-1!==r&&i.set(t,r)}for(let e=0;e<n.length;e++){const t=n.prefix[e];if(null===t||l.has(t))continue;l.add(t);const r=n.frame[t],o=a.address[r];-1!==o&&i.set(r,o)}if(0===s.size&&0===i.size)return e;const c=(0,b.LK)(a);for(const[e,t]of i){if(s.has(e)){const r=c.length;c.address.push(t),c.inlineDepth.push(a.inlineDepth[e]),c.category.push(a.category[e]),c.subcategory.push(a.subcategory[e]),c.func.push(a.func[e]),c.nativeSymbol.push(a.nativeSymbol[e]),c.innerWindowID.push(a.innerWindowID[e]),c.line.push(a.line[e]),c.column.push(a.column[e]),c.length++,o[e]=r}c.address[e]=t-1}const u=(0,b.Gh)(),d=new Map,f=new Map,h=new Uint32Array(n.length);for(let e=0;e<n.length;e++){const a=n.frame[e],s=n.prefix[e],i=null===s?null:h[s];if(l.has(e)||r.has(e)){const t=u.length;u.frame.push(a),u.prefix.push(i),u.length++,h[e]=t,f.set(e,t)}if(t.has(e)){const t=o[a],r=u.length;u.frame.push(t),u.prefix.push(i),u.length++,d.set(e,r)}}return Ce({...e,frameTable:c},u,Ee(d),Ee(f))}(_)}function cr(e,t){return{...e,time:e.time.map((e=>e+t))}}function ur(e,t){const{timeDeltas:r}=e;if(void 0===r)throw new Error("Should only be called when a timeDeltas column is present");const n=r.slice();return n[0]+=t,{...e,timeDeltas:n}}function dr(e,t){const r=1e3*t;return{...e,timestamps:e.timestamps.map((e=>e+r))}}function fr(e,t){return{...e,time:e.time.map((e=>e/1e3+t))}}function hr(e,t){function r(e){return null===e?e:e+t}return{...e,startTime:e.startTime.map(r),endTime:e.endTime.map(r),data:e.data.map((e=>{if(!e)return e;const r=(0,T.Cn)(e);return"startTime"in r&&"number"==typeof r.startTime&&(r.startTime+=t),"endTime"in r&&"number"==typeof r.endTime&&(r.endTime+=t),"cause"in r&&r.cause&&void 0!==r.cause.time&&(r.cause.time+=t),"Network"===r.type&&("number"==typeof r.domainLookupStart&&(r.domainLookupStart+=t),"number"==typeof r.domainLookupEnd&&(r.domainLookupEnd+=t),"number"==typeof r.connectStart&&(r.connectStart+=t),"number"==typeof r.tcpConnectEnd&&(r.tcpConnectEnd+=t),"number"==typeof r.secureConnectionStart&&(r.secureConnectionStart+=t),"number"==typeof r.connectEnd&&(r.connectEnd+=t),"number"==typeof r.requestStart&&(r.requestStart+=t),"number"==typeof r.responseStart&&(r.responseStart+=t),"number"==typeof r.responseEnd&&(r.responseEnd+=t)),r}))}}function mr(e){const{name:t,tooltipLabel:r,tableLabel:n,chartLabel:a,display:o,data:s,graphs:i,isStackBased:l}=e,c=[],u=[];for(const e of s)if("key"in e){const{key:t,label:r,format:n,hidden:a}=e;c.push({key:t,label:r,format:n,hidden:a})}else u.push(e);let d;if(0!==u.length){let t=u.findIndex((e=>"Description"===e.label));-1===t&&(t=0);const r=u.filter(((e,r)=>r!==t)).filter((e=>"Marker"!==e.label&&"UserTiming"!==e.value));0!==r.length&&console.warn(`Discarding the following static fields from marker schema "${e.name}": ${r.map((e=>e.label+": "+e.value)).join(", ")}`),d=u[t].value}return{name:t,tooltipLabel:r,tableLabel:n,chartLabel:a,display:o,fields:c,description:d,graphs:i,isStackBased:l}}async function pr(e,t){try{if("[object ArrayBuffer]"===String(e)){let t=e;const a=new Uint8Array(t);if((n=a).byteLength>=3&&31===n[0]&&139===n[1]&&8===n[2]){const e=await async function(e){if("object"!=typeof window||!("Worker"in window)){const t=await Promise.resolve().then(r.t.bind(r,3106,23));return new Promise(((r,n)=>{t.gunzip(e,((e,t)=>{e?n(e):r(new Uint8Array(t.buffer))}))}))}return qt("decompress",e)}(a);t=e.buffer}if("unrecognized"!==it(t))e=function(e){const t=pt(e),r=function(e){const{methodActions:t}=e,r=[],n=new Map,a=Math.min(500,t.length);for(let e=0;e<a;e++){const{tid:a,globalTime:o}=t[e],s=n.get(a);if(o!==s){if(void 0!==s){const e=o-s;r.push(e)}n.set(a,o)}}if(r.sort(((e,t)=>e-t)),r.length<5)return r[0];const o=r.slice(0,Math.floor(r.length/5));return o.reduce(((e,t)=>e+t),0)/o.length}(t);let n,a=!1;!r||r<100?n=.1:(n=Math.round(r/100)/10,a=!0);const{summaryDetails:o,threads:s,methods:i,methodActions:l}=t,c=new gt(i),u=new Map(i.map((e=>[e.methodId,e]))),d=new Map;if(l.length>0)for(let e=0;e<l.length;e++){const{tid:t,methodId:r,globalTime:i,action:f}=l[e];let h=d.get(t);if(void 0===h){const e=s.find((e=>e.tid===t));if(!e)throw new Error(`Encountered method action for unknown thread ${t}`);h=new yt(e.threadName,o.pid?+o.pid:1,t,u,n,a,c),d.set(t,h)}switch(h.advanceTimeTo(i/1e3),f){case"enter":h.enterMethod(r);break;case"exit":case"exit-unroll":h.exitMethod(r);break;default:throw new Error(`Unexpected action ${f}`)}}const f=Array.from(d.values()).map((e=>e.finish()));return{meta:{interval:n,processType:0,product:"ART Trace (Android)",importedFrom:"ART Trace (Android)",pid:o.pid,stackwalk:1,startTime:0,shutdownTime:null,version:11,presymbolicated:!0,categories:c.categories},libs:[],threads:f,processes:[],pausedRanges:[]}}(t);else if((0,Ke.x)(Ke.S,t)){const{convertSimpleperfTraceProfile:n}=await Promise.all([r.e(957),r.e(461)]).then(r.bind(r,8461));e=n(t)}else try{const r=new TextDecoder(void 0,{fatal:!0});e=await r.decode(t)}catch(e){throw console.error("Source exception:",e),new Error("The profile array buffer could not be parsed as a UTF-8 string.")}}"string"==typeof e&&(e=function(e){if(e.startsWith("# ========\n"))return!0;if(e.startsWith("{"))return!1;const t=e.substring(0,e.indexOf("\n"));return/^\S.*?\s+(?:\d+\/)?\d+\s+(?:\[\d+\]\s+)?[\d.]+:/.test(t)}(e)?nt(e):JSON.parse(e));const a=e,o=function(e){if(!e||"object"!=typeof e)return null;const{meta:t}=e;if(!t||"object"!=typeof t)return null;if("number"!=typeof t.preprocessedProfileVersion){const{threads:t}=e;if(!t||!Array.isArray(t))return null;const[r]=t;if(!r||"object"!=typeof r||!r.stringArray)return null}const r="number"==typeof t.preprocessedProfileVersion?t.preprocessedProfileVersion:0;if(r===w.Ie)return e;if(r>w.Ie)throw new Error(`Unable to parse a processed profile of version ${r}, most likely profiler.firefox.com needs to be refreshed. The most recent version understood by this version of profiler.firefox.com is version ${w.Ie}.\nYou can try refreshing this page in case profiler.firefox.com has updated in the meantime.`);for(let t=r+1;t<=w.Ie;t++)t in Xe&&Xe[t](e);const n=e;return n.meta.preprocessedProfileVersion=w.Ie,n}(function(e){if(!e||"object"!=typeof e)return e;if(!("meta"in e)||!e.meta||"object"!=typeof e.meta)return e;const{meta:t}=e;if(!("preprocessedProfileVersion"in t)||"number"!=typeof t.preprocessedProfileVersion)return e;if(!("threads"in e&&e.threads&&Array.isArray(e.threads)&&e.threads.length))return e;const{threads:r}=e,[n]=r;if(n.stringArray)return e;if(!n.stringTable)return e;for(const t of e.threads)t.stringArray=t.stringTable._array,delete t.stringTable;return e}(a));if(o)return o;const s=function(e,t){if(!e)return null;let r;if(Array.isArray(e)?e.slice(0,5).every((e=>e&&"object"==typeof e&&"ph"in e))&&(r=e):"object"==typeof e&&"samples"in e&&"timeDeltas"in e&&"startTime"in e&&"endTime"in e?(r=[],r.push({name:"CpuProfile",args:{data:{cpuProfile:(0,T.au)(e)}},cat:"other",pid:0,tid:0,ts:0,ph:"I"})):"object"==typeof e&&"traceEvents"in e&&Array.isArray(e.traceEvents)&&(r=e.traceEvents),!r)return null;const n=new Map;for(const e of r){if("object"!=typeof e||null===e||"string"!=typeof e.name)throw new Error("A tracing event in the chrome profile did not follow the expected form.");const{name:t}=e;let r=n.get(t);r||(r=[],n.set(t,r)),r.push(e)}return async function(e,t){const r=(0,b.Z)();r.meta.categories=[{name:"Other",color:"grey",subcategories:["Other"]},{name:"Idle",color:"transparent",subcategories:["Other"]},{name:"JavaScript",color:"yellow",subcategories:["Other"]},{name:"GC / CC",color:"orange",subcategories:["Other"]},{name:"Graphics",color:"green",subcategories:["Other"]},{name:"Native",color:"blue",subcategories:["Other"]}],r.meta.product="Chrome Trace",r.meta.importedFrom="Chrome Trace",r.meta.interval=.5;const n=new je,a=n.getStringTable();let o=e.get("Profile")||[];if(e.has("CpuProfile")){const t=e.get("CpuProfile");o=o.concat(t)}const s=function(e){const t=e.findIndex((e=>"JavaScript"===e.name)),r=e.findIndex((e=>"GC / CC"===e.name)),n=e.findIndex((e=>"Native"===e.name)),a=e.findIndex((e=>"Other"===e.name)),o=e.findIndex((e=>"Idle"===e.name));if(-1===t||-1===r||-1===n||-1===a||-1===o)throw new Error("Unable to find the a category in the the defaultCategories.");return function(e,s){switch(e){case"(idle)":return{category:o,isJS:!1,relevantForJS:!1};case"(root)":case"(program)":return{category:a,isJS:!1,relevantForJS:!1};case"(garbage collector)":return{category:r,isJS:!1,relevantForJS:!1};default:return s||"<WASM UNNAMED>"===e||"(unresolved function)"===e?{category:t,isJS:!0,relevantForJS:!1}:{category:n,isJS:!1,relevantForJS:!0}}}}((0,T.Nn)(r.meta.categories)),i=new Map,l=new Map;for(const t of o){const o=We(i,l,e,r,t),{thread:c,funcKeyToFuncId:u,nodeIdToStackId:d,originToResourceIndex:f}=o;let h=[];if("Profile"===t.name){o.lastSeenTime=t.args.data.startTime/1e3;const{id:r,pid:n}=t;h=Ge(e,"ProfileChunk",(e=>e.id===r&&e.pid===n))}else"CpuProfile"===t.name&&(o.lastSeenTime=r.meta.profilingStartTime=t.args.data.cpuProfile.startTime/1e3,r.meta.profilingEndTime=t.args.data.cpuProfile.endTime/1e3,h=[t]);for(const e of h){if(!e.args.data||!e.args.data.cpuProfile)continue;const{cpuProfile:t}=e.args.data,{nodes:i,samples:l}=t,h=He(e);if(!h)continue;const{funcTable:m,frameTable:p,stackTable:g,samples:y,resourceTable:b}=c;if(i){const e=new Map;for(const t of i){const{callFrame:r,id:o}=t;let i;if(i=void 0!==t.parent?t.parent:e.get(o),void 0!==t.children){const r=t.children;for(let t=0;t<r.length;t++)e.set(r[t],o)}let{url:l,lineNumber:c,columnNumber:h}=r;-1===c&&(c=void 0),-1===h&&(h=void 0),void 0!==c&&c++,void 0!==h&&h++,""===l&&(l=void 0);const{functionName:y}=r,T=`${y}:${l||""}:${c||0}:${h||0}`,{category:w,isJS:v,relevantForJS:S}=s(y,void 0!==l||void 0!==c);let k=u.get(T);if(void 0===k){k=m.length++,m.isJS.push(v),m.relevantForJS.push(S);const e=""!==y?y:"(anonymous)";m.name.push(a.indexForString(e)),m.resource.push(v?De(l||"<unknown>",b,a,f):-1),m.source.push(v&&l?n.indexForSource(null,l):null),m.lineNumber.push(void 0===c?null:c),m.columnNumber.push(void 0===h?null:h),u.set(T,k)}const I=o-1,x=d.get(i);if(void 0===x)throw new Error("Unable to find the prefix stack index from a node index.");p.address[I]=-1,p.category[I]=w,p.subcategory[I]=0,p.func[I]=k,p.nativeSymbol[I]=null,p.innerWindowID[I]=0,p.line[I]=void 0===c?null:c,p.column[I]=void 0===h?null:h,p.length=Math.max(p.length,I+1),g.frame.push(I),g.prefix.push(x),d.set(o,g.length++)}}for(let e=0;e<l.length;e++){const t=l[e];if(o.lastSeenTime+=h[e]/1e3,o.lastSeenTime-o.lastSampledTime>=r.meta.interval){o.lastSampledTime=o.lastSeenTime;const e=(0,T.Nn)(d.get(t),"Could not find the stack information for a sample when decoding a Chrome profile.");(0,T.Nn)(y.eventDelay,"Could not find the eventDelay in samplesTable inside the newly created Chrome profile thread.").push(null),y.stack.push(e),(0,T.Nn)(y.time).push(o.lastSampledTime),y.length++}}}}for(const e of r.threads)ze(e.stackTable);if(await async function(e,t,r,n,a,o){if(0===a.length)return;const{thread:s}=We(e,t,r,n,a[0]),i=(0,T.Nn)(n.meta.categories).findIndex((e=>"Graphics"===e.name));if(-1===i)throw new Error("Could not find the Graphics category in the profile's category list.");for(const e of a){const t="data:image/jpg;base64,"+e.args.snapshot,r=await Ve(t);null!==r&&(s.markers.data.push({type:"CompositorScreenshot",url:o.indexForString(t),windowID:"id",windowWidth:r.width,windowHeight:r.height}),s.markers.name.push(o.indexForString("CompositorScreenshot")),s.markers.startTime.push(e.ts/1e3),s.markers.endTime.push(null),s.markers.phase.push(w.mN),s.markers.category.push(i),s.markers.length++)}}(i,l,e,r,e.get("Screenshot")??[],a),function(e,t,r,n,a){const o=(0,T.Nn)(n.meta.categories).findIndex((e=>"Other"===e.name));if(-1===o)throw new Error('No "Other" category in empty profile category list');n.meta.markerSchema=[{name:"EventDispatch",chartLabel:"{marker.data.type2}",tooltipLabel:"{marker.data.type2} - EventDispatch",tableLabel:"{marker.data.type2}",display:["marker-chart","marker-table","timeline-overview"],fields:[{key:"type2",label:"Event Type",format:"string"}]}];for(const[s,i]of r.entries())if("Profile"!==s&&"ProfileChunk"!==s&&"CpuProfile"!==s)for(const l of i)if(void 0!==l.ts&&Number.isFinite(l.ts)&&("X"===l.ph&&void 0!==l.dur&&Number.isFinite(l.dur)||"B"===l.ph||"E"===l.ph||"b"===l.ph||"n"===l.ph||"e"===l.ph||"i"===l.ph||"I"===l.ph||"R"===l.ph)){const i=l.ts/1e3,c=We(e,t,r,n,l),{thread:u}=c,{markers:d}=u;let f=null;"args"in l&&l.args&&"object"==typeof l.args&&(f=l.args.data||null),d.name.push(a.indexForString(s)),d.category.push(o),f&&"type"in f&&(f.type2=f.type),f&&"category"in f&&(f.category2=f.category);const h={...f,type:s,category:l.cat};if(d.data.push(h),"X"===l.ph){const e=l.dur/1e3;d.phase.push(w.KU),d.startTime.push(i),d.endTime.push(i+e)}else"B"===l.ph||"b"===l.ph?(d.startTime.push(i),d.endTime.push(null),d.phase.push(w.nO)):"E"===l.ph||"e"===l.ph?(d.startTime.push(null),d.endTime.push(i),d.phase.push(w.a1)):(d.startTime.push(i),d.endTime.push(null),d.phase.push(w.mN));d.length++}}(i,l,e,r,a),void 0===r.meta.profilingStartTime&&void 0===r.meta.profilingEndTime&&e.has("TracingStartedInBrowser")){const t=(0,T.Nn)(e.get("TracingStartedInBrowser"))[0];if(void 0!==t.ts&&Number.isFinite(t.ts)){let e=-1/0;r.threads.forEach((t=>{const n=ue(t,r.meta.interval);e=Math.max(e,n.end)})),r.meta.profilingStartTime=t.ts/1e3,r.meta.profilingEndTime=e}}if(t){const e=/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})/g;let n,a;for(;null!==(a=e.exec(t));)n=a;if(n){const[,e,t,a,o,s,i]=n,l=new Date(`${e}-${t}-${a}T${o}:${s}:${i}`);r.meta.startTime=l.getTime()-(r.meta.profilingStartTime??0)}}r.threads.sort(((e,t)=>{const r=l.get(e),n=l.get(t);if(!r||!n)throw console.error({threadA:e,threadB:t}),new Error("Unexpected thread");if(r.pid===n.pid){if(r.threadSortIndex!==n.threadSortIndex)return r.threadSortIndex-n.threadSortIndex}else if(r.processSortIndex!==n.processSortIndex)return r.processSortIndex-n.processSortIndex;return r.tieBreakerIndex-n.tieBreakerIndex}));const{shared:c}=n.finish();return r.shared=c,r}(n,t)}(a,t);if(s)return s;const i=function(e){if(!e||"object"!=typeof e)return null;if(!("dhatFileVersion"in e)||"number"!=typeof e.dhatFileVersion)return null;const{dhatFileVersion:t}=e;if(2!==t)throw new Error(`This importer only supports dhat version 2. The file provided was version ${t}.`);const r=e,n=(0,b.Z)();n.meta.product=r.cmd+" (dhat)",n.meta.importedFrom="dhat";const a=new je,o=a.getStringTable(),s=(0,b.x2)(),{funcTable:i,stackTable:l,frameTable:c}=(0,b.Qh)(),u=new Map;i.name.push(o.indexForString(r.cmd)),i.isJS.push(!1),i.relevantForJS.push(!1),i.resource.push(-1),i.source.push(null),i.lineNumber.push(null),i.columnNumber.push(null);const d=i.length++;c.address.push(-1),c.line.push(null),c.column.push(null),c.category.push(0),c.subcategory.push(0),c.innerWindowID.push(null),c.nativeSymbol.push(null),c.inlineDepth.push(0),c.func.push(d);const f=c.length++;l.frame.push(f),l.prefix.push(null);const h=l.length++;for(let e of r.ftbl){let t=r.cmd,n=-1,s=null,l=null;const d=e.match(/^0x([0-9a-f]+): (.+) \((?:in )?(.+?)(?::(\d+))?(?::(\d+))?\)$/i);d&&(n=parseInt(d[1],16),e=d[2],t=d[3],s=d[4]?Number(d[4]):null,l=d[5]?Number(d[5]):null);const f=`${e} ${t}`;let h=u.get(f);void 0===h&&(i.name.push(o.indexForString(e)),i.isJS.push(!1),i.relevantForJS.push(!1),i.resource.push(-1),i.source.push(a.indexForSource(null,t)),i.lineNumber.push(s),i.columnNumber.push(l),h=i.length++,u.set(f,h)),c.address.push(n),c.line.push(s),c.column.push(l),c.category.push(0),c.subcategory.push(0),c.innerWindowID.push(null),c.nativeSymbol.push(null),c.inlineDepth.push(0),c.func.push(h),c.length++}const m=[],p=[],g=[],y=[],w=new Map;for(const e of r.pps){let t=0,r=h;for(let n=e.fs.length-1;n>=0;n--){const a=e.fs[n]+1,o=(0,T.Nn)(c.func[a],"Expected to find a funcIndex from a frameIndex");t=l.length;const s=w.get(r);if(s)for(const e of s){const r=l.frame[e];if(c.func[r]===o){t=e;break}}t===l.length&&(l.frame.push(a),l.prefix.push(r),s?s.push(t):w.set(r,[t]),l.length++),r=t}m.push(e.tb),p.push(e.mb),g.push(e.gb),y.push(e.eb),s.time.push(0),s.stack.push(t),s.length++}n.threads=[{name:"Total Bytes",weight:m},{name:"Maximum Bytes",weight:p},{name:"Bytes at Global Max",weight:g},{name:"Bytes at End",weight:y}].map((({name:e,weight:t},n)=>{const a=(0,b.Qh)();return a.pid=r.pid,a.tid=n,a.name=e,a.funcTable.name=i.name.slice(),a.funcTable.isJS=i.isJS.slice(),a.funcTable.relevantForJS=i.relevantForJS.slice(),a.funcTable.resource=i.resource.slice(),a.funcTable.source=i.source.slice(),a.funcTable.lineNumber=i.lineNumber.slice(),a.funcTable.columnNumber=i.columnNumber.slice(),a.funcTable.length=i.length,a.frameTable.address=c.address.slice(),a.frameTable.line=c.line.slice(),a.frameTable.column=c.column.slice(),a.frameTable.category=c.category.slice(),a.frameTable.subcategory=c.subcategory.slice(),a.frameTable.innerWindowID=c.innerWindowID.slice(),a.frameTable.func=c.func.slice(),a.frameTable.length=c.length,a.stackTable.frame=l.frame.slice(),a.stackTable.prefix=l.prefix.slice(),a.stackTable.length=l.length,a.nativeAllocations={time:s.time.slice(),stack:s.stack.slice(),weight:t,weightType:"bytes",length:s.length},a}));const{shared:v}=a.finish();return n.shared=v,n}(a);return i||function(e){if(!e)throw new Error("The profile was empty.");if("object"!=typeof e)throw new Error("The profile was not an object");const t="profile"in e&&e.profile?e.profile:e;if(!t.meta)throw new Error("This does not appear to be a valid Gecko Profile, there is no meta field.");return function(e){!function(e){const t=et(e).version||0;if(t!==w.xC){if(t>w.xC)throw new Error(`Unable to parse a Gecko profile of version ${t}, most likely profiler.firefox.com needs to be refreshed. The most recent version understood by this version of profiler.firefox.com is version ${w.xC}.\nYou can try refreshing this page in case profiler.firefox.com has updated in the meantime.`);for(let r=t+1;r<=w.xC;r++)r in tt&&tt[r](e);et(e).version=w.xC}}(e);const t=[],r=function(e){const t=e.meta.markerSchema.map(mr),r=new Set(t.map((({name:e})=>e)));for(const n of e.processes)for(const e of n.meta.markerSchema)r.has(e.name)||(r.add(e.name),t.push(mr(e)));return t}(e),n=Ht(r),a=e.meta.extensions?Zt(e.meta.extensions):(0,b.Ie)(),o=new je;for(const r of e.threads)t.push(lr(r,e,a,n,o));const s=sr(e,t,0),i=[ir(e,t,0)];for(const r of e.processes){const l=r.meta.startTime-e.meta.startTime;for(const e of r.threads){const s=lr(e,r,a,n,o);s.samples=ur(s.samples,l),s.markers=hr(s.markers,l),s.jsTracer&&(s.jsTracer=dr(s.jsTracer,l)),s.jsAllocations&&(s.jsAllocations=cr(s.jsAllocations,l)),s.nativeAllocations&&(s.nativeAllocations=cr(s.nativeAllocations,l)),s.processStartupTime+=l,null!==s.processShutdownTime&&(s.processShutdownTime+=l),s.registerTime+=l,null!==s.unregisterTime&&(s.unregisterTime+=l),t.push(s)}s.push(...sr(r,t,l)),i.push(ir(r,t,l))}let l=[...e.pages||[]];for(const t of e.processes)l=l.concat(t.pages||[]);const c={interval:e.meta.interval,startTime:e.meta.startTime,startTimeAsClockMonotonicNanosecondsSinceBoot:e.meta.startTimeAsClockMonotonicNanosecondsSinceBoot,startTimeAsMachAbsoluteTimeNanoseconds:e.meta.startTimeAsMachAbsoluteTimeNanoseconds,startTimeAsQueryPerformanceCounterValue:e.meta.startTimeAsQueryPerformanceCounterValue,abi:e.meta.abi,extensions:a,misc:e.meta.misc,oscpu:e.meta.oscpu,platform:e.meta.platform,processType:e.meta.processType,product:e.meta.product||"",stackwalk:e.meta.stackwalk,debug:!!e.meta.debug,toolkit:e.meta.toolkit,version:e.meta.version,categories:e.meta.categories,preprocessedProfileVersion:w.Ie,appBuildID:e.meta.appBuildID,visualMetrics:e.meta.visualMetrics,configuration:e.meta.configuration,sourceURL:e.meta.sourceURL,physicalCPUs:e.meta.physicalCPUs,logicalCPUs:e.meta.logicalCPUs,CPUName:e.meta.CPUName,symbolicated:!!e.meta.presymbolicated,updateChannel:e.meta.updateChannel,markerSchema:r,sampleUnits:e.meta.sampleUnits,device:e.meta.device};void 0!==e.meta.profilingStartTime&&(c.profilingStartTime=e.meta.profilingStartTime,c.profilingEndTime=e.meta.profilingEndTime);const u=i.reduce(((e,t)=>(null!==t&&e.push(t),e)),[]);let d={...e.profilingLog||{}};for(const t of e.processes)d={...d,...t.profilingLog||{}};const f={...e.profileGatheringLog||{}},h=o.getStringTable(),m=o.getSources();for(const r of t.slice()){const{jsTracer:n}=r;if(n){const a=Ae(t,r),o=zt(r,n,e.meta.categories,h,m);o.isJsTracer=!0,o.name=`JS Tracer of ${a}`,t.push(o),delete r.jsTracer}}c.visualMetrics&&function(e,t,r,n){const{visualMetrics:a}=t;if(0===r.length||!a)return;const o=e.findIndex((e=>"GeckoMain"===e.name&&"default"===e.processType)),s=function(e,t,r){if(!r.hasString("RefreshDriverTick"))return null;const n=r.indexForString("RefreshDriverTick");for(let r=0;r<e.length;r++){const a=e[r];if("GeckoMain"!==a.name||"tab"!==a.processType)continue;const o=new Set(t.filter((e=>0===e.embedderInnerWindowID)).map((e=>e.innerWindowID))),{markers:s}=a;for(let e=0;e<s.length;e++)if(s.name[e]===n){const t=s.data[e];if(t&&"innerWindowID"in t&&t.innerWindowID&&o.has(t.innerWindowID))return r}}return null}(e,r,n);if(-1===o||!s)return;const i=e[o],l=e[s],c=["Visual","ContentfulSpeedIndex","PerceptualSpeedIndex"];if(void 0===t.categories)return;const u=t.categories.findIndex((e=>"Test"===e.name));function d(e,t,r,a,o,s){r!==w.a1&&null===a||(r===w.KU||r===w.a1)&&null===o||(e.markers.name.push(n.indexForString(t)),e.markers.startTime.push(a),e.markers.endTime.push(o),e.markers.phase.push(r),e.markers.category.push(u),e.markers.data.push(s??null),e.markers.length++)}let f=null;if(n.hasString("Navigation::Start")){const e=n.indexForString("Navigation::Start"),t=l.markers.name.findIndex((t=>t===e));-1!==t&&(f=l.markers.startTime[t])}for(const e of c){const r=a[`${e}Progress`];if(!r)continue;const n=f??r[0].timestamp,o=r[r.length-1].timestamp,s=`${e} Progress`;d(i,s,w.KU,n,o),d(l,s,w.KU,n,o);const c={name:"VisualMetricProgress",tableLabel:"{marker.name}  {marker.data.percentage}",display:["marker-chart","marker-table"],fields:[{key:"percentage",label:"Percentage",format:"percentage"}]};t.markerSchema.push(c);const u=`${e} Change`;for(const{timestamp:e,percent:t}of r){const r={type:"VisualMetricProgress",percentage:t/100};d(i,u,w.mN,e,null,r),d(l,u,w.mN,e,null,r)}}}(t,c,l,h);const{libs:p,shared:g}=o.finish();return{meta:c,libs:p,pages:l,counters:s,profilerOverhead:u,shared:g,threads:t,profilingLog:d,profileGatheringLog:f}}(t)}(a)}catch(e){throw console.error("UnserializationError:",e),new Error(`Unserializing the profile failed: ${e}`)}var n}function gr(e,t,r,n,a,o){const{stringArray:s,sources:i}=t,{frameTable:l,funcTable:c,nativeSymbols:u}=e,d=$e.M.withBackingArray(s),{threadLibSymbolicationInfo:f,resultsForLib:h}=r,{resourceIndex:m,allFramesForThisLib:p,allFuncsForThisLib:g,allNativeSymbolsForThisLib:y,libIndex:T}=f,w=new Set(g),v=new Set(y),S=new Map,k=new Map,I=new Map,x=[],N=[];for(const e of p)l.inlineDepth[e]>0?(x.push(e),a[e]=1):N.push(e);for(const e of N){const t=l.nativeSymbol[e],r=l.address[e];let n=h.get(r);if(void 0===n)if(null!==t){const e=d.getString(u.name[t]);n={symbolAddress:u.address[t],name:e}}else n={symbolAddress:r,name:`0x${r.toString(16)}`};const a=n.symbolAddress;if(S.set(e,a),k.set(a,n),null!==t&&!I.has(a)&&v.has(t)){const e=t;v.delete(e),I.set(a,e)}}const _=v.values(),C=(0,b.dY)(u);for(const[e,t]of k){const r=d.indexForString(t.name);let n=I.get(e);void 0===n&&(n=_.next().value,void 0===n&&(n=C.length,C.libIndex[n]=T,C.length++),I.set(e,n)),C.address[n]=e,C.name[n]=r,C.functionSize[n]=t.functionSize??null}const E=l.nativeSymbol.slice();for(const[e,t]of S){const r=I.get(t);if(void 0===r)throw new Error("Impossible, all symbolAddresses have a canonical symbol at this point.");E[e]=r}const A=(0,b.LK)({...l,nativeSymbol:E}),O=(0,b.ES)(c),P=w.values(),M=new Map,R=x.values(),F=[];for(const e of N){const t=l.func[e],r=E[e];if(null===r)throw new Error("Impossible, all frames now have native symbols.");const n=l.address[e];let a=h.get(n);if(void 0===a){const n=C.name[r];let o=null;const s=O.source[t];null!==s&&(o=i.filename[s]),a={symbolAddress:C.address[r],name:d.getString(n),file:null!==o?d.getString(o):void 0,line:l.line[e]??void 0}}const s=a.inlines?a.inlines.slice():[];s.push({name:a.name,file:a.file,line:a.line}),s.reverse();const c=[],u=[];for(let t=0;t<s.length;t++){const a=s[t],o=d.indexForString(a.name),l=void 0!==a.file?d.indexForString(a.file):null,f=`${o}:${l??""}`;let h,p=M.get(f);if(void 0===p){if(p=P.next().value,void 0===p&&(p=O.length,O.isJS[p]=!1,O.relevantForJS[p]=!1,O.resource[p]=m,O.source[p]=null,O.lineNumber[p]=null,O.columnNumber[p]=null,O.length++),O.name[p]=o,null!==l){let e=null;for(let t=0;t<i.filename.length;t++)if(i.filename[t]===l&&null===i.uuid[t]){e=t;break}null===e&&(e=i.filename.length,i.filename.push(l),i.uuid.push(null),i.length++),O.source[p]=e}else O.source[p]=null;M.set(f,p)}if(u.push(p),0===t)h=e;else{h=R.next().value,void 0===h&&(h=A.length,A.length++);const t=A.category[e],a=A.subcategory[e],o=A.innerWindowID[e];A.category[h]=t,A.subcategory[h]=a,A.innerWindowID[h]=o,A.address[h]=n,A.nativeSymbol[h]=r}A.inlineDepth[h]=t,A.func[h]=p,A.line[h]=a.line??null,A.column[h]=null,c.push(h)}c.length>1&&o.set(e,c),F.push([t,u.join("#")])}const D=function(e){const t=new Map,r=new Set;for(const[n,a]of e){if(r.has(n))continue;const e=t.get(n);void 0!==e?e!==a&&(t.delete(n),r.add(n)):t.set(n,a)}return t}(F);for(const[e,t]of D)n.set(e,t.split("#").map((e=>+e)));return{...e,frameTable:A,funcTable:O,nativeSymbols:C}}function yr(e,t){return t.reduce(((t,r)=>{const n=e.get(r);return void 0===n?[...t,r]:[...t,...n]}),[])}function br(e,t){const r=[];for(const n of t){const t=yr(e,n);r.push(t);const a=yr(e,[n[n.length-1]]).length;if(a>1)for(let e=1;e<a;e++)r.push(t.slice(0,t.length-e))}return new j(r)}Error;var Tr=r(2834),wr=r.n(Tr);const vr=function(){const e=`\\b((?:${["http","https","ftp","file","moz-extension","moz-page-thumb"].join("|")})://)/?[^\\s/$.?#][^\\s)]*`;return new RegExp(`${e}|\\b(about:[^?#\\s]+)([?#])[^\\s)]*`,"gi")}();function Sr(e,t="<URL>",r="<sanitized>"){return e.replace(vr,((e,n,a,o)=>n?n+t:a?a+o+r:e))}function kr(e,t="<PATH>"){let r=null,n=e.lastIndexOf("/");return-1!==n?r="/":(n=e.lastIndexOf("\\"),-1!==n&&(r="\\")),null===r?e:t+r+e.slice(n+1)}const Ir=e=>{if(!e)return null;const t=e.split(",").map((e=>e.trim())).filter((e=>e));return t.length?t:null},xr=e=>{if(!e||!e.length)return null;const t=e.map(wr()).join("|");return new RegExp(t,"gi")};function Nr(e,t,r,n,a,o){if(!n)return t;let s=Boolean(n.generic),i=!1;for(const e of n.fieldMap.values())s=s||null!==e.positive,i=i||null!==e.negative;const l=[];for(const c of t){const t=e(c);let u=!0;s&&(u=_r(t,r,n,a,o)),u&&i&&(u=Cr(t,r,n,a,o)),u&&l.push(c)}return l}function _r(e,t,r,n,a){const o=r;function s(e,t){t=t.toLowerCase();const r=o.fieldMap.get(t),n=!!o.generic&&o.generic.test(e)||!(!r||!r.positive)&&r.positive.test(e);return o.generic&&(o.generic.lastIndex=0),r&&r.positive&&(r.positive.lastIndex=0),n}const{data:i,name:l,category:c}=e;if(void 0!==a[c]&&s(a[c].name,"cat"))return!0;if(s(l,"name"))return!0;if(i&&"object"==typeof i){if(s(i.type,"type"))return!0;const r=Lt(t,e.data);if(r&&Wt(r,e,n,s))return!0}return!1}function Cr(e,t,r,n,a){const o=r;function s(e,t){t=t.toLowerCase();const r=o.fieldMap.get(t),n=r?.negative;if(!n)return!1;const a=n.test(e);return n.lastIndex=0,a}const{data:i,name:l,category:c}=e;if(void 0!==a[c]&&s(a[c].name,"cat"))return!1;if(s(l,"name"))return!1;if(i&&"object"==typeof i){if(s(i.type,"type"))return!1;const r=Lt(t,e.data);if(r&&Wt(r,e,n,s))return!1}return!0}class Er{constructor(){this._correlations=void 0,this._correlations=new Map}set(e,t,r){let n=this._correlations.get(e);n||(n=new Map,this._correlations.set(e,n)),n.set(t,r)}get(e,t){const r=this._correlations.get(e);if(r)return r.get(t)}}function Ar(e,t,r,n,a){const o=[],s=[],i=new Map,l=new Map;function c(e,t){s.push(e),o.push(t)}const u=new Map;for(let o=0;o<e.length;o++){const s=e.name[o],h=e.startTime[o],m=e.endTime[o],p=e.phase[o],g=e.data[o],y=e.category[o],b=e.threadId?e.threadId[o]:null;if(g)switch(g.type){case"Network":{const r="Network markers are assumed to have a start and end time.";if("STATUS_START"===g.status)l.set(g.id,o);else{const a=g,i=l.get(g.id);if(void 0!==i){l.delete(g.id);const n=e.data[i],u=(0,T.Nn)(e.startTime[i],r),d=(0,T.Nn)(h,r);c([i,o],{start:u,end:(0,T.Nn)(m,r),name:t[s],category:y,threadId:b,data:{...a,startTime:u,fetchStart:d,cause:n.cause||a.cause}})}else{const e=Math.min(n.start,(0,T.Nn)(h,"Network markers are assumed to have a start time."));c([o],{start:e,end:(0,T.Nn)(m,r),name:t[s],category:y,threadId:b,data:{...a,startTime:e,fetchStart:a.startTime,cause:a.cause},incomplete:!0})}}continue}case"CompositorScreenshot":{const{windowID:r}=g,n=u.get(r);if(void 0!==n){u.delete(r);const t=(0,T.Nn)(e.startTime[n],"Expected to find a start time for a screenshot marker."),a=(0,T.Nn)(h,"The CompositorScreenshot is assumed to have a start time."),o=e.data[n];c([n],{start:t,end:a,name:"CompositorScreenshot",category:y,threadId:e.threadId?e.threadId[n]:null,data:o})}if("CompositorScreenshotWindowDestroyed"===t[s])break;u.set(r,o);continue}case"IPC":{const e=a.get(r||0,o);if(!e)continue;if("sending"===g.direction&&"transferEnd"===g.phase&&void 0!==e.sendStartTime)continue;let t="sending"===g.direction?"IPCOut":"IPCIn";g.sync&&(t="Sync"+t);let n=(0,T.Nn)(g.startTime,"Expected IPC startTime to exist in the payload."),s=n,i=!0;void 0!==e.startTime&&void 0!==e.endTime&&(n=e.startTime,s=e.endTime,i=!1),c([o],{start:n,end:s,name:t,category:y,threadId:b,data:{...g,...e,niceDirection:"sending"===g.direction?`sent to ${e.recvThreadName||g.otherPid}`:`received from ${e.sendThreadName||g.otherPid}`},incomplete:i});continue}}switch(p){case w.mN:c([o],{start:(0,T.Nn)(h,"An Instant marker did not have a startTime."),end:null,name:t[s],category:y,threadId:b,data:g});break;case w.KU:c([o],{start:(0,T.Nn)(h,"An Interval marker did not have a startTime."),end:(0,T.Nn)(m,"An Interval marker did not have a startTime."),name:t[s],category:y,threadId:b,data:g});break;case w.nO:{let e=i.get(s);e||(e=[],i.set(s,e)),e.push(o)}break;case w.a1:{const r=i.get(s);let a;r&&(a=r.pop());const l=(0,T.Nn)(m,"An IntervalEnd marker did not have an endTime");void 0!==a?c([a,o],{start:(0,T.Nn)(e.startTime[a],"An IntervalStart marker did not have a startTime"),name:t[s],end:l,category:y,threadId:b,data:(d=e.data[a],f=g,null===d?f:null===f?d:{...d,...f})}):c([o],{start:Math.min(l,n.start),name:t[s],end:l,category:y,threadId:b,data:g,incomplete:!0})}break;default:throw new Error("Unhandled marker phase type.")}}var d,f;const h=n.end;for(const r of i.values())for(const n of r){const r=(0,T.Nn)(e.startTime[n],"Encountered a marker without a startTime. Eventually this needs to be handled for phase-style markers.");c([n],{start:r,end:Math.max(h,r),name:t[e.name[n]],data:e.data[n],category:e.category[n],threadId:e.threadId?e.threadId[n]:null,incomplete:!0})}for(const r of l.values()){const n=(0,T.Nn)(e.startTime[r],"Network markers are assumed to always have a start time.");c([r],{start:n,end:Math.max(h,n),name:t[e.name[r]],category:e.category[r],threadId:e.threadId?e.threadId[r]:null,data:e.data[r],incomplete:!0})}for(const t of u.values()){const r=(0,T.Nn)(e.startTime[t],"Expected to find a CompositorScreenshot marker with a start time.");c([t],{start:r,end:Math.max(h,r),name:"CompositorScreenshot",category:e.category[t],threadId:e.threadId?e.threadId[t]:null,data:e.data[t]})}return{markers:o,markerIndexToRawMarkerIndexes:s}}function Or(e,t,r){return t.filter((t=>r(e(t))))}function Pr(e,t,r,n){return Or(e,t,(e=>e.start<=n&&(e.end||e.start)>=r))}function Mr(e){return!(!e.data||"Network"!==e.data.type)}function Rr(e){return!(!e.data||"UserTiming"!==e.data.type)}function Fr({name:e,data:t}){return"TTI"===e||"FirstContentfulPaint"===e||"FirstContentfulComposite"===e||"LargestContentfulPaint"===e||!!t&&(!(!("innerWindowID"in t)||!t.innerWindowID||"Navigation::Start"!==e)||"category"in t&&"Navigation"===t.category&&("Load"===e||"DOMContentLoaded"===e))}function Dr(e){const{data:t}=e;if(t&&"FileIO"===t.type)return void 0===t.threadId}function Lr(e){return t=>{const{data:r}=t;return!r||!e[r.type]||void 0}}function Ur(e,t){const r=new Map;for(const n of t){const t=e(n),{data:a}=t;if(a&&"CompositorScreenshot"===a.type){let e=r.get(a.windowID);void 0===e&&(e=[],r.set(a.windowID,e)),e.push(t)}}return r}function $r(e){return{...e,URI:"",RedirectURI:""}}function jr(e){return{...e,name:Sr(e.name)}}function Br(e,t){return["ExtensionParent","ExtensionChild"].includes(e)?{...t,name:t.name.replace(/^.*, (api_(call|event): )/,"$1")}:"Extension Suspend"===e?{...t,name:t.name.replace(/ by .*$/,"")}:t}function Gr(e,t){for(const{key:r,format:n}of e.fields)r in t&&("url"===n?t={...t,[r]:Sr(t[r])}:"file-path"===n?t={...t,[r]:kr(t[r])}:"sanitized-string"===n&&(t={...t,[r]:"<sanitized>"}));return t}function Wr(e){}function Hr(e,t,r,n,a,o=Wr){const s=function(e,t){const r=new Set;for(const{display:n,name:a}of e)n.includes(t)&&r.add(a);return r}(r,a);return Or(e,t,(e=>{const t=o(e);if(void 0!==t)return t;const r=e.data?e.data.type??null:null;return null!==r&&s.has(r)}))}const Vr=e=>{if(!e||!e.length)return null;const t=new Map,r=[];for(const n of e){const e=n.match(/^(?<maybeNegative>-?)(?<key>\w+):(?<value>.+)/i);if(e&&e.groups){const{maybeNegative:a,value:o}=e.groups,s=e.groups.key.toLowerCase();let i=t.get(s);i||(i={positive:[],negative:[]},t.set(s,i)),0===a.length?(i.positive.push(o),r.push(n)):i.negative.push(o)}else r.push(n)}const n=new Map;for(const[e,r]of t)n.set(e,{positive:xr(r.positive),negative:xr(r.negative)});return{generic:xr(r),fieldMap:n}};function zr(e){const{resourceTable:t,translationMaps:r}=function(e){const t=new Map,r=[],n=(0,b.WU)();return e.forEach((e=>{const a=new Map,{resourceTable:o}=e;for(let e=0;e<o.length;e++){const r=o.lib[e],s=o.name[e],i=o.host[e],l=o.type[e],c=[s,l].join("#"),u=t.get(c);void 0===u?(a.set(e,n.length),t.set(c,n.length),n.lib.push(r),n.name.push(s),n.host.push(i),n.type.push(l),n.length++):a.set(e,u)}r.push(a)})),{resourceTable:n,translationMaps:r}}(e),{nativeSymbols:n,translationMaps:a}=function(e){const t=new Map,r=[],n=(0,b.Ry)();return e.forEach((e=>{const a=new Map,{nativeSymbols:o}=e;for(let e=0;e<o.length;e++){const r=o.libIndex[e],s=o.name[e],i=o.address[e],l=o.functionSize[e],c=[s,i].join("#"),u=t.get(c);void 0===u?(a.set(e,n.length),t.set(c,n.length),n.libIndex.push(r),n.name.push(s),n.address.push(i),n.functionSize.push(l),n.length++):a.set(e,u)}r.push(a)})),{nativeSymbols:n,translationMaps:r}}(e),{funcTable:o,translationMaps:s}=function(e,t){const r=new Map,n=[],a=(0,b.uv)();return t.forEach(((t,o)=>{const{funcTable:s}=t,i=new Map,l=e[o];for(let e=0;e<s.length;e++){const t=s.source[e],n=s.resource[e]>=0?l.get(s.resource[e]):-1;if(void 0===n)throw new Error(U`
          We couldn't find the resource of func ${e} in the translation map.
          This is a programming error.
        `);const o=s.name[e],c=s.lineNumber[e],u=[o,n,c].join("#"),d=r.get(u);void 0===d?(r.set(u,a.length),i.set(e,a.length),a.isJS.push(s.isJS[e]),a.name.push(o),a.resource.push(n),a.relevantForJS.push(s.relevantForJS[e]),a.source.push(t),a.lineNumber.push(c),a.columnNumber.push(s.columnNumber[e]),a.length++):i.set(e,d)}n.push(i)})),{funcTable:a,translationMaps:n}}(r,e),{frameTable:i,translationMaps:l}=function(e,t,r){const n=[],a=(0,b.vA)();return r.forEach(((r,o)=>{const{frameTable:s}=r,i=new Map,l=e[o],c=t[o];for(let e=0;e<s.length;e++){const t=l.get(s.func[e]);if(void 0===t)throw new Error(U`
          We couldn't find the function of frame ${e} in the translation map.
          This is a programming error.
        `);const r=s.nativeSymbol[e],n=null===r?null:c.get(r);if(void 0===n)throw new Error(U`
          We couldn't find the nativeSymbol of frame ${e} in the translation map.
          This is a programming error.
        `);a.address.push(s.address[e]),a.inlineDepth.push(s.inlineDepth[e]),a.category.push(s.category[e]),a.subcategory.push(s.subcategory[e]),a.nativeSymbol.push(n),a.func.push(t),a.innerWindowID.push(s.innerWindowID[e]),a.line.push(s.line[e]),a.column.push(s.column[e]),i.set(e,a.length),a.length++}n.push(i)})),{frameTable:a,translationMaps:n}}(s,a,e),{stackTable:c,translationMaps:u}=function(e,t){const r=[],n=(0,b.Gh)();return t.forEach(((t,a)=>{const{stackTable:o}=t,s=new Map,i=e[a];for(let e=0;e<o.length;e++){const t=i.get(o.frame[e]);if(void 0===t)throw new Error(U`
          We couldn't find the frame of stack ${e} in the translation map.
          This is a programming error.
        `);const r=o.prefix[e],a=null===r?null:s.get(r);if(void 0===a)throw new Error(U`
          We couldn't find the prefix of stack ${e} in the translation map.
          This is a programming error.
        `);n.frame.push(t),n.prefix.push(a),s.set(e,n.length),n.length++}r.push(s)})),{stackTable:n,translationMaps:r}}(l,e),d=function(e,t){const r=t.map((e=>e.samples)),n=r.map(pe),a=Array(r.length).fill(0),o=[],s={...(0,b.cy)(),threadId:o};for(;;){let i=null,l=1/0;for(let e=0;e<r.length;e++){const t=r[e],o=a[e];if(o>=t.length)continue;const s=n[e][o];s<l&&(i=e,l=s)}if(null===i)break;const c=i,u=r[c],d=n[c],f=a[c],h=u.stack[f],m=null===h?null:e[c].get(h);if(void 0===m)throw new Error(U`
          We couldn't find the stack of sample ${f} in the translation map.
          This is a programming error.
        `);s.stack.push(m),(0,T.Nn)(s.eventDelay).push(null),s.time.push(d[f]),o.push(u.threadId?u.threadId[f]:t[c].tid),s.length++,a[c]++}return s}(u,e),{markerTable:f}=function(e,t){const r=[],n={...(0,b.qc)(),threadId:r},a=[];return t.forEach(((t,o)=>{const s=e[o],i=new Map,{markers:l}=t;for(let e=0;e<l.length;e++){const a=l.name[e],o=l.data[e];if(o&&"cause"in o&&o.cause){const e=o.cause.stack,t=null!==e?s.get(e):null;if(void 0===t)throw new Error(`Missing old stack entry ${e} in the translation map.`);n.data.push({...o,cause:{...o.cause,stack:t}})}else n.data.push(o);n.name.push(a),n.startTime.push(l.startTime[e]),n.endTime.push(l.endTime[e]),n.phase.push(l.phase[e]),n.category.push(l.category[e]),r.push(l.threadId?l.threadId[e]??t.tid:t.tid),i.set(e,n.length),n.length++}a.push(i)})),{markerTable:n,translationMaps:a}}(u,e);let h=1/0,m=-1/0,p=1/0,g=-1/0;for(const t of e)h=Math.min(t.processStartupTime,h),m=Math.max(t.processShutdownTime||1/0,m),p=Math.min(t.registerTime,p),g=Math.max(t.unregisterTime||1/0,g);return{processType:"merged",processStartupTime:h,processShutdownTime:m===1/0?null:m,registerTime:p,unregisterTime:g===1/0?null:g,pausedRanges:[],name:"Merged thread",pid:"Merged thread",tid:"Merged thread",isMainThread:!0,samples:d,markers:f,stackTable:c,frameTable:i,funcTable:o,nativeSymbols:n,resourceTable:t}}Error;var Jr="NOT_FOUND",Kr=function(e,t){return e===t};function qr(e,t){var r,n,a="object"==typeof t?t:{equalityCheck:t},o=a.equalityCheck,s=void 0===o?Kr:o,i=a.maxSize,l=void 0===i?1:i,c=a.resultEqualityCheck,u=function(e){return function(t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,a=0;a<n;a++)if(!e(t[a],r[a]))return!1;return!0}}(s),d=1===l?(r=u,{get:function(e){return n&&r(n.key,e)?n.value:Jr},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}):function(e,t){var r=[];function n(e){var n=r.findIndex((function(r){return t(e,r.key)}));if(n>-1){var a=r[n];return n>0&&(r.splice(n,1),r.unshift(a)),a.value}return Jr}return{get:n,put:function(t,a){n(t)===Jr&&(r.unshift({key:t,value:a}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(l,u);function f(){var t=d.get(arguments);if(t===Jr){if(t=e.apply(null,arguments),c){var r=d.getEntries().find((function(e){return c(e.value,t)}));r&&(t=r.value)}d.put(arguments,t)}return t}return f.clearCache=function(){return d.clear()},f}function Zr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var o,s=0,i={memoizeOptions:void 0},l=n.pop();if("object"==typeof l&&(i=l,l=n.pop()),"function"!=typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var c=i.memoizeOptions,u=void 0===c?r:c,d=Array.isArray(u)?u:[u],f=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}(n),h=e.apply(void 0,[function(){return s++,l.apply(null,arguments)}].concat(d)),m=e((function(){for(var e=[],t=f.length,r=0;r<t;r++)e.push(f[r].apply(null,arguments));return o=h.apply(null,e)}));return Object.assign(m,{resultFunc:l,memoizedResultFunc:h,dependencies:f,lastResult:function(){return o},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),m}}var Yr=Zr(qr);const Qr="%[a-f0-9]{2}",Xr=new RegExp("("+Qr+")|([^%]+?)","gi"),en=new RegExp("("+Qr+")+","gi");function tn(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(1===e.length)return e;t=t||1;const r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],tn(r),tn(n))}function rn(e){try{return decodeURIComponent(e)}catch{let t=e.match(Xr)||[];for(let r=1;r<t.length;r++)t=(e=tn(t,r).join("")).match(Xr)||[];return e}}function nn(e,t){const r={};if(Array.isArray(t))for(const n of t){const t=Object.getOwnPropertyDescriptor(e,n);t?.enumerable&&Object.defineProperty(r,n,t)}else for(const n of Reflect.ownKeys(e)){const a=Object.getOwnPropertyDescriptor(e,n);a.enumerable&&t(n,e[n],e)&&Object.defineProperty(r,n,a)}return r}function an(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===e||""===t)return[];const r=e.indexOf(t);return-1===r?[]:[e.slice(0,r),e.slice(r+t.length)]}const on=e=>null==e,sn=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),ln=Symbol("encodeFragmentIdentifier");function cn(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function un(e,t){return t.encode?t.strict?sn(e):encodeURIComponent(e):e}function dn(e,t){return t.decode?function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return function(e){const t={"%FE%FF":"","%FF%FE":""};let r=en.exec(e);for(;r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{const e=rn(r[0]);e!==r[0]&&(t[r[0]]=e)}r=en.exec(e)}t["%C2"]="";const n=Object.keys(t);for(const r of n)e=e.replace(new RegExp(r,"g"),t[r]);return e}(e)}}(e):e}function fn(e){return Array.isArray(e)?e.sort():"object"==typeof e?fn(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function hn(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function mn(e,t,r){return"string"===r&&"string"==typeof e?e:"function"==typeof r&&"string"==typeof e?r(e):"boolean"===r&&null===e||("boolean"!==r||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()?"boolean"!==r||null===e||"1"!==e.toLowerCase()&&"0"!==e.toLowerCase()?"string[]"===r&&"none"!==t.arrayFormat&&"string"==typeof e?[e]:"number[]"!==r||"none"===t.arrayFormat||Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim()?"number"!==r||Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim()?!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()?t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?Number(e):e:"true"===e.toLowerCase():Number(e):[Number(e)]:"1"===e.toLowerCase():"true"===e.toLowerCase())}function pn(e){const t=(e=hn(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function gn(e,t){cn((t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...t}).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),t?void 0!==n[e]?n[e]=[...n[e],r]:n[e]=[r]:n[e]=r};case"colon-list-separator":return(e,r,n)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[...n[e],r]:n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const a="string"==typeof r&&r.includes(e.arrayFormatSeparator)?r.split(e.arrayFormatSeparator).map((t=>dn(t,e))):null===r?r:dn(r,e);n[t]=a};case"bracket-separator":return(t,r,n)=>{const a=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!a)return void(n[t]=r?dn(r,e):r);const o=null===r?[]:dn(r,e).split(e.arrayFormatSeparator);void 0!==n[t]?n[t]=[...n[t],...o]:n[t]=o};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[...[r[e]].flat(),t]:r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const a of e.split("&")){if(""===a)continue;const e=t.decode?a.replaceAll("+"," "):a;let[o,s]=an(e,"=");void 0===o&&(o=e),s=void 0===s?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:dn(s,t),r(dn(o,t),s,n)}for(const[e,r]of Object.entries(n))if("object"==typeof r&&null!==r&&"string"!==t.types[e])for(const[n,a]of Object.entries(r)){const o=t.types[e],s="function"==typeof o?o:o?o.replace("[]",""):void 0;r[n]=mn(a,t,s)}else"object"==typeof r&&null!==r&&"string"===t.types[e]?n[e]=Object.values(r).join(t.arrayFormatSeparator):n[e]=mn(r,t,t.types[e]);return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return e[t]=Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?fn(r):r,e}),Object.create(null))}function yn(e,t){if(!e)return"";cn((t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t}).arrayFormatSeparator);const r=r=>t.skipNull&&on(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const a=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[un(t,e),"[",a,"]"].join("")]:[...r,[un(t,e),"[",un(a,e),"]=",un(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[un(t,e),"[]"].join("")]:[...r,[un(t,e),"[]=",un(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[un(t,e),":list="].join("")]:[...r,[un(t,e),":list=",un(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:(a=null===a?"":a,0===n.length?[[un(r,e),t,un(a,e)].join("")]:[[n,un(a,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,un(t,e)]:[...r,[un(t,e),"=",un(n,e)].join("")]}}(t),a={};for(const[t,n]of Object.entries(e))r(t)||(a[t]=n);const o=Object.keys(a);return!1!==t.sort&&o.sort(t.sort),o.map((r=>{let a=e[r];if(t.replacer&&(a=t.replacer(r,a),void 0===a))return"";if(void 0===a)return"";if(null===a)return un(r,t);if(Array.isArray(a)){if(0===a.length&&"bracket-separator"===t.arrayFormat)return un(r,t)+"[]";let e=a;return t.replacer&&(e=a.map(((e,n)=>t.replacer(`${r}[${n}]`,e))).filter((e=>void 0!==e))),e.reduce(n(r),[]).join("&")}return un(r,t)+"="+un(a,t)})).filter((e=>e.length>0)).join("&")}function bn(e,t){t={decode:!0,...t};let[r,n]=an(e,"#");return void 0===r&&(r=e),{url:r?.split("?")?.[0]??"",query:gn(pn(e),t),...t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:dn(n,t)}:{}}}function Tn(e,t){t={encode:!0,strict:!0,[ln]:!0,...t};const r=hn(e.url).split("?")[0]||"";let n=yn({...gn(pn(e.url),{sort:!1,...t}),...e.query},t);n&&=`?${n}`;let a=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);if("string"==typeof e.fragmentIdentifier){const n=new URL(r);n.hash=e.fragmentIdentifier,a=t[ln]?n.hash:`#${e.fragmentIdentifier}`}return`${r}${n}${a}`}function wn(e,t,r){r={parseFragmentIdentifier:!0,[ln]:!1,...r};const{url:n,query:a,fragmentIdentifier:o}=bn(e,r);return Tn({url:n,query:nn(a,t),fragmentIdentifier:o},r)}function vn(e,t,r){return wn(e,Array.isArray(t)?e=>!t.includes(e):(e,r)=>!t(e,r),r)}const Sn=n;function kn({start:e,end:t}){const r=Math.floor(1e6*e),n=Math.ceil(1e6*t)-r,a=String(n);let o;if(n>9e6){const e=String(r).slice(0,-6);let t=a.slice(0,-6);a.endsWith("000000")||(t=(+t+1).toString()),o=`${e}m${t}`}else if(n>9e3){const e=String(r).slice(0,-3);let t=a.slice(0,-3);a.endsWith("000")||(t=(+t+1).toString()),o=`${e}u${t}`}else o=0===n?`${r}n1`:`${r}n${a}`;return o}function In(e=[]){return e.map(kn).join("~")}const xn="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ._",Nn=xn[32];function _n(e){const t=Array.from(e);return t.sort(((e,t)=>e-t)),Cn(t)}function Cn(e){let t="";for(let r=0;r<e.length;r++){const n=An(e,r);0!==n?(r+=n,t+=Nn,t+=On(e[r])):t+=On(e[r])}return t}function En(e){const t=[];let r=0;for(;r<e.length;){const{value:n,hasLeadingZero:a,nextI:o}=Mn(e,r);if(a&&t.length>=1){const e=t[t.length-1],r=n;if(r>e)for(let n=e+1;n<r;n++)t.push(n);else for(let n=e-1;n>r;n--)t.push(n)}t.push(n),r=o}return t}function An(e,t){if(t<1||t+1>=e.length)return 0;const r=e[t-1],n=e[t],a=e[t+1];let o=0;if(n===r+1&&a===n+1)for(o=1;t+o+1<e.length&&e[t+o+1]===n+o+1;)o++;else if(n===r-1&&a===n-1)for(o=1;t+o+1<e.length&&e[t+o+1]===n-o-1;)o++;return o}function On(e){let t=e,r=xn[31&t];for(t>>=5;0!==t;)r=xn[32+(31&t)]+r,t>>=5;return r}function Pn(e){switch(e){case"0":default:return 0;case"1":return 1;case"2":return 2;case"3":return 3;case"4":return 4;case"5":return 5;case"6":return 6;case"7":return 7;case"8":return 8;case"9":return 9;case"a":return 10;case"b":return 11;case"c":return 12;case"d":return 13;case"e":return 14;case"f":return 15;case"g":return 16;case"h":return 17;case"i":return 18;case"j":return 19;case"k":return 20;case"l":return 21;case"m":return 22;case"n":return 23;case"o":return 24;case"p":return 25;case"q":return 26;case"r":return 27;case"s":return 28;case"t":return 29;case"u":return 30;case"v":return 31;case"w":return 32;case"x":return 33;case"y":return 34;case"z":return 35;case"A":return 36;case"B":return 37;case"C":return 38;case"D":return 39;case"E":return 40;case"F":return 41;case"G":return 42;case"H":return 43;case"I":return 44;case"J":return 45;case"K":return 46;case"L":return 47;case"M":return 48;case"N":return 49;case"O":return 50;case"P":return 51;case"Q":return 52;case"R":return 53;case"S":return 54;case"T":return 55;case"U":return 56;case"V":return 57;case"W":return 58;case"X":return 59;case"Y":return 60;case"Z":return 61;case".":return 62;case"_":return 63}}function Mn(e,t){let r=t,n=Pn(e[r]),a=32&n,o=31&n;const s=0!==a&&0===o;let i=o;for(r++;a&&r<e.length;)n=Pn(e[r]),a=32&n,o=31&n,i=i<<5|o,r++;return{value:i,hasLeadingZero:s,nextI:r}}function Rn(e){return function(e){let t="",r=0,n=null,a=0;for(let o=1;o<e.length;o++)"<"===e[o]?(" "!==e[o-1]&&"."!==e[o-1]&&null===n&&(t+=e.slice(a,o),a=o,n=r),r++):">"===e[o]&&(r--,r===n&&(a=o+1,n=null));return t+=e.slice(a),t}(function(e){const t=e.replace(/ \[clone [^]+\]$/,"").replace(/ const$/,"").replace(/^static /,"");if(")"!==t[t.length-1])return e;let r=0;for(let e=t.length-1;e>0;e--)if(")"===t[e])r++;else if("("===t[e]&&(r--,0===r))return t.substr(0,e);return t}(e))}const Fn=Object.keys({"focus-subtree":!0,"focus-function":!0,"merge-call-node":!0,"merge-function":!0,"drop-function":!0,"collapse-resource":!0,"collapse-direct-recursion":!0,"collapse-recursion":!0,"collapse-function-subtree":!0,"focus-category":!0,"filter-samples":!0}),Dn={},Ln={};function Un(e){return e.map((e=>{const t=Dn[e.type];if(!t)throw new Error("Expected to be able to convert a transform into its short key.");switch(e.type){case"merge-function":case"drop-function":case"collapse-function-subtree":case"focus-function":case"collapse-recursion":return`${t}-${e.funcIndex}`;case"focus-category":return`${t}-${e.category}`;case"collapse-resource":return`${t}-${e.implementation}-${e.resourceIndex}-${e.collapsedFuncIndex}`;case"collapse-direct-recursion":return`${t}-${e.implementation}-${e.funcIndex}`;case"focus-subtree":case"merge-call-node":{let r=[t,e.implementation,Cn(e.callNodePath)].join("-");return"inverted"in e&&e.inverted&&(r+="-i"),r}case"filter-samples":return`${t}-${function(e){if("marker-search"===e)return"m";throw(0,T.lC)(e)}(e.filterType)}-${e.filter}`;default:throw(0,T.lC)(e)}})).join("~")}function $n(e,t,r,n){const{funcTable:a,stringTable:o,resourceTable:s}=t,{categories:i}=e,l=n.map((e=>{if("collapse-resource"===e.type){const t=s.name[e.resourceIndex];return{l10nId:"TransformNavigator--collapse-resource",item:o.getString(t)}}if("focus-category"===e.type){if(void 0===i)throw new Error("Expected categories to be defined.");return{l10nId:"TransformNavigator--focus-category",item:i[e.category].name}}if("filter-samples"===e.type){if("marker-search"===e.filterType)return{l10nId:"TransformNavigator--drop-samples-outside-of-markers-matching",item:e.filter};throw(0,T.lC)(e.filterType)}let t;switch(e.type){case"focus-subtree":case"merge-call-node":t=e.callNodePath[e.callNodePath.length-1];break;case"focus-function":case"merge-function":case"drop-function":case"collapse-direct-recursion":case"collapse-recursion":case"collapse-function-subtree":t=e.funcIndex;break;default:throw(0,T.lC)(e)}const r=a.name[t],n=Rn(o.getString(r));switch(e.type){case"focus-subtree":return{l10nId:"TransformNavigator--focus-subtree",item:n};case"focus-function":return{l10nId:"TransformNavigator--focus-function",item:n};case"merge-call-node":return{l10nId:"TransformNavigator--merge-call-node",item:n};case"merge-function":return{l10nId:"TransformNavigator--merge-function",item:n};case"drop-function":return{l10nId:"TransformNavigator--drop-function",item:n};case"collapse-direct-recursion":return{l10nId:"TransformNavigator--collapse-direct-recursion-only",item:n};case"collapse-recursion":return{l10nId:"TransformNavigator--collapse-recursion",item:n};case"collapse-function-subtree":return{l10nId:"TransformNavigator--collapse-function-subtree",item:n};default:throw(0,T.lC)(e)}}));return l.unshift({l10nId:"TransformNavigator--complete",item:r}),l}function jn(e,t,r,n){switch(t.type){case"focus-subtree":return function(e,t){return Bn(e,t)?t.slice(e.length-1):[]}(t.callNodePath,e);case"focus-function":return function(e,t){const r=t.indexOf(e);return-1===r?[]:t.slice(r)}(t.funcIndex,e);case"focus-category":return function(e,t,r){const n=[];let a=-1;for(const o of t){const t=r.getCallNodeIndexFromParentAndFunc(a,o);if(null===t)throw new Error(`We couldn't find a node with prefix ${a} and func ${o}, this shouldn't happen.`);r.categoryForNode(t)===e&&n.push(o),a=t}return n}(t.category,e,n);case"merge-call-node":return function(e,t){return Bn(e,t)?t.filter(((t,r)=>r!==e.length-1)):t}(t.callNodePath,e);case"merge-function":return function(e,t){return t.filter((t=>t!==e))}(t.funcIndex,e);case"drop-function":return function(e,t){return t.includes(e)?[]:t}(t.funcIndex,e);case"collapse-resource":return function(e,t,r,n){return n.map((n=>r.resource[n]===e?t:n)).filter(((e,r,n)=>e!==n[r-1]||e!==t))}(t.resourceIndex,t.collapsedFuncIndex,r.funcTable,e);case"collapse-direct-recursion":return function(e,t){const r=[];let n;for(let a=0;a<t.length;a++){const o=t[a];o===e&&o===n||r.push(o),n=o}return r}(t.funcIndex,e);case"collapse-recursion":return function(e,t){const r=t.indexOf(e),n=t.lastIndexOf(e);return-1===r?t:t.slice(0,r).concat(t.slice(n))}(t.funcIndex,e);case"collapse-function-subtree":return function(e,t){const r=t.indexOf(e);return-1===r?t:t.slice(0,r+1)}(t.funcIndex,e);case"filter-samples":return e;default:throw(0,T.lC)(t)}}function Bn(e,t){return e.length<=t.length&&e.every(((e,r)=>e===t[r]))}Fn.forEach((e=>{let t;switch(e){case"focus-subtree":t="f";break;case"focus-function":t="ff";break;case"focus-category":t="fg";break;case"merge-call-node":t="mcn";break;case"merge-function":t="mf";break;case"drop-function":t="df";break;case"collapse-resource":t="cr";break;case"collapse-direct-recursion":t="drec";break;case"collapse-recursion":t="rec";break;case"collapse-function-subtree":t="cfs";break;case"filter-samples":t="fs";break;default:throw(0,T.lC)(e)}Dn[e]=t,Ln[t]=e}));const Gn={combined:(e,t)=>!0,cpp:(e,t)=>{const{funcTable:r,stringTable:n}=e;if(e.funcTable.isJS[t])return!1;const a=n.getString(r.name[t]);return!(-1===r.resource[t]&&a.startsWith("0x"))},js:(e,t)=>e.funcTable.isJS[t]||e.funcTable.relevantForJS[t]};function Wn(e,t,r){const{stackTable:n,frameTable:a}=e,o=Gn[t],s=[];let i=null;for(let t=0;t<n.length;t++){const l=n.prefix[t],c=n.frame[t],u=a.func[c],d=null===l?-1:s[l];if(null===d)continue;const f=d+1;if(r[f]===u){if(s[t]=f,f===r.length-1){i=t;break}}else o(e,u)?s[t]=null:s[t]=d}if(null===i)return[];const l=[];for(let e=i;null!==e;e=n.prefix[e]){const t=n.frame[e],r=a.func[t];l.push(r)}return l.reverse()}function Hn(e,t,r,n,a,o,s){switch(t.type){case"focus-subtree":return t.inverted?function(e,t,r){return J("focusInvertedSubtree",(()=>{const n=t.length,{stackTable:a,frameTable:o}=e,s=Gn[r],i=new Map;return i.set(null,null),_e(e,a,(r=>{let l=i.get(r);return void 0===l&&(l=function(r){let i=0;for(let l=r;null!==l;l=a.prefix[l]){const r=a.frame[l],c=o.func[r];if(c===t[i]){if(i++,i===n)return l}else if(s(e,c))return null}return null}(r),i.set(r,l)),l}))}))}(e,t.callNodePath,t.implementation):function(e,t,r){return J("focusSubtree",(()=>{const{stackTable:n,frameTable:a}=e,o=t.length,s=new Int32Array(n.length),i=Gn[r],l=new Map;l.set(null,null);const c=(0,b.WG)();for(let r=0;r<n.length;r++){const u=n.prefix[r],d=null!==u?s[u]:0;let f=-1;if(-1!==d){const s=n.frame[r],h=n.category[r],m=n.subcategory[r];if(d===o)f=o;else{const r=a.func[s];r===t[d]?f=d+1:i(e,r)||(f=d)}if(f===o){const e=c.length++,t=l.get(u);c.prefix[e]=t??null,c.frame[e]=s,c.category[e]=h,c.subcategory[e]=m,l.set(r,e)}}s[r]=f}return _e(e,c,(e=>{if(null===e||s[e]!==o)return null;const t=l.get(e);if(void 0===t)throw new Error("Converting from the old stack to a new stack cannot be undefined");return t}))}))}(e,t.callNodePath,t.implementation);case"merge-call-node":return function(e,t,r){return J("mergeCallNode",(()=>{const{stackTable:n,frameTable:a}=e,o=t.length-1,s=new Map;s.set(null,null);const i=(0,b.WG)(),l=[],c=[],u=Gn[r];for(let r=0;r<n.length;r++){const d=n.prefix[r],f=n.frame[r],h=n.category[r],m=n.subcategory[r],p=a.func[f],g=null===d||c[d],y=null===d?-1:l[d],b=t[y+1];let T,w=!1,v=y;if(g&&v<o?b===p?(T=!0,v+1===o?w=!0:v++):T=!u(e,p):T=!1,c[r]=T,l[r]=v,w){const e=s.get(d);s.set(r,void 0===e?null:e)}else{const e=i.length++,t=s.get(d);i.prefix[e]=void 0===t?null:t,i.frame[e]=f,i.category[e]=h,i.subcategory[e]=m,s.set(r,e)}}return _e(e,i,Ee(s))}))}(e,t.callNodePath,t.implementation);case"merge-function":return function(e,t){const{stackTable:r,frameTable:n}=e,a=new Uint32Array(r.length),o=r.frame,s=n.func,i=r.prefix,l=new Array(r.length);for(let e=0;e<r.length;e++){const r=i[e],n=null===r?0:a[r],c=s[o[e]];a[e]=c===t?n:e+1;const u=0===n?null:n-1;l[e]=u}return _e(e,{...r,prefix:l},(e=>{if(null===e)return null;const t=a[e];return 0===t?null:t-1}))}(e,t.funcIndex);case"drop-function":return function(e,t){const{stackTable:r,frameTable:n}=e,a=new Uint8Array(r.length);for(let e=0;e<r.length;e++){const o=r.prefix[e],s=r.frame[e];(n.func[s]===t||null!==o&&1===a[o])&&(a[e]=1)}return _e(e,r,(e=>null!==e&&1===a[e]?null:e))}(e,t.funcIndex);case"focus-function":return function(e,t){return J("focusFunction",(()=>{const{stackTable:r,frameTable:n}=e,a=new Uint32Array(r.length),o=(0,b.WG)();for(let e=0;e<r.length;e++){const s=r.prefix[e],i=r.frame[e],l=n.func[i],c=null===s?0:a[s],u=0===c?null:c-1;if(null!==u||l===t){const t=o.length++;o.prefix[t]=u,o.frame[t]=i,o.category[t]=r.category[e],o.subcategory[t]=r.subcategory[e],a[e]=t+1}}return _e(e,o,(e=>{if(null===e)return null;const t=a[e];return 0===t?null:t-1}))}))}(e,t.funcIndex);case"focus-category":return function(e,t){return J("focusCategory",(()=>{const{stackTable:r}=e,n=new Map;n.set(null,null);const a=(0,b.WG)();for(let e=0;e<r.length;e++){const o=r.prefix[e],s=n.get(o);if(void 0===s)throw new Error("The prefix should not map to an undefined value");if(r.category[e]!==t){n.set(e,s);continue}const i=a.length++;a.prefix[i]=s,a.frame[i]=r.frame[e],a.category[i]=r.category[e],a.subcategory[i]=r.subcategory[e],n.set(e,i)}return _e(e,a,Ee(n))}))}(e,t.category);case"collapse-resource":return function(e,t,r,n,a){const{stackTable:o,funcTable:s,frameTable:i}=e,l=(0,b.LK)(i),c=(0,b.WG)(),u=new Map,d=new Map,f=new Set,h=Gn[n];let m;u.set(null,null);for(let n=0;n<o.length;n++){const p=o.prefix[n],g=o.frame[n],y=o.category[n],b=o.subcategory[n],T=i.func[g],w=s.resource[T],v=u.get(p);if(void 0===v)throw new Error("newStackPrefix must not be undefined");if(w===t)if(f.has(v))u.set(n,v);else{const e=d.get(p);if(void 0===e){const e=c.length++;f.add(e),u.set(n,e),d.set(p,e),void 0===m&&(m=l.length++,l.address.push(i.address[g]),l.inlineDepth.push(i.inlineDepth[g]),l.category.push(i.category[g]),l.subcategory.push(i.subcategory[g]),l.func.push(r),l.nativeSymbol.push(i.nativeSymbol[g]),l.line.push(i.line[g]),l.column.push(i.column[g]),l.innerWindowID.push(i.innerWindowID[g])),c.prefix.push(v),c.frame.push(m),c.category.push(y),c.subcategory.push(b)}else{if(null===e)throw new Error("existingCollapsedStack cannot be null");u.set(n,e),c.category[e]!==y?(c.category[e]=a,c.subcategory[e]=0):c.subcategory[e]!==b&&(c.subcategory[e]=0)}}else{if(!h(e,T)&&null!==v){const e=c.frame[v],r=l.func[e];if(s.resource[r]===t){u.set(n,v);continue}}const r=c.length++;c.prefix.push(v),c.frame.push(g),c.category.push(y),c.subcategory.push(b),u.set(n,r)}}return _e({...e,frameTable:l},c,Ee(u))}(e,t.resourceIndex,t.collapsedFuncIndex,t.implementation,r);case"collapse-direct-recursion":return function(e,t,r){const{stackTable:n,frameTable:a}=e,o=new Map,s=Gn[r],i=n.prefix.slice();for(let r=0;r<n.length;r++){const l=n.prefix[r],c=n.frame[r],u=a.func[c],d=null!==l?o.get(l):void 0;void 0===d?u===t&&o.set(r,l):s(e,u)?u===t&&(o.set(r,d),i[r]=d):o.set(r,d)}return{...e,stackTable:{...n,prefix:i}}}(e,t.funcIndex,t.implementation);case"collapse-recursion":return function(e,t){const{stackTable:r,frameTable:n}=e,a=new Map,o=r.prefix.slice();for(let e=0;e<r.length;e++){const s=r.prefix[e],i=r.frame[e],l=n.func[i],c=null!==s?a.get(s):void 0;void 0===c?l===t&&a.set(e,s):(a.set(e,c),l===t&&(o[e]=c))}return{...e,stackTable:{...r,prefix:o}}}(e,t.funcIndex);case"collapse-function-subtree":return function(e,t){const{stackTable:r,frameTable:n}=e,a=new Int32Array(r.length),o=new Uint8Array(r.length);for(let e=0;e<r.length;e++){const s=r.prefix[e];if(null!==s&&0!==o[s])a[e]=a[s],o[e]=1;else{a[e]=e;const s=r.frame[e];t===n.func[s]&&(o[e]=1)}}return _e(e,e.stackTable,(e=>null===e?null:a[e]))}(e,t.funcIndex);case"filter-samples":return function(e,t,r,n,a,o,s){return J("filterSamples",(()=>{const i=function(e){if(0===e.length)return[];const t=e.slice().sort(((e,t)=>e.start-t.start));let r={...t[0]};const n=[r];for(let e=1;e<t.length;e++){const a=t[e];a.start>=a.end||a.end<=r.end||(a.start<=r.end?r.end=a.end:(r={...a},n.push(r)))}return n}(function(){if("marker-search"===o)return function(e,t,r,n,a,o){const s=[],i=Nr(e,t,r,Vr(Ir(o)),n,a);for(const t of i){const{start:r,end:n}=e(t);null!==r&&null!==n&&s.push({start:r,end:n})}return s}(t,r,n,e.stringTable,a,s);throw(0,T.lC)(o)}());function l(e,t){const r=e.slice();let n=0;const a=t.length;for(const e of i){const{start:o,end:s}=e;for(;n<a&&!(t[n]>=o);n++)r[n]=null;for(;n<a&&!(t[n]>=s);n++);}for(;n<a;)r[n]=null,n++;return r}return Ne(e,e.stackTable,l,l,(e=>e))}))}(e,n,a,o,s,t.filterType,t.filter);default:throw(0,T.lC)(t)}}const Vn={calltree:"TabBar--calltree-tab","flame-graph":"TabBar--flame-graph-tab","stack-chart":"TabBar--stack-chart-tab","marker-chart":"TabBar--marker-chart-tab","marker-table":"TabBar--marker-table-tab","network-chart":"TabBar--network-tab","js-tracer":"TabBar--js-tracer-tab"},zn=Object.getOwnPropertyNames(Vn),Jn=(zn.map((e=>({name:e,title:Vn[e]}))),["calltree","flame-graph","stack-chart"]);function Kn(e){if(e.size>0)return _n(e)}function qn(e){const t=[];for(const[r,n]of e)n.size>0&&t.push(`${r}-${_n(n)}`);return t.join("~")||void 0}function Zn(e,t){const r=[];for(const n of t){const t=e.get(n);t&&t.length>0&&r.push(`${n}-${Cn(t)}`)}return r.join("~")||void 0}Error;const Yn={1:e=>{if("/"===e.pathname){const t=Object.assign({},e.query,Sn.parse(e.hash));"report"in t&&(e.pathname=`/public/${t.report}/calltree/`,e.hash="",e.query={})}void 0!==e.query.jsOnly&&(delete e.query.jsOnly,e.query.implementation="js"),e.query.callTreeFilters&&(e.query.transforms=e.query.callTreeFilters.split("~").map((e=>{const[t,r]=e.split("-");switch(t){case"prefix":return`f-combined-${r}`;case"prefixjs":return`f-js-${r}`;case"postfix":return`f-combined-${r}-i`;case"postfixjs":return`f-js-${r}-i`;default:return}})).filter((e=>e)).join("~"),delete e.query.callTreeFilters)},2:e=>{e.pathname=e.pathname.replace(/^(\/[^/]+\/[^/]+)\/timeline\/?/,"$1/stack-chart/").replace(/^(\/[^/]+\/[^/]+)\/markers\/?/,"$1/marker-table/")},3:e=>{const{query:t}=e;"hidePlatformDetails"in t&&(delete t.hidePlatformDetails,t.implementation="js")},4:(e,t)=>{const r=e.query,n=void 0===r.thread?null:+r.thread;if(null===n||void 0===t)return;const a=function(e){if(!e)return[];const t=[];return e.split("~").forEach((e=>{const r=e.split("-"),n=r[0],a=(0,T.DO)(Ln[n]);if(null!==a)switch(a){case"collapse-resource":{const[,e,n,o]=r,s=parseInt(n,10),i=parseInt(o,10);if(isNaN(s)||isNaN(i))break;s>=0&&t.push({type:a,resourceIndex:s,collapsedFuncIndex:i,implementation:de(e)});break}case"collapse-recursion":{const[,e]=r,n=parseInt(e,10);if(isNaN(n)||n<0)break;t.push({type:"collapse-recursion",funcIndex:n});break}case"collapse-direct-recursion":{const[,e,n]=r,a=parseInt(n,10);if(isNaN(a)||a<0)break;t.push({type:"collapse-direct-recursion",funcIndex:a,implementation:de(e)});break}case"merge-function":case"focus-function":case"drop-function":case"collapse-function-subtree":{const[,e]=r,n=parseInt(e,10);if(!isNaN(n)&&n>=0)switch(a){case"merge-function":t.push({type:"merge-function",funcIndex:n});break;case"focus-function":t.push({type:"focus-function",funcIndex:n});break;case"drop-function":t.push({type:"drop-function",funcIndex:n});break;case"collapse-function-subtree":t.push({type:"collapse-function-subtree",funcIndex:n});break;default:throw new Error("Unmatched transform.")}break}case"focus-category":{const[,e]=r,n=parseInt(e,10);!isNaN(n)&&n>=0&&t.push({type:"focus-category",category:n});break}case"focus-subtree":case"merge-call-node":{const[,e,n,o]=r,s=de(e),i=En(n),l=Boolean(o);switch(a){case"focus-subtree":t.push({type:"focus-subtree",implementation:s,callNodePath:i,inverted:l});break;case"merge-call-node":t.push({type:"merge-call-node",implementation:s,callNodePath:i});break;default:throw new Error("Unmatched transform.")}break}case"filter-samples":{const[,e,...n]=r,a=n.join("-"),o=function(e){if("m"===e)return"marker-search";throw new Error("Unknown filter type.")}(e);t.push({type:"filter-samples",filterType:o,filter:a});break}default:throw(0,T.lC)(a)}else console.error("Unrecognized transform was passed to the URL.",n)})),t}(r.transforms);if(!a||0===a.length)return;const o=t.threads[n];for(let e=0;e<a.length;e++){const t=a[e];if(!("implementation"in t)||"js"!==t.implementation||!("callNodePath"in t)||!t.callNodePath)continue;const r=Qn(o,t.callNodePath);null!==r&&(t.callNodePath=Xn(o,r))}e.query.transforms=Un(a)},5:({query:e})=>{e.range&&(e.range=e.range.split("~").map((e=>{const t=e.match(/^(-?[0-9.]+)_(-?[0-9.]+)$/);if(!t)return console.error(`The range "${e}" couldn't be parsed, ignoring.`),null;const r=1e3*Number(t[1]),n=1e3*Number(t[2]);return isNaN(r)||isNaN(n)?(console.error(`The range "${e}" couldn't be parsed, ignoring.`),null):kn({start:r,end:n})})).filter(Boolean).join("~"))},6:({query:e})=>{if(e.globalTrackOrder){const t=e.globalTrackOrder.split("-").map((e=>+e));e.globalTrackOrder=Cn(t)||void 0}if(e.hiddenGlobalTracks){const t=new Set(e.hiddenGlobalTracks.split("-").map((e=>+e)));e.hiddenGlobalTracks=_n(t)||void 0}if(e.hiddenLocalTracksByPid&&(e.hiddenLocalTracksByPid=e.hiddenLocalTracksByPid.split("~").map((e=>{const[t,...r]=e.split("-");return`${t}-${_n(new Set(r.map((e=>+e))))}`})).join("~")),e.localTrackOrderByPid&&(e.localTrackOrderByPid=e.localTrackOrderByPid.split("~").map((e=>{const[t,...r]=e.split("-");return`${t}-${Cn(r.map((e=>+e)))}`})).join("~")),e.thread){const t=new Set(e.thread.split(",").map((e=>+e)));e.thread=_n(t)}e.transforms&&e.transforms.includes(";")&&delete e.transforms},7:({query:e})=>{switch(e.timelineType){case"cpu-category":delete e.timelineType;break;case"stack":break;default:e.timelineType="category"}},8:e=>{},9:({query:e})=>{if(e.transforms){const t=e.transforms.split("~");e.transforms=t.map((function(e){if(e.startsWith("irec-")){const[,,t]=e.split("-");return`rec-${t}`}return e.startsWith("rec-")?"d"+e:e})).join("~")}},10:({query:e},t)=>{if(!e.transforms||!e.thread||!t)return;const r=En(e.thread);if(1!==r.length)return;const n=r[0],a=t.threads[n].funcTable.length,o=e.transforms.split("~");e.transforms=o.map((function(e){if(e.startsWith("cr-")){const[,t,r]=e.split("-"),n=a+ +r;if(!isNaN(n))return`cr-${t}-${r}-${n}`}return e})).join("~")},11:e=>{"active-tab"!==e.query.view&&"origins"!==e.query.view||(e.query={})},12:(e,t)=>{const{query:r}=e;if(!("sourceView"in r)||!t||!t.shared.sources)return;const n=r.sourceView,{sources:a,stringArray:o}=t.shared,s=$e.M.withBackingArray(o).indexForString(n);if(-1!==s){const e=a.filename.indexOf(s);-1!==e&&(r.sourceViewIndex=e)}delete r.sourceView}};for(let e=1;e<=12;e++)if(!Yn[e])throw new Error(`There is no upgrader for version ${e}.`);for(const e of Object.keys(Yn)){const t=+e;if(t>12)throw new Error(L`
      There is an upgrader for version ${t}, which is larger than
      CURRENT_URL_VERSION (${12}). If you added a new upgrader,
      make sure and bump the CURRENT_URL_VERSION variable.
    `)}function Qn(e,t){const{stackTable:r,funcTable:n,frameTable:a}=e,o=new Map;o.set(null,-1);for(let e=0;e<r.length;e++){const s=r.prefix[e],i=r.frame[e],l=a.func[i],c=n.isJS[l];if(null!==s&&!o.has(s))continue;const u=(0,T.Nn)(o.get(s),"Unable to find the stack depth for a prefix"),d=u+1;if(c&&t[d]===l){if(d===t.length-1)return e;o.set(e,d)}else o.set(e,u)}return null}function Xn(e,t){const{funcTable:r,stackTable:n,frameTable:a}=e,o=[];let s=t;for(;null!==s;){const e=n.frame[s],t=a.func[e];(r.isJS[t]||r.relevantForJS[t])&&o.unshift(t),s=n.prefix[s]}return o}class ea{constructor(e,t){this._zipFileTable=void 0,this._parentToChildren=void 0,this._displayDataByIndex=void 0,this._zipFileUrl=void 0,this._zipFileTable=e,this._zipFileUrl=t,this._displayDataByIndex=new Map,this._parentToChildren=new Map,this._parentToChildren.set(null,this._computeChildrenArray(null))}getRoots(){return this.getChildren(null)}getChildren(e){let t=this._parentToChildren.get(e);return t||(t=this._computeChildrenArray(e),this._parentToChildren.set(e,t)),t}_computeChildrenArray(e){const t=[];for(let r=0;r<this._zipFileTable.length;r++)this._zipFileTable.prefix[r]===e&&t.push(r);return t}hasChildren(e){return this.getChildren(e).length>0}getAllDescendants(e){if(null===e)return new Set(Array.from({length:this._zipFileTable.length},((e,t)=>t)));const t=new Set;for(const r of this.getChildren(e)){t.add(r);for(const e of this.getAllDescendants(r))t.add(e)}return t}getParent(e){const t=this._zipFileTable.prefix[e];return null===t?-1:t}getDepth(e){return this._zipFileTable.depth[e]}getDisplayData(e){let t=this._displayDataByIndex.get(e);if(void 0===t){let r=null;this.hasChildren(e)||(r=window.location.origin+"/from-url/"+encodeURIComponent(this._zipFileUrl)+"/"+(0,T.hQ)("calltree")+"/?file="+encodeURIComponent(this._zipFileTable.path[e]));let n=this._zipFileTable.partName[e];const a=[".json"].find((e=>n.endsWith(e)));a&&(n=n.slice(0,n.length-a.length)),t={name:n,url:r,zipTableIndex:e},this._displayDataByIndex.set(e,t)}return t}}const ta=["localhost","127.0.0.1","::1"];function ra(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var na=()=>Math.random().toString(36).substring(7).split("").join("."),aa={INIT:`@@redux/INIT${na()}`,REPLACE:`@@redux/REPLACE${na()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${na()}`};function oa(e){const t=Object.keys(e),r={};for(let n=0;n<t.length;n++){const a=t[n];"function"==typeof e[a]&&(r[a]=e[a])}const n=Object.keys(r);let a;try{!function(e){Object.keys(e).forEach((t=>{const r=e[t];if(void 0===r(void 0,{type:aa.INIT}))throw new Error(ra(12));if(void 0===r(void 0,{type:aa.PROBE_UNKNOWN_ACTION()}))throw new Error(ra(13))}))}(r)}catch(e){a=e}return function(e={},t){if(a)throw a;let o=!1;const s={};for(let a=0;a<n.length;a++){const i=n[a],l=r[i],c=e[i],u=l(c,t);if(void 0===u)throw t&&t.type,new Error(ra(14));s[i]=u,o=o||u!==c}return o=o||n.length!==Object.keys(e).length,o?s:e}}const sa=(e="calltree",t)=>{switch(t.type){case"CHANGE_SELECTED_TAB":case"SELECT_TRACK":case"VIEW_FULL_PROFILE":case"CHANGE_TAB_FILTER":return t.selectedTab;case"FOCUS_CALL_TREE":return"calltree";default:return e}},ia=oa({selectedThreads:(e=null,t)=>{switch(t.type){case"CHANGE_SELECTED_THREAD":case"SELECT_TRACK":case"VIEW_FULL_PROFILE":case"ISOLATE_PROCESS":case"ISOLATE_PROCESS_MAIN_THREAD":case"HIDE_GLOBAL_TRACK":case"HIDE_LOCAL_TRACK":case"HIDE_PROVIDED_TRACKS":case"ISOLATE_LOCAL_TRACK":case"TOGGLE_RESOURCES_PANEL":case"CHANGE_TAB_FILTER":return t.selectedThreadIndexes;case"SANITIZED_PROFILE_PUBLISHED":{const{oldThreadIndexToNew:r}=t;if(null===e||!r)return e;const n=new Set;for(const t of e){const e=r.get(t);if(void 0===e)return console.error(L`
            Unable to map an old thread index to a new thread index for the selected
            thread when sanitizing a profile
          `),null;n.add(e)}return n}default:return e}},implementation:(e="combined",t)=>{switch(t.type){case"PROFILE_LOADED":return t.implementationFilter||e;case"CHANGE_IMPLEMENTATION_FILTER":return t.implementation;default:return e}},lastSelectedCallTreeSummaryStrategy:(e="timing",t)=>"CHANGE_CALL_TREE_SUMMARY_STRATEGY"===t.type?t.callTreeSummaryStrategy:e,invertCallstack:(e=!1,t)=>"CHANGE_INVERT_CALLSTACK"===t.type?t.invertCallstack:e,showUserTimings:(e=!1,t)=>"CHANGE_SHOW_USER_TIMINGS"===t.type?t.showUserTimings:e,stackChartSameWidths:(e=!1,t)=>"CHANGE_STACK_CHART_SAME_WIDTHS"===t.type?t.stackChartSameWidths:e,committedRanges:(e=[],t)=>{switch(t.type){case"COMMIT_RANGE":{const{start:r,end:n}=t;return[...e,{start:r,end:n}]}case"POP_COMMITTED_RANGES":return e.slice(0,t.firstPoppedFilterIndex);case"SANITIZED_PROFILE_PUBLISHED":return t.committedRanges?t.committedRanges:e;default:return e}},callTreeSearchString:(e="",t)=>"CHANGE_CALL_TREE_SEARCH_STRING"===t.type?t.searchString:e,markersSearchString:(e="",t)=>"CHANGE_MARKER_SEARCH_STRING"===t.type?t.searchString:e,networkSearchString:(e="",t)=>"CHANGE_NETWORK_SEARCH_STRING"===t.type?t.searchString:e,transforms:(e={},t)=>{switch(t.type){case"PROFILE_LOADED":return t.transformStacks||e;case"ADD_TRANSFORM_TO_STACK":{const{threadsKey:r,transform:n}=t,a=e[r]||[];return Object.assign({},e,{[r]:[...a,n]})}case"POP_TRANSFORMS_FROM_STACK":{const{threadsKey:r,firstPoppedFilterIndex:n}=t,a=e[r]||[];return Object.assign({},e,{[r]:a.slice(0,n)})}case"SANITIZED_PROFILE_PUBLISHED":{const{oldThreadIndexToNew:r}=t;if(!r)return e;const n={};for(const[t,a]of(0,T.WP)(e)){const e=r.get(Number(t));void 0!==e&&(n[e]=a)}return n}default:return e}},sourceView:(e={scrollGeneration:0,libIndex:null,sourceIndex:null},t)=>"UPDATE_BOTTOM_BOX"===t.type?{scrollGeneration:e.scrollGeneration+1,libIndex:t.libIndex,sourceIndex:t.sourceIndex}:e,assemblyView:(e={scrollGeneration:0,nativeSymbol:null,allNativeSymbolsForInitiatingCallNode:[],isOpen:!1},t)=>{switch(t.type){case"UPDATE_BOTTOM_BOX":return{scrollGeneration:e.scrollGeneration+1,nativeSymbol:t.nativeSymbol,allNativeSymbolsForInitiatingCallNode:t.allNativeSymbolsForInitiatingCallNode,isOpen:e.isOpen||t.shouldOpenAssemblyView};case"OPEN_ASSEMBLY_VIEW":return{...e,isOpen:!0};case"CLOSE_ASSEMBLY_VIEW":return{...e,isOpen:!1};default:return e}},isBottomBoxOpenPerPanel:(e=function(){const e={};return zn.forEach((t=>e[t]=!1)),e}(),t)=>{switch(t.type){case"UPDATE_BOTTOM_BOX":{const{currentTab:r,shouldOpenBottomBox:n}=t;return n&&!e[r]?{...e,[r]:!0}:e}case"CLOSE_BOTTOM_BOX_FOR_TAB":{const{tab:r}=t;return e[r]?{...e,[r]:!1}:e}default:return e}},timelineType:(e="cpu-category",t)=>{switch(t.type){case"CHANGE_TIMELINE_TYPE":return t.timelineType;case"VIEW_FULL_PROFILE":return null!==t.timelineType?t.timelineType:e;default:return e}},globalTrackOrder:(e=[],t)=>{switch(t.type){case"VIEW_FULL_PROFILE":case"CHANGE_GLOBAL_TRACK_ORDER":case"CHANGE_TAB_FILTER":return t.globalTrackOrder;case"SANITIZED_PROFILE_PUBLISHED":return t.oldThreadIndexToNew?[]:e;default:return e}},hiddenGlobalTracks:(e=new Set,t)=>{switch(t.type){case"VIEW_FULL_PROFILE":case"ISOLATE_LOCAL_TRACK":case"ISOLATE_PROCESS":case"ISOLATE_PROCESS_MAIN_THREAD":case"ISOLATE_SCREENSHOT_TRACK":case"CHANGE_TAB_FILTER":return t.hiddenGlobalTracks;case"HIDE_GLOBAL_TRACK":{const r=new Set(e);return r.add(t.trackIndex),r}case"SHOW_ALL_TRACKS":return new Set;case"SHOW_PROVIDED_TRACKS":{const r=new Set(e);return t.globalTracksToShow.forEach(Set.prototype.delete,r),r}case"SHOW_GLOBAL_TRACK":case"SHOW_GLOBAL_TRACK_INCLUDING_LOCAL_TRACKS":{const r=new Set(e);return r.delete(t.trackIndex),r}case"HIDE_PROVIDED_TRACKS":{const r=new Set(e);return t.globalTracksToHide.forEach(Set.prototype.add,r),r}case"SANITIZED_PROFILE_PUBLISHED":return t.oldThreadIndexToNew?new Set:e;default:return e}},hiddenLocalTracksByPid:(e=new Map,t)=>{switch(t.type){case"VIEW_FULL_PROFILE":case"CHANGE_TAB_FILTER":return t.hiddenLocalTracksByPid;case"HIDE_LOCAL_TRACK":{const r=new Map(e),n=new Set(r.get(t.pid));return n.add(t.trackIndex),r.set(t.pid,n),r}case"SHOW_ALL_TRACKS":{const t=new Map(e);for(const e of t)t.set(e[0],new Set);return t}case"SHOW_PROVIDED_TRACKS":{const r=new Map(e);for(const[n,a]of t.localTracksByPidToShow.entries()){const t=e.get(n)??new Set,o=new Set(t);a.forEach(Set.prototype.delete,o),r.set(n,o)}return r}case"SHOW_LOCAL_TRACK":{const r=new Map(e),n=new Set(r.get(t.pid));return n.delete(t.trackIndex),r.set(t.pid,n),r}case"SHOW_GLOBAL_TRACK_INCLUDING_LOCAL_TRACKS":{const r=new Map(e);return r.set(t.pid,new Set),r}case"HIDE_PROVIDED_TRACKS":{const r=new Map(e);for(const[n,a]of t.localTracksByPidToHide.entries()){const t=e.get(n)??new Set,o=new Set(t);a.forEach(Set.prototype.add,o),r.set(n,o)}return r}case"ISOLATE_PROCESS_MAIN_THREAD":case"ISOLATE_LOCAL_TRACK":{const r=new Map(e);return r.set(t.pid,t.hiddenLocalTracks),r}case"SANITIZED_PROFILE_PUBLISHED":return t.oldThreadIndexToNew?new Map:e;default:return e}},localTrackOrderByPid:(e=new Map,t)=>{switch(t.type){case"VIEW_FULL_PROFILE":case"ENABLE_EVENT_DELAY_TRACKS":case"ENABLE_EXPERIMENTAL_PROCESS_CPU_TRACKS":case"CHANGE_TAB_FILTER":return t.localTrackOrderByPid;case"CHANGE_LOCAL_TRACK_ORDER":{const r=new Map(e);return r.set(t.pid,t.localTrackOrder),r}case"SANITIZED_PROFILE_PUBLISHED":return t.oldThreadIndexToNew?new Map:e;default:return e}},localTrackOrderChangedPids:(e=new Set,t)=>{switch(t.type){case"CHANGE_LOCAL_TRACK_ORDER":{const r=new Set(e);return r.add(t.pid),r}case"SANITIZED_PROFILE_PUBLISHED":return t.oldThreadIndexToNew?new Set:e;default:return e}},showJsTracerSummary:(e=!1,t)=>"CHANGE_SHOW_JS_TRACER_SUMMARY"===t.type?t.showSummary:e,tabFilter:(e=null,t)=>"CHANGE_TAB_FILTER"===t.type?t.tabID:e,legacyThreadOrder:(e=null)=>e,legacyHiddenThreads:(e=null)=>e});var la;const ca=(la=oa({dataSource:(e="none",t)=>{switch(t.type){case"WAITING_FOR_PROFILE_FROM_FILE":return"from-file";case"PROFILE_PUBLISHED":case"SANITIZED_PROFILE_PUBLISHED":return"public";case"TRIGGER_LOADING_FROM_URL":return"from-url";case"PROFILE_REMOTELY_DELETED":return"unpublished";case"SET_DATA_SOURCE":return t.dataSource;default:return e}},hash:(e="",t)=>{switch(t.type){case"PROFILE_PUBLISHED":case"SANITIZED_PROFILE_PUBLISHED":return t.hash;case"PROFILE_REMOTELY_DELETED":return"";default:return e}},profileUrl:(e="",t)=>{switch(t.type){case"WAITING_FOR_PROFILE_FROM_URL":return t.profileUrl?t.profileUrl:e;case"TRIGGER_LOADING_FROM_URL":return t.profileUrl;default:return e}},profilesToCompare:(e=null,t)=>"CHANGE_PROFILES_TO_COMPARE"===t.type?t.profiles:e,selectedTab:sa,pathInZipFile:(e=null,t)=>{switch(t.type){case"PROCESS_PROFILE_FROM_ZIP_FILE":return t.pathInZipFile?t.pathInZipFile:null;case"PROFILE_PUBLISHED":case"SANITIZED_PROFILE_PUBLISHED":case"RETURN_TO_ZIP_FILE_LIST":return null;default:return e}},profileSpecific:ia,profileName:(e=null,t)=>{switch(t.type){case"PROFILE_PUBLISHED":case"SANITIZED_PROFILE_PUBLISHED":case"CHANGE_PROFILE_NAME":return t.profileName;default:return e}},symbolServerUrl:(e=null)=>e}),(e,t)=>{switch(t.type){case"UPDATE_URL_STATE":return t.newUrlState?t.newUrlState:la(void 0,t);case"RETURN_TO_ZIP_FILE_LIST":case"WAITING_FOR_PROFILE_FROM_FILE":return{...la(e,t),profileSpecific:ia(void 0,t),selectedTab:sa(void 0,t)};default:return la(e,t)}});function ua(e){return e.endsWith(".0")?e.slice(0,-2):e}const da=e=>e.urlState,fa=e=>da(e).profileSpecific,ha=e=>da(e).dataSource,ma=e=>da(e).hash,pa=e=>da(e).profileUrl,ga=e=>da(e).profilesToCompare,ya=e=>da(e).profileName,ba=e=>fa(e).committedRanges,Ta=e=>fa(e).implementation,wa=e=>fa(e).lastSelectedCallTreeSummaryStrategy,va=e=>fa(e).showUserTimings,Sa=e=>fa(e).stackChartSameWidths,ka=e=>fa(e).sourceView.sourceIndex,Ia=e=>fa(e).sourceView.scrollGeneration,xa=e=>fa(e).assemblyView.isOpen,Na=e=>fa(e).assemblyView.nativeSymbol,_a=e=>fa(e).assemblyView.scrollGeneration,Ca=e=>fa(e).showJsTracerSummary,Ea=e=>fa(e).callTreeSearchString,Aa=e=>fa(e).markersSearchString,Oa=e=>fa(e).networkSearchString,Pa=e=>da(e).selectedTab,Ma=e=>"calltree"===Pa(e)&&fa(e).invertCallstack,Ra=e=>fa(e).selectedThreads,Fa=e=>(0,T.Nn)(Ra(e),"Attempted to get a thread index before a profile was loaded."),Da=e=>Le(Fa(e)),La=e=>(0,T.Nn)((0,T.cF)(Fa(e)),"Expected to find at least one thread index in the selected thread indexes"),Ua=e=>fa(e).timelineType,$a=e=>fa(e).legacyThreadOrder,ja=e=>fa(e).legacyHiddenThreads,Ba=e=>fa(e).globalTrackOrder,Ga=e=>fa(e).hiddenGlobalTracks,Wa=e=>fa(e).hiddenLocalTracksByPid,Ha=e=>fa(e).localTrackOrderByPid,Va=e=>fa(e).tabFilter,za=e=>null!==Va(e),Ja=(e,t)=>(0,T.Nn)(Wa(e).get(t),"Unable to get the hidden tracks from the given pid"),Ka=(e,t)=>(0,T.Nn)(Ha(e).get(t),"Unable to get the track order from the given pid"),qa=Yr(Ea,Ir),Za=Yr(Aa,Ir),Ya=Yr(Oa,Ir),Qa=Yr(qa,xr),Xa=Yr(Za,Vr),eo=Yr(Ya,Vr),to=[],ro=(e,t)=>fa(e).transforms[t]||to,no=e=>{const t=Pa(e);return fa(e).isBottomBoxOpenPerPanel[t]},ao=Yr(da,(e=>t=>function(e){const t=function(e){const{dataSource:t}=e;switch(t){case"none":return[];case"compare":return null===e.profilesToCompare?["compare"]:["compare",e.selectedTab];case"uploaded-recordings":return["uploaded-recordings"];case"from-browser":case"from-post-message":case"unpublished":case"from-file":return[t,e.selectedTab];case"public":case"local":return[t,e.hash,e.selectedTab];case"from-url":return["from-url",encodeURIComponent(e.profileUrl),e.selectedTab];default:throw(0,T.lC)(t)}}(e),r=function(e){const{dataSource:t}=e;switch(t){case"none":case"uploaded-recordings":return"";case"compare":if(null===e.profilesToCompare)return"";break;case"public":case"local":case"from-browser":case"from-post-message":case"unpublished":case"from-file":case"from-url":break;default:throw(0,T.lC)(t)}const{selectedThreads:r}=e.profileSpecific,n=null!==r?Le(r):null,a={globalTrackOrder:(o=e.profileSpecific.globalTrackOrder,Cn(o)||void 0),hiddenGlobalTracks:Kn(e.profileSpecific.hiddenGlobalTracks),hiddenLocalTracksByPid:qn(e.profileSpecific.hiddenLocalTracksByPid),localTrackOrderByPid:Zn(e.profileSpecific.localTrackOrderByPid,e.profileSpecific.localTrackOrderChangedPids),tabID:e.profileSpecific.tabFilter??void 0,range:In(e.profileSpecific.committedRanges)||void 0,thread:null===r?void 0:_n(r),file:e.pathInZipFile||void 0,profiles:e.profilesToCompare||void 0,v:12,profileName:e.profileName||void 0,symbolServer:e.symbolServerUrl||void 0,implementation:"combined"===e.profileSpecific.implementation?void 0:e.profileSpecific.implementation,timelineType:"cpu-category"===e.profileSpecific.timelineType?void 0:e.profileSpecific.timelineType};var o;let s;const i=e.selectedTab;switch(i){case"stack-chart":s=a,s.showUserTimings=e.profileSpecific.showUserTimings?null:void 0,s.sameWidths=e.profileSpecific.stackChartSameWidths?null:void 0;case"flame-graph":case"calltree":{s=a,s.search=e.profileSpecific.callTreeSearchString||void 0,s.invertCallstack=e.profileSpecific.invertCallstack?null:void 0,null!==n&&e.profileSpecific.transforms[n]&&(s.transforms=Un(e.profileSpecific.transforms[n])||void 0),s.ctSummary="timing"===e.profileSpecific.lastSelectedCallTreeSummaryStrategy?void 0:e.profileSpecific.lastSelectedCallTreeSummaryStrategy;const{sourceView:t,assemblyView:r,isBottomBoxOpenPerPanel:o}=e.profileSpecific;o[i]&&(null!==t.sourceIndex&&(s.sourceViewIndex=t.sourceIndex),r.isOpen&&null!==r.nativeSymbol&&(s.assemblyView=function(e){const{libIndex:t,address:r,name:n,functionSize:a,functionSizeIsKnown:o}=e,s=r.toString(16);let i=a.toString(16);return o||(i+="_"),`${t}~${s}~${i}~${n}`}(r.nativeSymbol)));break}case"marker-table":case"marker-chart":s=a,s.markerSearch=e.profileSpecific.markersSearchString||void 0;break;case"network-chart":s=a,s.networkSearch=e.profileSpecific.networkSearchString||void 0;break;case"js-tracer":s=a,s.summary=e.profileSpecific.showJsTracerSummary?null:void 0;break;default:throw(0,T.lC)(i)}return Sn.stringify(s,{arrayFormat:"bracket"})}(e),{dataSource:n}=e;return"none"===n?"/":(0===t.length?"/":"/"+t.join("/")+"/")+(r?"?"+r:"")}((Array.isArray(t)?t:[t]).reduce(ca,e)))),oo=e=>da(e).pathInZipFile,so=e=>{const{profile:t}=e.profileView;return t?function(e){const t=function(e){const t=e.product||"",r=ua(function(e){if(e){const t=/[\d.]+$/.exec(e);if(t)return t[0]}return""}(e.misc));return t+(r?" "+r:"")}(e),r=function(e){switch(e.toolkit){case"android":return e.platform?ua(e.platform):"Android";case"cocoa":return e.oscpu?e.oscpu.replace(/^Intel /,"").replace(/^Mac OS X/,"macOS"):"macOS";case"windows":return e.oscpu?ua(e.oscpu.replace(/;.*$/,"").replace(/ NT/,"")):"Windows";case"gtk":case"gtk3":return e.oscpu?e.oscpu.slice(0,e.oscpu.indexOf(" ")):"Linux";default:return e.oscpu||""}}(e);return t+(r?`  ${r}`:"")}(t.meta):null},io=Yr(oo,(e=>e?function(e){const t=/(?:[^/]+\/)?[^/]+$/.exec(e);return null!==t?t[0]:""}(e):null)),lo=Yr(ya,io,so,((e,t,r)=>e||t||r||"Untitled profile")),co=Yr(ya,io,((e,t)=>e||t||""));const uo=Yr(da,(({symbolServerUrl:e})=>e&&function(e){try{const t=new URL(e);return!!function(e){try{const t=e instanceof URL?e:new URL(e);return ta.includes(t.hostname)}catch(e){return!1}}(t)||(["symbols.mozilla.org","symbolication.services.mozilla.com"].includes(t.hostname)?"https:"===t.protocol||(console.error(`HTTPS is required for non-localhost symbol servers. Rejecting ${e} and defaulting to ${w.JZ}.`),!1):(console.error(`The symbol server URL was not in the list of allowed domains. Rejecting ${e} and defaulting to ${w.JZ}.`),!1))}catch(t){return console.error(`The symbol server URL was not valid. Rejecting ${e} and defaulting to ${w.JZ}.`,t),!1}}(e)?e.endsWith("/")?e.slice(0,-1):e:w.JZ));function fo(e,t,r,n){switch(e.type){case"thread":return Ae(t,t[e.threadIndex]);case"network":return"Network";case"memory":return"Memory";case"bandwidth":return"Bandwidth";case"ipc":return`IPC  ${Ae(t,t[e.threadIndex])}`;case"event-delay":return Ae(t,t[e.threadIndex])+" Event Delay";case"process-cpu":return"Process CPU";case"power":return n[e.counterIndex].name;case"marker":return r.stringArray[e.markerName];default:throw(0,T.lC)(e,"Unhandled LocalTrack type.")}}const ho={selectedNonInvertedCallNodePath:[],selectedInvertedCallNodePath:[],expandedNonInvertedCallNodePaths:new j,expandedInvertedCallNodePaths:new j,selectedMarker:null,selectedNetworkMarker:null};function mo(e,t){return e[t]||ho}function po(e,t,r){const n={...e};return n[t]={...mo(e,t),...r},n}const go={fixedColumnWidths:null};oa({viewOptions:oa({perThread:(e={},t)=>{switch(t.type){case"PROFILE_LOADED":return{};case"BULK_SYMBOLICATION":{const{oldFuncToNewFuncsMaps:r}=t;return(0,T.K0)(e,((e,t)=>{const n=+t;if(Number.isNaN(n))throw new Error("Bulk symbolication only supports a single thread, and a ThreadsKey with multiple threads was used.");const a=r.get(n);return void 0===a?e:{...e,selectedNonInvertedCallNodePath:yr(a,e.selectedNonInvertedCallNodePath),selectedInvertedCallNodePath:yr(a,e.selectedInvertedCallNodePath),expandedNonInvertedCallNodePaths:br(a,e.expandedNonInvertedCallNodePaths),expandedInvertedCallNodePaths:br(a,e.expandedInvertedCallNodePaths)}}))}case"CHANGE_SELECTED_CALL_NODE":{const{isInverted:r,selectedCallNodePath:n,threadsKey:a,optionalExpandedToCallNodePath:o}=t,s=mo(e,a);if(function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=e.length-1;r>=0;r--)if(e[r]!==t[r])return!1;return!0}(n,r?s.selectedInvertedCallNodePath:s.selectedNonInvertedCallNodePath)&&!o)return e;let i=r?s.expandedInvertedCallNodePaths:s.expandedNonInvertedCallNodePaths;const l=o||n,c=[];for(let e=1;e<l.length;e++)c.push(l.slice(0,e));return c.some((e=>!i.has(e)))&&(i=new j(i),c.forEach((e=>i.add(e)))),po(e,a,r?{selectedInvertedCallNodePath:n,expandedInvertedCallNodePaths:i}:{selectedNonInvertedCallNodePath:n,expandedNonInvertedCallNodePaths:i})}case"CHANGE_INVERT_CALLSTACK":{const{newSelectedCallNodePath:r,selectedThreadIndexes:n,invertCallstack:a}=t;return(0,T.K0)(e,((e,t)=>{if(t===Le(n).toString()){const t=new j;for(let e=1;e<r.length;e++)t.add(r.slice(0,e));return a?{...e,selectedInvertedCallNodePath:r,expandedInvertedCallNodePaths:t}:{...e,selectedNonInvertedCallNodePath:r,expandedNonInvertedCallNodePaths:t}}return e}))}case"CHANGE_EXPANDED_CALL_NODES":{const{threadsKey:r,isInverted:n}=t,a=new j(t.expandedCallNodePaths);return po(e,r,n?{expandedInvertedCallNodePaths:a}:{expandedNonInvertedCallNodePaths:a})}case"CHANGE_SELECTED_MARKER":{const{threadsKey:r,selectedMarker:n}=t;return po(e,r,{selectedMarker:n})}case"CHANGE_SELECTED_NETWORK_MARKER":{const{threadsKey:r,selectedNetworkMarker:n}=t;return po(e,r,{selectedNetworkMarker:n})}case"ADD_TRANSFORM_TO_STACK":{const{threadsKey:r,transform:n,transformedThread:a,callNodeInfo:o}=t,s=function(e){return new j(Array.from(e).map((e=>jn(e,n,a,o))).filter((e=>e.length>0)))},i=function(e){return jn(e,n,a,o)},l=mo(e,r);return po(e,r,{selectedNonInvertedCallNodePath:i(l.selectedNonInvertedCallNodePath),selectedInvertedCallNodePath:i(l.selectedInvertedCallNodePath),expandedNonInvertedCallNodePaths:s(l.expandedNonInvertedCallNodePaths),expandedInvertedCallNodePaths:s(l.expandedInvertedCallNodePaths)})}case"POP_TRANSFORMS_FROM_STACK":{const{threadsKey:r}=t;return po(e,r,{selectedNonInvertedCallNodePath:[],selectedInvertedCallNodePath:[],expandedNonInvertedCallNodePaths:new j,expandedInvertedCallNodePaths:new j})}case"CHANGE_IMPLEMENTATION_FILTER":{const{transformedThread:r,threadsKey:n,previousImplementation:a,implementation:o}=t;if(a===o)return e;const s=mo(e,n),i=function(e){return"combined"===o?e=Wn(r,a,e):("combined"!==a&&(e=Wn(r,a,e)),e=function(e,t,r){const n=Gn[t];return r.filter((t=>n(e,t)))}(r,o,e)),e},l=function(e){const t=new j;for(let r=1;r<e.length;r++)t.add(e.slice(0,r));return t},c=i(s.selectedNonInvertedCallNodePath),u=i(s.selectedInvertedCallNodePath);return po(e,n,{selectedNonInvertedCallNodePath:c,selectedInvertedCallNodePath:u,expandedNonInvertedCallNodePaths:l(c),expandedInvertedCallNodePaths:l(u)})}default:return e}},symbolicationStatus:(e="DONE",t)=>{switch(t.type){case"START_SYMBOLICATING":return"SYMBOLICATING";case"DONE_SYMBOLICATING":return"DONE";default:return e}},waitingForLibs:(e=new Set,t)=>{switch(t.type){case"REQUESTING_SYMBOL_TABLE":{const r=new Set(e);return r.add(t.requestedLib),r}case"RECEIVED_SYMBOL_TABLE_REPLY":{const r=new Set(e);return r.delete(t.requestedLib),r}default:return e}},previewSelection:(e=null,t)=>{switch(t.type){case"UPDATE_PREVIEW_SELECTION":return t.previewSelection;case"COMMIT_RANGE":return null;case"POP_COMMITTED_RANGES":return t.committedRange?{isModifying:!1,selectionStart:t.committedRange.start,selectionEnd:t.committedRange.end}:null;default:return e}},scrollToSelectionGeneration:(e=0,t)=>{switch(t.type){case"CHANGE_INVERT_CALLSTACK":case"CHANGE_SELECTED_THREAD":case"SELECT_TRACK":case"HIDE_GLOBAL_TRACK":case"HIDE_LOCAL_TRACK":case"HIDE_PROVIDED_TRACKS":case"CHANGE_CALL_TREE_SEARCH_STRING":case"CHANGE_MARKER_SEARCH_STRING":case"CHANGE_NETWORK_SEARCH_STRING":return e+1;case"CHANGE_SELECTED_CALL_NODE":case"CHANGE_SELECTED_MARKER":case"CHANGE_SELECTED_NETWORK_MARKER":return"pointer"===t.context.source?e:e+1;default:return e}},focusCallTreeGeneration:(e=0,t)=>"FOCUS_CALL_TREE"===t.type?e+1:e,rootRange:(e={start:0,end:1},t)=>"PROFILE_LOADED"===t.type?function(e){const t={start:1/0,end:-1/0};return void 0!==e.meta.profilingStartTime&&e.meta.profilingEndTime?{start:e.meta.profilingStartTime,end:e.meta.profilingEndTime}:(e.threads.forEach((r=>{const n=ue(r,e.meta.interval);t.start=Math.min(t.start,n.start),t.end=Math.max(t.end,n.end)})),t)}(t.profile):e,lastNonShiftClick:(e=null,t)=>{switch(t.type){case"SELECT_TRACK":return t.lastNonShiftClickInformation;case"HIDE_GLOBAL_TRACK":{if(!e)return null;const{clickedTrack:r}=e;return"global"===r.type&&r.trackIndex===t.trackIndex||"local"===r.type&&r.pid===t.pid?null:e}case"HIDE_LOCAL_TRACK":{if(!e)return null;const{clickedTrack:r}=e;return"local"===r.type&&r.pid===t.pid&&r.trackIndex===t.trackIndex?null:e}default:return e}},rightClickedTrack:(e=null,t)=>"CHANGE_RIGHT_CLICKED_TRACK"===t.type?t.trackReference:e,rightClickedCallNode:(e=null,t)=>{switch(t.type){case"BULK_SYMBOLICATION":{if(null===e)return null;const{oldFuncToNewFuncsMaps:r}=t,n=r.get(+e.threadsKey);return void 0===n?e:{...e,callNodePath:yr(n,e.callNodePath)}}case"CHANGE_RIGHT_CLICKED_CALL_NODE":return null!==t.callNodePath?{threadsKey:t.threadsKey,callNodePath:t.callNodePath}:null;case"SET_CONTEXT_MENU_VISIBILITY":return t.isVisible?e:null;case"PROFILE_LOADED":case"CHANGE_INVERT_CALLSTACK":case"ADD_TRANSFORM_TO_STACK":case"POP_TRANSFORMS_FROM_STACK":case"CHANGE_IMPLEMENTATION_FILTER":return null;default:return e}},rightClickedMarker:(e=null,t)=>{switch(t.type){case"CHANGE_RIGHT_CLICKED_MARKER":return null!==t.markerIndex?{threadsKey:t.threadsKey,markerIndex:t.markerIndex}:null;case"SET_CONTEXT_MENU_VISIBILITY":return t.isVisible?e:null;case"PROFILE_LOADED":return null;default:return e}},hoveredMarker:(e=null,t)=>{switch(t.type){case"CHANGE_HOVERED_MARKER":return null!==t.markerIndex?{threadsKey:t.threadsKey,markerIndex:t.markerIndex}:null;case"PROFILE_LOADED":return null;default:return e}},mouseTimePosition:(e=null,t)=>"CHANGE_MOUSE_TIME_POSITION"===t.type?t.mouseTimePosition:e,perTab:(e={},t)=>"CHANGE_TABLE_VIEW_OPTIONS"===t.type?function(e,t,r){const n={...e};return n[t]={...e[t]??go,...r},n}(e,t.tab,t.tableViewOptions):e}),profile:(e=null,t)=>{switch(t.type){case"PROFILE_LOADED":return t.profile;case"BULK_SYMBOLICATION":{if(null===e)throw new Error("Assumed that a profile would be loaded in time for a coalesced functions update.");if(!e.threads.length)return e;const{symbolicatedThreads:r}=t;return{...e,threads:r}}case"DONE_SYMBOLICATING":if(null===e)throw new Error("Strangely we're done symbolicating a non-existent profile.");return{...e,meta:{...e.meta,symbolicated:!0}};case"UPDATE_PAGES":{if(null===e)throw new Error("We tried to update the pages information for a non-existent profile.");const{newPages:r}=t;return{...e,pages:r}}default:return e}},globalTracks:(e=[],t)=>{switch(t.type){case"VIEW_FULL_PROFILE":case"CHANGE_TAB_FILTER":return t.globalTracks;default:return e}},localTracksByPid:(e=new Map,t)=>{switch(t.type){case"VIEW_FULL_PROFILE":case"ENABLE_EVENT_DELAY_TRACKS":case"ENABLE_EXPERIMENTAL_PROCESS_CPU_TRACKS":case"CHANGE_TAB_FILTER":return t.localTracksByPid;default:return e}}});const yo=e=>e.profileView,bo=e=>yo(e).viewOptions,To=e=>bo(e).perTab[Pa(e)]||go,wo=e=>bo(e).rootRange,vo=e=>bo(e).symbolicationStatus,So=e=>bo(e).scrollToSelectionGeneration,ko=e=>bo(e).focusCallTreeGeneration,Io=e=>wo(e).start,xo=e=>{const{sampleUnits:t}=Ro(e).meta;return t?t.time:"ms"},No=Yr(wo,Io,ba,((e,t,r)=>{if(r.length>0){let{start:e,end:n}=r[r.length-1];return e+=t,n+=t,{start:e,end:n}}return e})),_o=Yr(ba,xo,(function(e,t){const r=e.map((e=>function(e,t,r=1/0){return"bytes"===t?_t(e,2,2,r):Rt(e,2,2,r)}(e.end-e.start,t)));return r})),Co=e=>bo(e).mouseTimePosition,Eo=e=>t=>bo(t).perTab[e]||go,Ao=e=>bo(e).previewSelection,Oo=e=>{const t=Ao(e);return!!t&&t.isModifying},Po=Yr(No,Ao,((e,t)=>t?{start:t.selectionStart,end:t.selectionEnd}:e)),Mo=e=>yo(e).profile,Ro=e=>(0,T.Nn)(Mo(e),"Tried to access the profile before it was loaded."),Fo=e=>Ro(e).shared,Do=e=>Ro(e).meta.interval,Lo=e=>Ro(e).pages||null,Uo=e=>Xo(e).findIndex((e=>"grey"===e.color)),$o=e=>Ro(e).threads,jo=e=>Ro(e).threads.map((e=>e.name)),Bo=e=>bo(e).lastNonShiftClick,Go=e=>bo(e).rightClickedTrack,Wo=e=>Ro(e).counters||null,Ho=e=>Ro(e).meta,Vo=e=>Ho(e).visualMetrics||null,zo=e=>(0,T.Nn)(Vo(e),"Tried to access the visual metrics when it does not exist."),Jo=e=>zo(e).VisualProgress,Ko=e=>zo(e).PerceptualSpeedIndexProgress??null,qo=e=>zo(e).ContentfulSpeedIndexProgress??null,Zo=e=>Ho(e).configuration,Yo=e=>Ho(e).sampleUnits,Qo=e=>Ho(e).extensions,Xo=Yr(Ro,(e=>{const{categories:t}=e.meta;return t||(0,b.oP)()})),es=Yr((e=>Fo(e).stringArray),(e=>$e.M.withBackingArray(e))),ts=e=>Fo(e).sources,rs=Yr((e=>Ho(e).markerSchema),(e=>{const t=new Set([...Dt.map((e=>e.name))]);return[...e.filter((e=>!t.has(e.name))),...Dt]})),ns=Yr(rs,(e=>{const t=Object.create(null);for(const r of e)t[r.name]=r;return t})),as={},os=e=>{let t=as[e];return t||(t=function(e){const t=Yr(Ro,(t=>function(e){const{samples:t}=e,r=t.count.slice(),n=void 0!==t.number?t.number.slice():void 0;r[0]=0,void 0!==n&&(n[0]=0);const a={time:pe(t),number:n,count:r,length:t.length};return{name:e.name,category:e.category,description:e.description,color:e.color,pid:e.pid,mainThreadIndex:e.mainThreadIndex,samples:a}}((0,T.Nn)(t.counters,"Attempting to get a counter by index, but no counters exist.")[e]))),r=Yr(t,No,((e,t)=>Te(e.samples,t.start,t.end))),n=Yr(t,r,((e,t)=>function(e,t){let r=0,n=0,a=0;const o=Array(e.length).fill(0),s=t?t[0]:0,i=t?t[1]:e.length;for(let t=s;t<i;t++)a+=e.count[t],r=Math.min(a,r),n=Math.max(a,n),o[t]=a;return{minCount:r,maxCount:n,countRange:n-r,accumulatedCounts:o}}(e.samples,t))),a=Yr(t,Do,((e,t)=>Se(e.samples,t))),o=Yr(t,Do,r,((e,t,r)=>Se(e.samples,t,r)));return{getCounter:t,getDescription:e=>t(e).description,getPid:e=>t(e).pid,getAccumulateCounterSamples:n,getMaxCounterSampleCountPerMs:a,getMaxRangeCounterSampleCountPerMs:o,getCommittedRangeCounterSampleRange:r}}(e),as[e]=t),t},ss=Yr([$o,Fo],(function(e,t){function r(e,t){let r;return r="sending"===t.direction?`${e.pid},${t.otherPid}`:`${t.otherPid},${e.pid}`,r+`,${t.messageSeqno},${t.messageType}`}function n(e){if(null!=e){const t=s.get(e);if(void 0!==t)return`${t} (Thread ID: ${e})`}}function a(e){const{phase:t}=e;if("sending"===e.direction)switch(t){case"endpoint":case void 0:return 0;case"transferStart":return 1;case"transferEnd":return 2;default:throw(0,T.lC)(t,"Unhandled IPC phase type.")}else switch(t){case"transferEnd":return 3;case"endpoint":case void 0:return 4;case"transferStart":throw new Error('Unexpected "transferStart" phase found on receiving side.');default:throw(0,T.lC)(t,"Unhandled IPC phase type.")}}if(!$e.M.withBackingArray(t.stringArray).hasString("IPC"))return new Er;const o=new Map,s=new Map;for(const t of e)if("number"==typeof t.tid){const n=t.tid;s.set(n,Ae(e,t));for(let e=0;e<t.markers.length;e++){const s=t.markers.data[e];if(!s||"IPC"!==s.type)continue;const i=r(t,s);o.has(i)||o.set(i,new Array(5).fill(void 0));const l=(0,T.Nn)(o.get(i)),c=a(s);void 0===l[c]?l[c]={tid:n,index:e,data:s}:console.warn("Duplicate IPC marker found for key",i)}}const i=new Er;for(const e of o.values()){const t=e[0],r=e[4],a=t?t.tid:void 0,o=r?r.tid:void 0,s={startTime:t?t.data.startTime:void 0,sendStartTime:e[1]?e[1].data.startTime:void 0,sendEndTime:e[2]?e[2].data.startTime:void 0,recvEndTime:e[3]?e[3].data.startTime:void 0,endTime:r?r.data.startTime:void 0,sendTid:a,recvTid:o,sendThreadName:n(a),recvThreadName:n(o)},l=new Set;if(t&&(l.add(t.tid),i.set(t.tid,t.index,s)),r&&(l.add(r.tid),i.set(r.tid,r.index,s)),!t||!r)for(const t of e.slice(1,4))if(void 0!==t){const e=t;l.has(e.tid)||(i.set(e.tid,e.index,s),l.add(e.tid))}}return i})),is=Yr(Lo,(e=>{if(!e)return null;const t=new Map;for(const r of e)t.set(r.innerWindowID,r);return t})),ls=Yr(Lo,(e=>{if(!e)return null;const t=new Map;for(const r of e)t.set(r.innerWindowID,r.tabID);return t})),cs=Yr($o,ls,((e,t)=>function(e,t){const r=new Map;if(!t)return r;for(let n=0;n<e.length;n++){const a=e[n];for(let e=0;e<a.frameTable.length;e++){const o=a.frameTable.innerWindowID[e];if(null===o||0===o)continue;const s=t.get(o);if(void 0===s)continue;let i=r.get(s);i||(i=new Set,r.set(s,i)),i.add(n)}for(let e=0;e<a.markers.length;e++){const o=a.markers.data[e];if(o&&"innerWindowID"in o&&null!==o.innerWindowID&&void 0!==o.innerWindowID&&0!==o.innerWindowID){const e=o.innerWindowID,a=t.get(e);if(void 0===a)continue;let s=r.get(a);s||(s=new Set,r.set(a,s)),s.add(n)}}}return r}(e,t))),us=e=>yo(e).globalTracks,ds=Yr(us,(e=>e.map(((e,t)=>({type:"global",trackIndex:t}))))),fs=Yr(es,$o,((e,t)=>{if(!e.hasString("PreferenceRead"))return!1;const r=e.indexForString("PreferenceRead");return t.some((({markers:e})=>e.name.includes(r)))})),hs=(e,t)=>us(e)[t.trackIndex],ms=(e,t)=>{const r=us(e),n=r.findIndex((e=>"process"===e.type&&e.pid===t));if(-1===n)throw new Error("Unable to find the track index for the given pid.");const a=r[n];if("process"!==a.type)throw new Error("The globalTrack must be a process type.");return{globalTrackIndex:n,globalTrack:a}},ps=e=>yo(e).localTracksByPid,gs=(e,t)=>(0,T.Nn)(yo(e).localTracksByPid.get(t),"Unable to get the tracks for the given pid."),ys=(e,t)=>gs(e,t.pid)[t.trackIndex],bs=Yr(ps,(e=>{const t=new Set;for(const[r,n]of e.entries())n.some((e=>"memory"===e.type))&&t.add(r);return t})),Ts=Yr(Go,us,ps,((e,t,r)=>{if(null===e)return null;if("global"===e.type){const r=t[e.trackIndex];return"process"===r.type?r.mainThreadIndex:null}const{pid:n,trackIndex:a}=e,o=(0,T.Nn)(r.get(n),"No local tracks found at that pid.")[a];return"thread"===o.type?o.threadIndex:null})),ws=Yr(us,$o,((e,t)=>e.map((e=>function(e,t){switch(e.type){case"process":if(null===e.mainThreadIndex){const r=e.pid;return t.filter((e=>e.pid===r)).map((e=>e.processName)).find((e=>!!e))||`Process ${r}`}return Ae(t,t[e.mainThreadIndex]).replace(/^https?:\/\//i,"");case"screenshots":return"Screenshots";case"visual-progress":return"Visual Progress";case"perceptual-visual-progress":return"Perceptual Visual Progress";case"contentful-visual-progress":return"Contentful Visual Progress";default:throw(0,T.lC)(e,"Unhandled GlobalTrack type.")}}(e,t))))),vs=(e,t)=>ws(e)[t],Ss=Yr(ps,$o,Fo,Wo,((e,t,r,n)=>{const a=new Map;for(const[o,s]of e)a.set(o,s.map((e=>fo(e,t,r,n||[]))));return a})),ks=(e,t,r)=>(0,T.Nn)(Ss(e).get(t),"Could not find the track names from the given pid")[r],Is=Yr(us,ps,Wa,Ga,((e,t,r,n)=>{let a=0,o=0;for(const[s,i]of t){const t=r.get(s)||new Set,l=e.findIndex((e=>"process"===e.type&&e.pid===s));if(-1===l)throw new Error("Unable to find a global track from the given pid.");if(!t)throw new Error("Unable to find the hidden local tracks from the given pid");n.has(l)?a+=i.length:a+=t.size,o+=i.length}return o+=e.length,a+=n.size,{hidden:a,total:o}})),xs=Yr(Ro,(function(e){const t=e.meta.sampleUnits;if(!t)return 1;const r=t.threadCPUDelta;switch(r){case"s":return 1e3;case"ns":return 1e6;case"variable CPU cycles":return function(e){let t=0;for(let r=0;r<e.length;r++){const{samples:n}=e[r],{threadCPUDelta:a}=n;if(!a)continue;const o=void 0!==n.time?V(n.time):(0,T.Nn)(n.timeDeltas);for(let e=1;e<n.length;e++){const r=o[e];if(0!==r){const n=(a[e]||0)/r;t=Math.max(t,n)}}}return t}(e.threads);default:throw(0,T.lC)(r,"Unhandled threadCPUDelta unit in computeReferenceCPUDeltaPerMs.")}})),Ns=Yr(Ro,xs,((e,t)=>{const{threads:r}=e;return r.map((r=>function(e,t,r){const n=function(e){return"GeckoMain"===e.name&&"default"===e.processType&&(!e.processName||"Parent Process"===e.processName)||"GeckoMain"===e.name&&"gpu"===e.processType}(t),a="default"===t.processType,o=function(e){return/^(?:Audio|Media|GraphRunner|WebrtcWorker)/.test(e.name)}(t),s=function({meta:e},{samples:t,stackTable:r,frameTable:n},a){if(e.sampleUnits&&t.threadCPUDelta)return t.threadCPUDelta.reduce(((e,t)=>e+(t??0)),0);const o=e.categories?e.categories.findIndex((e=>"grey"===e.color)):-1,s=e.categories?e.categories.findIndex((e=>"Idle"===e.name)):-1,i=Ue(r,n,o);return t.stack.filter((e=>null!==e&&i.category[e]!==s)).length*(a*e.interval)}(e,t,r);return{isEssentialFirefoxThread:n,isInParentProcess:a,isInterestingEvenWithMinimalActivity:o,sampleScore:s,boostedSampleScore:o?40*s:s}}(e,r,t)))})),_s=Yr(Lo,is,((e,t)=>{if(null===e||null===t||0===e.length)return null;const r=new Map;for(const n of e){const e=r=>{if(0===r.embedderInnerWindowID)return r;const n=t.get(r.embedderInnerWindowID);return void 0!==n?e(n):r},a=e(n),{tabID:o}=a,s=r.get(o);void 0===s?r.set(o,[n]):s.push(n)}return r})),Cs=Yr(_s,(e=>{if(null===e||0===e.size)return null;const t=new Map;for(const[r,n]of e)t.set(r,new Set(n.map((e=>e.innerWindowID))));return t})),Es=Yr(Qo,(e=>{if(!e)return null;const t=new Map;for(let r=0;r<e.length;r++)t.set(e.baseURL[r],e.name[r]);return t})),As=Yr(_s,Es,(function(e,t){if(null===e)return new Map;const r=new Map;for(const[n,a]of e){let e=a.filter((e=>0===e.embedderInnerWindowID));if(e.length>1&&(e=e.filter((e=>!e.url.startsWith("about:")))),0===e.length){console.error(`Expected at least one topmost page for tabID ${n} but couldn't find it.`);continue}const o=e[e.length-1],s=o.url;if(s.startsWith("about:")){r.set(n,{origin:s,hostname:s,favicon:re});continue}const i=s.startsWith("moz-extension://"),l=i?te:re,c={origin:s,hostname:s,favicon:o.favicon??l};try{const e=new URL(s);c.hostname=t&&i?t.get("moz-extension://"+(e.hostname?e.hostname:s.split("/")[2])+"/")??"":e.hostname,c.origin=e.origin}catch(e){}r.set(n,c)}return r})),Os=Yr(As,cs,Ns,((e,t,r)=>{const n=[];for(const[a,o]of e.entries()){let e=0;const s=t.get(a);if(s){for(const t of s.values()){const n=r[t];if(!n)throw new Error("Failed to find the thread score!");e+=n.boostedSampleScore}n.push({tabID:a,tabScore:e,pageData:o})}}return n.sort(((e,t)=>t.tabScore-e.tabScore)),n})),Ps=Yr($o,(e=>{const t=new Map;for(const r of e)t.set(r.tid,Ae(e,r));return t})),Ms=Yr($o,(e=>{const t=new Map;for(const r of e)r.isMainThread&&r.pid&&t.set(r.pid,Ae(e,r));return t})),Rs=Yr(Ro,(e=>{const{threads:t,pages:r}=e;return!(!r||!r.some((e=>e.isPrivateBrowsing)))||t.some((e=>e.isPrivateBrowsing))})),Fs=Yr($o,(e=>{const t=new Set;for(const{tid:r}of e)t.add(r);return t})),Ds=e=>{const{profile:t}=e.profileView;return!t||!0!==t.meta.sourceCodeIsNotOnSearchfox},Ls=e=>{const{profile:t}=e.profileView;return!t||!0!==t.meta.usesOnlyOneStackType},Us=Yr(Ro,(e=>e.meta.extra||[])),$s=Yr(ts,es,ka,((e,t,r)=>{if(null===r)return null;const n=e.filename[r];return null!==n?t.getString(n):null})),js=Yr(ts,ka,((e,t)=>null!==t?e.uuid[t]:null)),Bs=e=>e.zippedProfiles,Gs=e=>Bs(e).selectedZipFileIndex,Ws=e=>Bs(e).expandedZipFileIndexes,Hs=e=>Bs(e).zipFile,Vs=e=>Hs(e).zip,zs=e=>"NO_ZIP_FILE"!==Hs(e).phase,Js=e=>{const{error:t}=Bs(e);return null===t?null:t.message},Ks=Yr(Vs,(e=>null===e?null:function(e){const t=(0,T.WP)(e.files).filter((([e,t])=>!t.dir)).map((([e,t])=>e)),r=new Map,n={prefix:[],path:[],partName:[],file:[],depth:[],length:0};for(const a of t){const t=a.split("/").filter((e=>e));let o="",s=null;for(let i=0;i<t.length;i++){const l=t[i];o?o+="/"+l:o=l;const c=r.get(o);if(void 0!==c){s=c;continue}const u=n.length++;n.prefix[u]=s,n.path[u]=o,n.partName[u]=l,n.depth[u]=i,n.file[u]=i+1===t.length?e.files[a]:null,r.set(o,u),s=u}}return n}(e))),qs=e=>(0,T.Nn)(Ks(e),"Attempted to view a profile from a zip, when there is no zip file loaded."),Zs=Yr(qs,(function(e){if(!e)return 0;let t=0;for(let r=0;r<e.length;r++)t=Math.max(t,e.depth[r]);return t})),Ys=Yr(qs,pa,((e,t)=>null===e?null:new ea(e,t))),Qs=e=>(0,T.Nn)(Ys(e),"Attempted to view a profile from a zip, when there is no zip file loaded."),Xs=e=>e.app,ei=e=>Xs(e).view,ti=e=>Xs(e).urlSetupPhase,ri=e=>Xs(e).hasZoomedViaMousewheel,ni=e=>Xs(e).isSidebarOpenPerPanel[Pa(e)],ai=e=>Xs(e).panelLayoutGeneration,oi=e=>Xs(e).lastVisibleThreadTabSlug,si=e=>Xs(e).trackThreadHeights,ii=e=>Xs(e).isNewlyPublished,li=e=>Xs(e).experimental,ci=e=>Xs(e).browserConnectionStatus,ui=Yr(ci,(e=>"ESTABLISHED"===e.status?e.browserConnection:null)),di=e=>li(e).eventDelayTracks,fi=e=>li(e).cpuGraphs,hi=e=>li(e).processCPUTracks,mi=e=>Xs(e).isDragAndDropDragging,pi=e=>Xs(e).isDragAndDropOverlayRegistered,gi=e=>Xs(e).currentProfileUploadedInformation,yi=Yr(us,ps,Ga,Wa,si,((e,t,r,n,a)=>{let o=w.NC;for(const[t,n]of e.entries())if(!r.has(t))switch(n.type){case"screenshots":o+=w.xs+1;break;case"visual-progress":case"perceptual-visual-progress":case"contentful-visual-progress":o+=w.li;break;case"process":{const{mainThreadIndex:e}=n;if(null===e)o+=w.pp+1;else{const t=a[e];if(void 0===t)return null;o+=t+1}break}default:throw(0,T.lC)(n)}const s=new Set;for(const t of r){const r=e[t];"process"===r.type&&s.add(r.pid)}for(const[e,r]of t)if(!s.has(e))for(const[t,s]of r.entries())if(!(0,T.Nn)(n.get(e),"Could not look up the hidden local tracks from the given PID").has(t))switch(s.type){case"thread":{const e=a[s.threadIndex];if(void 0===e)return null;o+=e+1}break;case"network":o+=w.LT+1;break;case"memory":o+=w.mk+1;break;case"bandwidth":o+=w.AJ+1;break;case"event-delay":o+=w.ZB+1;break;case"ipc":o+=w.F2+1;break;case"process-cpu":case"power":o+=w.xJ+1;break;case"marker":o+=w.Zh+1;break;default:throw(0,T.lC)(s)}return o})),bi=Yr(ei,ha,Hs,((e,t,r)=>{const n=e.phase,a=r.phase;return!("INITIALIZING"===n&&"none"!==t||"PROCESS_PROFILE_FROM_ZIP_FILE"===a)})),Ti=Yr(Xs,(e=>e.sidebarOpenCategories));Symbol.iterator,Symbol.asyncIterator;let wi=(0,bt.createContext)(null);function vi(e){const{id:t,attrs:r,vars:n,elems:a,children:o}=e,s=(0,bt.useContext)(wi);if(!s)throw new Error("The <Localized /> component was not properly wrapped in a <LocalizationProvider />.");let i;if(Array.isArray(o)){if(o.length>1)throw new Error("Expected to receive a single React element to localize.");i=o[0]}else i=null!=o?o:null;if(!(0,bt.isValidElement)(i)){const e="string"==typeof i?i:void 0,r=s.getString(t,n,e);return bt.createElement(bt.Fragment,null,r)}return s.getElement(i,t,{attrs:r,vars:n,elems:a})}const Si=r.p+"79856ce399cb305fafb8.svg";class ki{constructor(e,t){this._callNodeInfo=void 0,this._callNodeTable=void 0,this._callTreeTimings=void 0,this._callNodeHasChildren=void 0,this._callNodeInfo=e,this._callNodeTable=e.getCallNodeTable(),this._callTreeTimings=t,this._callNodeHasChildren=t.callNodeHasChildren}_getFirstChildIndex(e){return-1===e?0!==this._callNodeTable.length?0:-1:this._callNodeTable.subtreeRangeEnd[e]!==e+1?e+1:-1}createRoots(){return this.createChildren(-1)}createChildren(e){const t=[];for(let r=this._getFirstChildIndex(e);-1!==r;r=this._callNodeTable.nextSibling[r]){const e=this._callTreeTimings.total[r],n=this._callNodeHasChildren[r];0===e&&0===n||t.push(r)}return t.sort(((e,t)=>Math.abs(this._callTreeTimings.total[t])-Math.abs(this._callTreeTimings.total[e]))),t}hasChildren(e){return 0!==this._callNodeHasChildren[e]}getSelfAndTotal(e){return{self:this._callTreeTimings.self[e],total:this._callTreeTimings.total[e]}}findHeaviestPathInSubtree(e){const t=this._callNodeTable.subtreeRangeEnd[e];let r=-1,n=0;for(let a=e;a<t;a++){const e=Math.abs(this._callTreeTimings.self[a]);(-1===r||e>n)&&(r=a,n=e)}return this._callNodeInfo.getCallNodePathFromIndex(r)}}class Ii{constructor(e){this._timings=void 0,this._timings=e}hasChildren(e){return!1}createChildren(e){return[]}createRoots(){return this._timings.sortedFuncs}getSelfAndTotal(e){return{self:this._timings.funcSelf[e],total:this._timings.funcTotal[e]}}findHeaviestPathInSubtree(e){throw new Error("unexpected call to findHeaviestPathInSubtree in CallTreeInternalFunctionList")}}class xi{constructor(e,t){this._callNodeInfo=void 0,this._callNodeTable=void 0,this._callNodeSelf=void 0,this._rootNodes=void 0,this._totalPerRootFunc=void 0,this._hasChildrenPerRootFunc=void 0,this._totalAndHasChildrenPerNonRootNode=new Map,this._callNodeInfo=e,this._callNodeTable=e.getCallNodeTable(),this._callNodeSelf=t.callNodeSelf;const{sortedRoots:r,totalPerRootFunc:n,hasChildrenPerRootFunc:a}=t;this._totalPerRootFunc=n,this._hasChildrenPerRootFunc=a,this._rootNodes=r}createRoots(){return this._rootNodes}hasChildren(e){return this._callNodeInfo.isRoot(e)?0!==this._hasChildrenPerRootFunc[e]:this._getTotalAndHasChildren(e).hasChildren}createChildren(e){if(!this.hasChildren(e))return[];const t=this._callNodeInfo.getChildren(e).filter((e=>{const{total:t,hasChildren:r}=this._getTotalAndHasChildren(e);return 0!==t||r}));return t.sort(((e,t)=>Math.abs(this._getTotalAndHasChildren(t).total)-Math.abs(this._getTotalAndHasChildren(e).total))),t}getSelfAndTotal(e){if(this._callNodeInfo.isRoot(e)){const t=this._totalPerRootFunc[e];return{self:t,total:t}}const{total:t}=this._getTotalAndHasChildren(e);return{self:0,total:t}}_getTotalAndHasChildren(e){if(this._callNodeInfo.isRoot(e))throw new Error("This function should not be called for roots");const t=this._totalAndHasChildrenPerNonRootNode.get(e);if(void 0!==t)return t;const r=_i(e,this._callNodeInfo,this._callNodeSelf);return this._totalAndHasChildrenPerNonRootNode.set(e,r),r}findHeaviestPathInSubtree(e){const[t,r]=this._callNodeInfo.getSuffixOrderIndexRangeForCallNode(e),n=this._callNodeInfo.getSuffixOrderedCallNodes();let a=-1,o=0;for(let e=t;e<r;e++){const t=n[e],r=Math.abs(this._callNodeSelf[t]);(-1===a||r>o)&&(a=t,o=r)}const s=[];for(let e=a;-1!==e;e=this._callNodeTable.prefix[e])s.push(this._callNodeTable.func[e]);return s}}class Ni{constructor(e,t,r,n,a,o,s){this._categories=void 0,this._internal=void 0,this._callNodeInfo=void 0,this._thread=void 0,this._rootTotalSummary=void 0,this._displayDataByIndex=void 0,this._children=void 0,this._roots=void 0,this._isHighPrecision=void 0,this._weightType=void 0,this._categories=t,this._internal=n,this._callNodeInfo=r,this._thread=e,this._rootTotalSummary=a,this._displayDataByIndex=new Map,this._children=[],this._roots=n.createRoots(),this._isHighPrecision=o,this._weightType=s}getRoots(){return this._roots}getChildren(e){let t=this._children[e];return void 0===t&&(t=this._internal.createChildren(e),this._children[e]=t),t}hasChildren(e){return this._internal.hasChildren(e)}_addDescendantsToSet(e,t){for(const r of this.getChildren(e))t.add(r),this._addDescendantsToSet(r,t)}getAllDescendants(e){const t=new Set;return this._addDescendantsToSet(e,t),t}getParent(e){return this._callNodeInfo.prefixForNode(e)}getDepth(e){return this._callNodeInfo.depthForNode(e)}getNodeData(e){const t=this._callNodeInfo.funcForNode(e),r=this._thread.stringTable.getString(this._thread.funcTable.name[t]),{self:n,total:a}=this._internal.getSelfAndTotal(e);return{funcName:r,total:a,totalRelative:a/this._rootTotalSummary,self:n,selfRelative:n/this._rootTotalSummary}}_getInliningBadge(e,t){const r=Rn(t),n=this._callNodeInfo.sourceFramesInlinedIntoSymbolForNode(e);if(-2===n)return;if(-1===n)return{name:"divergent-inlining",vars:{calledFunction:r},localizationId:"CallTree--divergent-inlining-badge",contentFallback:"",titleFallback:`Some calls to ${r} were inlined by the compiler.`};const a=Rn(this._thread.stringTable.getString(this._thread.nativeSymbols.name[n]));return{name:"inlined",vars:{calledFunction:r,outerFunction:a},localizationId:"CallTree--inlining-badge",contentFallback:"(inlined)",titleFallback:`Calls to ${r} were inlined into ${a} by the compiler.`}}getDisplayData(e){let t=this._displayDataByIndex.get(e);if(void 0===t){const{funcName:r,total:n,totalRelative:a,self:o}=this.getNodeData(e),s=this._callNodeInfo.funcForNode(e),i=this._callNodeInfo.categoryForNode(e),l=this._callNodeInfo.subcategoryForNode(e),c=this._getInliningBadge(e,r),u=this._thread.funcTable.resource[s],d=this._thread.resourceTable.type[u],f=-1===u,h=this._getOriginAnnotation(s),m=this._weightType;let p=null,g=null;if(d===b.AU.webhost)g=p=function(e){try{const t=new URL("/favicon.ico",e);return"http:"===t.protocol&&(t.protocol="https:"),t.href}catch(t){return console.error("Error while extracing the favicon from the libname",e),null}}(h);else if(d===b.AU.addon){p=Si;const e=this._thread.resourceTable.name[u];g=this._thread.stringTable.getString(e)}const y=kt(m,this._isHighPrecision,n),w=kt(m,this._isHighPrecision,o),v=`${It(a)}`;let S,k,I;switch(m){case"tracing-ms":k=`${y}ms`,I=`${w}ms`,S=L`
              ${r},
              running time is ${k} (${v}),
              self time is ${I}
            `;break;case"samples":k=1===n?`${y} sample`:`${y} samples`,I=1===o?`${w} sample`:`${w} samples`,S=L`
            ${r},
            running count is ${k} (${v}),
            self count is ${I}
          `;break;case"bytes":k=`${y} bytes`,I=`${w} bytes`,S=L`
            ${r},
            total size is ${k} (${v}),
            self size is ${I}
          `;break;default:throw(0,T.lC)(m,"Unhandled WeightType.")}t={total:0===n?"":y,totalWithUnit:0===n?"":k,self:0===o?"":w,selfWithUnit:0===o?"":I,totalPercent:v,name:r,lib:h.slice(0,1e3),isFrameLabel:f,badge:c,categoryName:Fe(this._categories,i,l),categoryColor:this._categories[i].color,iconSrc:p,icon:g,ariaLabel:S},this._displayDataByIndex.set(e,t)}return t}_getOriginAnnotation(e){return Pe(e,this._thread.funcTable,this._thread.resourceTable,this._thread.stringTable,this._thread.sources)}getBottomBoxInfoForCallNode(e){return function(e,t,r){const{stackTable:n,frameTable:a,funcTable:o,stringTable:s,resourceTable:i,nativeSymbols:l}=r,c=t.funcForNode(e),u=o.source[c],d=o.resource[c],f=-1!==d&&i.type[d]===b.AU.library?i.lib[d]:null,h=function(e,t,r,n){const a=t.asInverted();return null!==a?function(e,t,r,n){const a=t.depthForNode(e),[o,s]=t.getSuffixOrderIndexRangeForCallNode(e),i=r.prefix,l=t.getStackIndexToNonInvertedCallNodeIndex(),c=t.getSuffixOrderIndexes(),u=new Set;for(let e=0;e<r.length;e++){const t=oe(e,o,s,c,a,l,i);if(null!==t){const e=r.frame[t],a=n.nativeSymbol[e];null!==a&&u.add(a)}}return[...u]}(e,a,r,n):function(e,t,r,n){const a=t.getStackIndexToNonInvertedCallNodeIndex(),o=new Set;for(let t=0;t<r.length;t++)if(a[t]===e){const e=r.frame[t],a=n.nativeSymbol[e];null!==a&&o.add(a)}return[...o]}(e,t,r,n)}(e,t,n,a).map((e=>function(e,t,r,n){const a=t.functionSize[e],o=a??function(e,t,r){let n=t;for(let t=0;t<e.length;t++)if(e.nativeSymbol[t]===r){const r=e.address[t];r>n&&(n=r)}return n+1-t}(r,t.address[e],e);return{libIndex:t.libIndex[e],address:t.address[e],name:n.getString(t.name[e]),functionSize:o,functionSizeIsKnown:null!==a}}(e,l,a,s)));return{libIndex:f,sourceIndex:u,nativeSymbols:h}}(e,this._callNodeInfo,this._thread)}findHeavyPathToSameFunctionAfterInversion(e){if(null===e)return[];const t=this._internal.findHeaviestPathInSubtree(e),r=this._callNodeInfo.depthForNode(e);return t.slice(r).reverse()}}function _i(e,t,r){const n=t.depthForNode(e),[a,o]=t.getSuffixOrderIndexRangeForCallNode(e),s=t.getSuffixOrderedCallNodes(),i=t.getCallNodeTable().depth;let l=0,c=!1;for(let e=a;e<o;e++){const t=s[e],a=r[t];l+=a,c=c||0!==a&&i[t]>n}return{total:l,hasChildren:c}}function Ci(e,{callNodeSelf:t,rootTotalSummary:r}){const n=e.getFuncCount(),a=e.getCallNodeTable(),o=a.func,s=a.depth,i=new Float64Array(n),l=new Uint8Array(n),c=new Uint8Array(n),u=[];for(let e=0;e<t.length;e++){const r=t[e];if(0===r)continue;const n=o[e];i[n]+=r,0===c[n]&&(c[n]=1,u.push(n)),0!==s[e]&&(l[n]=1)}return u.sort(((e,t)=>Math.abs(i[t])-Math.abs(i[e]))),{callNodeSelf:t,rootTotalSummary:r,sortedRoots:u,totalPerRootFunc:i,hasChildrenPerRootFunc:l}}function Ei(e,t){const r=e.asInverted();return null!==r?{type:"INVERTED",timings:Ci(r,t)}:{type:"NON_INVERTED",timings:Ai(e,t)}}function Ai(e,t){const r=e.getCallNodeTable(),{callNodeSelf:n,rootTotalSummary:a}=t,o=new Float64Array(r.length),s=new Uint8Array(r.length);for(let e=r.length-1;e>=0;e--){const t=o[e]+n[e],a=0!==s[e],i=0!==t;if(o[e]=t,!a&&!i)continue;const l=r.prefix[e];-1!==l&&(o[l]+=t,s[l]=1)}return{self:n,total:o,callNodeHasChildren:s,rootTotalSummary:a}}function Oi(e,t,{callNodeSelf:r,rootTotalSummary:n},a){const o=function(e,t,r){const n=e.func,a=t.length,o=new Float64Array(r);for(let e=0;e<a;e++){const r=t[e];0!==r&&(o[n[e]]+=r)}return o}(e,r,a),{funcTotal:s,sortedFuncs:i}=function(e,t,r,n){const a=e.func,o=e.prefix,s=e.length,i=new Float64Array(s),l=new Float64Array(n),c=[],u=new Uint8Array(n);for(let e=s-1;e>=0;e--){const n=i[e]+r[e];if(0===n)continue;const s=o[e];if(-1!==s&&(i[s]+=n),!Z(t,e)){const t=a[e];l[t]+=n,0===u[t]&&(u[t]=1,c.push(t))}}const d=Math.abs;return c.sort(((e,t)=>{const r=d(l[t])-d(l[e]);return 0!==r?r:e-t})),{funcTotal:l,sortedFuncs:c}}(e,t,r,a);return{funcSelf:o,funcTotal:s,sortedFuncs:i,rootTotalSummary:n}}function Pi(e,t,r,n,a){return J("getCallTree",(()=>{switch(n.type){case"NON_INVERTED":{const{timings:o}=n;return new Ni(e,r,t,new ki(t,o),o.rootTotalSummary,Boolean(e.isJsTracer),a)}case"FUNCTION_LIST":{const{timings:o}=n;return new Ni(e,r,t,new Ii(o),o.rootTotalSummary,Boolean(e.isJsTracer),a)}case"INVERTED":{const{timings:o}=n;return new Ni(e,r,t,new xi((0,T.Nn)(t.asInverted()),o),o.rootTotalSummary,Boolean(e.isJsTracer),a)}default:throw(0,T.lC)(n,"Unhandled CallTreeTimings type.")}}))}function Mi(e,t){switch(t){case"timing":return e.samples;case"js-allocations":return(0,T.Nn)(e.jsAllocations,'Expected the NativeAllocationTable to exist when using a "js-allocation" strategy');case"native-retained-allocations":{const t=(0,T.Nn)(e.nativeAllocations,'Expected the NativeAllocationTable to exist when using a "native-allocation" strategy');if(!("memoryAddress"in t))throw new Error("Attempting to filter by retained allocations data that is missing the memory addresses.");return function(e){const t=new Map,r=e.stack.slice();for(let n=0;n<e.length;n++){const a=e.weight[n],o=e.memoryAddress[n];if(a>=0)t.set(o,n);else{r[n]=null;const e=t.get(o);void 0!==e&&(r[e]=null,t.delete(o))}}return{...e,stack:r}}(t)}case"native-allocations":return function(e){const t=e.stack.slice();for(let r=0;r<e.length;r++)e.weight[r]<=0&&(t[r]=null);return{...e,stack:t}}((0,T.Nn)(e.nativeAllocations,'Expected the NativeAllocationTable to exist when using a "native-allocations" strategy'));case"native-deallocations-sites":return function(e){const t=e.stack.slice();for(let r=0;r<e.length;r++)e.weight[r]>=0&&(t[r]=null);return{...e,stack:t}}((0,T.Nn)(e.nativeAllocations,'Expected the NativeAllocationTable to exist when using a "native-deallocations-sites" strategy'));case"native-deallocations-memory":{const t=(0,T.Nn)(e.nativeAllocations,'Expected the NativeAllocationTable to exist when using a "native-deallocations-memory" strategy');if(!("memoryAddress"in t))throw new Error("Attempting to filter by retained allocations data that is missing the memory addresses.");return function(e){const t=[],r=e.stack.slice();for(let n=0;n<e.length;n++){const a=e.weight[n],o=e.memoryAddress[n];if(a>=0)o in t&&console.error(L`
          The address ${o} was already present when we wanted to add it.
          This probably means the deallocation wasn't collected, which may sometimes
          happen. We will overwrite the previous entry.
        `),t[o]=e.stack[n],r[n]=null;else{const e=t[o];void 0===e?r[n]=null:(r[n]=e,delete t[o])}}return{...e,stack:r}}((0,T.Nn)(t,'Expected the NativeAllocationTable to exist when using a "js-allocation" strategy'))}default:throw(0,T.lC)(t)}}function Ri(e,t){switch(t){case"timing":return e.samples;case"js-allocations":return(0,T.Nn)(e.jsAllocations,'Expected the NativeAllocationTable to exist when using a "js-allocation" strategy');case"native-retained-allocations":case"native-allocations":case"native-deallocations-sites":case"native-deallocations-memory":return(0,T.Nn)(e.nativeAllocations,'Expected the NativeAllocationTable to exist when using a "native-allocation" strategy');default:throw(0,T.lC)(t)}}function Fi(e,t){const r=1===e.size?(0,T.Nn)((0,T.cF)(e)):null,n=Yr(Ro,(t=>zr([...e].map((e=>t.threads[e]))))),a=e=>null!==r?Ro(e).threads[r]:n(e),o=e=>a(e).samples,s=Yr(o,Yo,xs,Ie),i=e=>a(e).nativeAllocations,l=e=>a(e).jsAllocations,c=Yr((e=>a(e).stackTable),(e=>a(e).frameTable),Uo,Ue),u=Yr(a,s,c,es,ts,xe),d=Yr(u,Me),f=e=>d(e).thread,h=Yr(f,No,((e,t)=>{const{start:r,end:n}=t;return ve(e,r,n)})),m=Yr(u,wa,((e,t)=>{switch(t){case"timing":if(0===e.samples.length&&e.nativeAllocations&&e.nativeAllocations.length>0)return"native-allocations";break;case"js-allocations":if(!e.jsAllocations)return"timing";break;case"native-allocations":case"native-retained-allocations":case"native-deallocations-sites":case"native-deallocations-memory":if(!e.nativeAllocations)return"timing";break;default:(0,T.lC)(t,"Unhandled call tree sumary strategy.")}return t})),p=Yr(u,m,Ri),g=Yr(p,No,((e,{start:t,end:r})=>{const[n]=ye(e,t,r);return n})),y=Yr(s,No,((e,{start:t,end:r})=>{const[n]=ye(e,t,r);return n})),b=Yr($o,a,Ae),w=Yr(a,b,Oe),v=Yr(s,a,Fo,((e,t,r)=>ge(e.stack,t,r))),S=Yr(l,a,Fo,((e,t,r)=>ge(e?.stack,t,r))),k=Yr(i,a,Fo,((e,t,r)=>ge(e?.stack,t,r))),I=e=>u(e).jsTracer||null,x=Yr(I,a,es,ts,((e,t,r,n)=>null===e?null:function(e,t,r,n){const a=[],{funcTable:o}=t,s=Vt(t,r,n);for(let t=0;t<e.length;t++){const n=e.events[t],i=e.column[t],l=e.line[t];let c=r.getString(n),u=null;if(null!==i&&null!==l){const e=`${c}:${l}:${i}`,t=s.get(e);void 0!==t&&(null===t?c=`(multiple matching functions) ${c}`:(u=t,c=` ${r.getString(o.name[u])}  ${c}`))}for(let r=0;r<=a.length;r++){let n=a[r];n||(n={start:[],end:[],index:[],label:[],func:[],name:"Tracing Information",length:0},a.push(n));const o=e.timestamps[t]/1e3,s=e.durations[t],i=null===s?0:s/1e3,l=n.end[n.length-1];if(void 0===l||l<=o){n.start.push(o),n.end.push(o+i),n.label.push(c),n.index.push(t),n.func.push(u),n.length++;break}}}return a}(e,t,r,n))),N=Yr(I,es,((e,t)=>null===e?null:function(e,t){const r=new Map,n=[],a=/:\/\//;function o(o,s,i){if(s===i)return;const l=e.events[o],c=t.getString(l),u=function(e){const r=n[e];if(void 0!==r)return r;const o=a.test(t.getString(e));return n[e]=o,o}(l)?"Script":c;let d=r.get(u);void 0===d&&(d={start:[],end:[],index:[],label:[],func:[],name:u,length:0},r.set(u,d));{const e=d.start[d.length-1],t=d.end[d.length-1],r=d.end[d.length-2];if(i<s)throw new Error("end is less than the start");if(t<e)throw new Error(`currEnd < currStart "${c} - ${t} < ${e}"`);if(e<r)throw new Error(`currStart < prevEnd "${c} - ${e} < ${r}"`)}d.start.push(s/1e3),d.end.push(i/1e3),d.label.push(c),d.index.push(o),d.length++}const s=[],i=[],l=[];let c=-1;for(let r=0;r<e.length;r++){const n=e.timestamps[r],a=e.durations[r];let u=n+(null===a?0:a);if(-1!==c)for(;;){const a=s[c],d=i[c],f=l[c];if(a<=n&&d>n&&d<u&&(u=d),!(d<=n)){if(d>u){o(f,a,n),s[c]=u,c++,s[c]=n,i[c]=u,l[c]=r;break}if(d===u){a!==n?(o(f,a,n),s[c]=n,l[c]=r):l[c]=r;break}{const o=t.getString(e.events[f]),s=t.getString(e.events[r]);throw console.error("Current JS Tracer information:",{jsTracer:e,stringTable:t,prefixEventIndex:f,currentEventIndex:r}),console.error(`Prefix (parent) times for "${o}": ${a}ms to ${d}ms`),console.error(`Current (child) times for "${s}": ${n}ms to ${u}ms`),new Error("The JS Tracer algorithm encountered some data it could not handle.")}}if(o(f,a,d),c--,-1===c){c=0,l[c]=r,s[c]=n,i[c]=u;break}}else c=0,s[c]=n,i[c]=u,l[c]=r}for(;c>=0;c--)o(l[c],s[c],i[c]);return[...r.values()].sort(((e,t)=>e.name>t.name?1:e.name<t.name?-1:0))}(e,t))),_=Yr(s,Do,((e,t)=>null===e||void 0===e.eventDelay?null:function(e,t){if(!e.eventDelay)throw new Error("processEventDelays step should not be called for older profiles");const r=new Float32Array(e.length),n=(0,T.Nn)(e.eventDelay,"eventDelays field is not present in this profile");let a=e.time[0],o=0;for(let s=1;s<e.length;s++){const i=n[s],l=n[s+1]||0,c=e.time[s];if(null==i)continue;if(i<l)continue;const u=c-i,d=s-Math.trunc(i/t);if(d<0){a=c,o=s;continue}if(o===d){a=u,o=d;continue}let f=c-a;for(let t=o+1;t<=d;t++)r[t]+=f,f-=e.time[t+1]-e.time[t];a=u,o=d}let s=Number.MAX_SAFE_INTEGER,i=0;for(const e of r)e&&(s=Math.min(e,s),i=Math.max(e,i));return{eventDelays:r,minDelay:s,maxDelay:i,delayRange:i-s}}(e,t)));return{getRawThread:a,getThread:u,getSamplesTable:s,getSamplesWeightType:e=>o(e).weightType||"samples",getNativeAllocations:i,getJsAllocations:l,getThreadRange:e=>ue(a(e),Do(e)),getReservedFunctionsForResources:e=>d(e).reservedFunctionsForResources,getRangeFilteredThread:h,getUnfilteredCtssSamples:p,getFilteredCtssSampleIndexOffset:g,getFilteredSampleIndexOffset:y,getFriendlyThreadName:b,getThreadProcessDetails:w,getViewOptions:e=>bo(e).perThread[t]||ho,getJsTracerTable:I,getExpensiveJsTracerTiming:x,getExpensiveJsTracerLeafTiming:N,getHasUsefulTimingSamples:v,getHasUsefulJsAllocations:S,getHasUsefulNativeAllocations:k,getCanShowRetainedMemory:e=>{const t=i(e);return!!t&&"memoryAddress"in t},getFunctionsReservedThread:f,getProcessedEventDelays:e=>(0,T.Nn)(_(e),"Could not get the processed event delays"),getCallTreeSummaryStrategy:m}}function Di(e,t){const r=S()(Hn,{cache:new(I())}),n=e=>ro(e,t),a=Yr(e.getRangeFilteredThread,n,Uo,e.getMarkerGetter,e.getFullMarkerListIndexes,ns,Xo,((e,t,n,a,o,s,i)=>t.reduce(((e,t)=>r(e,t,n,a,o,s,i)),e))),o=Yr(a,Ta,fe),s=Yr(o,qa,ts,me),i=Yr(s,Ao,((e,t)=>{if(!t)return e;const{selectionStart:r,selectionEnd:n}=t;return ve(e,r,n)})),l=Yr(s,e.getCallTreeSummaryStrategy,Mi),c=Yr(l,(e=>0!==e.length&&e.stack.some((e=>null!==e)))),u=Yr(i,e.getCallTreeSummaryStrategy,Mi),d=Yr(u,(e=>0!==e.length&&e.stack.some((e=>null!==e)))),f=Yr(l,Ao,e.getFilteredCtssSampleIndexOffset,((e,t,r)=>{if(!t)return r;const[n]=ye(e,t.selectionStart,t.selectionEnd);return r+n})),h=Yr(Ho,a,e.getFriendlyThreadName,n,$n);return{getTransformStack:n,getRangeAndTransformFilteredThread:a,getFilteredThread:s,getPreviewFilteredThread:i,getFilteredCtssSamples:l,getPreviewFilteredCtssSamples:u,getPreviewFilteredCtssSampleIndexOffset:f,getHasFilteredCtssSamples:c,getHasPreviewFilteredCtssSamples:d,getTransformLabelL10nIds:h,getLocalizedTransformLabels:Yr(h,(e=>e.map((e=>(0,Ft.jsx)(vi,{id:e.l10nId,vars:{item:e.item}},e.item)))))}}function Li(e,t,r){const n=new Map,a=new Map;for(const o of t){const t=e(o),s=e=>{e.start.push(t.start),e.end.push(null===t.end?t.start:t.end),e.index.push(o),e.length++},i=r?r[t.category].name:"None",l=t.data&&"Network"===t.data.type?"Network Requests":t.name,c=({instantOnly:e})=>({start:[],end:[],index:[],name:l,bucket:i,instantOnly:e,length:0});if(null===t.end){let e=a.get(l);e||(e=c({instantOnly:!0}),a.set(l,e)),s(e);continue}let u=n.get(l);void 0===u&&(u=[],n.set(l,u));const d=u.find((e=>e.end[e.length-1]<=t.start));if(d){s(d);continue}if(u.length>=300)continue;const f=c({instantOnly:!1});s(f),u.push(f)}const o=[...a.values()].concat(...n.values());return o.sort(((e,t)=>{if(e.bucket!==t.bucket)return"Test"===e.bucket?-1:"Test"===t.bucket||"Other"===e.bucket?1:"Other"===t.bucket?-1:e.bucket>t.bucket?1:-1;if(e.name===t.name)return e.instantOnly?-1:t.instantOnly?1:0;if("Network"===e.bucket){if("Network Requests"===e.name)return 1;if("Network Requests"===t.name)return-1}return e.name.toLowerCase()>t.name.toLowerCase()?1:-1})),o}function Ui(e,t,r){const n=Li(e,t,r),a=[];let o;for(const e of n)e.bucket!==o&&(a.push(e.bucket),o=e.bucket),a.push(e);return a}const $i=Yr(bo,(e=>e.rightClickedMarker));function ji(e,t){const r=Yr((t=>e.getThread(t).markers),(e=>Ro(e).shared.stringArray),(t=>e.getThread(t).tid),e.getThreadRange,ss,Ar),n=Yr(r,(({markers:e})=>e)),a=Yr(r,(({markerIndexToRawMarkerIndexes:e})=>e)),o=Yr(e.getSamplesTable,Uo,((e,t)=>function(e,t,r){const n=()=>s.push({start:o-a,end:o,name:"Jank",category:r,threadId:null,data:{type:"Jank"}});let a=0,o=0;const s=[];for(let t=0;t<e.length;t++){let r;e.eventDelay?r=e.eventDelay[t]:e.responsiveness&&(r=e.responsiveness[t]),null!=r&&(r<a&&a>=50&&n(),a=r,o=e.time[t])}return a>=50&&n(),s}(e,0,t))),s=Yr(n,o,((e,t)=>[...e,...t].sort(((e,t)=>e.start-t.start)))),i=Yr(s,(e=>t=>{const r=e[t];if(!r)throw new Error(U`
          Tried to get marker index ${t} but it's not in the full list.
          This is a programming error.
        `);return r})),l=Yr(s,(e=>e.map(((e,t)=>t)))),c=e=>(t,r)=>Or(t,r,e),u=Yr(i,l,No,((e,t,r)=>{const{start:n,end:a}=r;return Pr(e,t,n,a)})),d=Yr(i,u,rs,ns,(()=>"timeline-overview"),Hr),f=Yr(i,u,c(Fr)),h=Yr(i,u,o,((e,t,r)=>{const n=r.length>0?"Jank":"BHR-detected hang";return c((e=>Boolean(e.data&&e.data.type===n)))(e,t)})),m=Yr(i,u,ns,Xa,es,Xo,Nr),p=Yr(i,m,Ao,((e,t,r)=>{if(!r)return t;const{selectionStart:n,selectionEnd:a}=r;return Pr(e,t,n,a)})),g=Yr(s,(e=>e.every((e=>!Mr(e))))),y=Yr(i,u,c(Mr)),b=Yr(i,u,c(Rr)),T=Yr(i,y,ns,eo,es,Xo,Nr),w=Yr(s,(e=>e.every((e=>Mr(e))))),v=Yr(i,m,rs,ns,((e,t,r,n)=>Hr(e,t,r,0,"marker-chart",Lr(n)))),S=Yr(i,p,rs,ns,((e,t,r,n)=>Hr(e,t,r,0,"marker-table",Lr(n)))),k=Yr(i,rs,ns,Xo,es,(()=>"tooltipLabel"),jt),I=Yr(i,rs,ns,Xo,es,(()=>"tableLabel"),jt),x=Yr(i,rs,ns,Xo,es,(()=>"chartLabel"),jt),N=Yr(i,rs,ns,Xo,es,(()=>"copyLabel"),jt),_=Yr(i,ns,es,Bt),C=Yr(i,v,Xo,Ui),E=Yr(i,u,rs,ns,(()=>"timeline-fileio"),(()=>Dr),Hr),A=Yr(i,u,rs,ns,(()=>"timeline-memory"),Hr),O=Yr(i,u,rs,ns,(()=>"timeline-ipc"),Hr),P=Yr(i,y,(()=>null),Li),M=Yr(i,b,(()=>null),Li),R=Yr(i,u,Ur),F=t=>e.getViewOptions(t).selectedMarker,D=t=>e.getViewOptions(t).selectedNetworkMarker,L=Yr($i,(e=>null!==e&&e.threadsKey===t?e.markerIndex:null)),$=Yr(i,L,((e,t)=>"number"==typeof t?e(t):null)),j=Yr(bo,(({hoveredMarker:e})=>null!==e&&e.threadsKey===t?e.markerIndex:null)),B={};return{getMarkerGetter:i,getTimelineJankMarkerIndexes:h,getDerivedMarkerInfo:r,getMarkerIndexToRawMarkerIndexes:a,getFullMarkerList:s,getFullMarkerListIndexes:l,getMarkerListLength:e=>s(e).length,getNetworkMarkerIndexes:y,getSearchFilteredNetworkMarkerIndexes:T,getAreMarkerPanelsEmptyInFullRange:w,getMarkerTableMarkerIndexes:S,getMarkerChartMarkerIndexes:v,getMarkerChartLabelGetter:x,getMarkerTooltipLabelGetter:k,getMarkerTableLabelGetter:I,getMarkerLabelToCopyGetter:N,getMarkerSearchTermGetter:_,getMarkerChartTimingAndBuckets:C,getCommittedRangeFilteredMarkerIndexes:u,getTimelineOverviewMarkerIndexes:d,getTimelineVerticalMarkerIndexes:f,getTimelineFileIoMarkerIndexes:E,getTimelineMemoryMarkerIndexes:A,getTimelineIPCMarkerIndexes:O,getNetworkTrackTiming:P,getRangeFilteredScreenshotsById:R,getSearchFilteredMarkerIndexes:m,getPreviewFilteredMarkerIndexes:p,getSelectedMarkerIndex:F,getSelectedMarker:e=>{const t=i(e),r=F(e);return null===r?null:t(r)},getSelectedNetworkMarkerIndex:D,getSelectedNetworkMarker:e=>{const t=i(e),r=D(e);return null===r?null:t(r)},getIsNetworkChartEmptyInFullRange:g,getUserTimingMarkerIndexes:b,getUserTimingMarkerTiming:M,getRightClickedMarkerIndex:L,getRightClickedMarker:$,getHoveredMarkerIndex:j,getMarkerTrackSelectors:(e,t)=>{const r=e.name;return B[r]||(B[r]={}),B[r][t]||(B[r][t]=function(e,t){const r=Yr(s,es,((r,n)=>{if(void 0===e.graphs)throw new Error(`No graphs for marker ${t}. This shouldn't happen.`);const a=[],o=[],{graphs:s,name:i}=e,l=s.map((e=>(o.push([]),e.key))),c=n.getString(t);return r.forEach(((e,t)=>{const r=e.data;if(r&&e.name===c&&r.type===i&&l.every((e=>e in r))){a.push(t);for(let e=0;e<l.length;++e){const t=r[l[e]];o[e].push(t)}}})),{numbersPerLine:o,markerIndexes:a}})),n=Yr(r,No,i,((e,t,r)=>Te({time:e.markerIndexes.map((e=>r(e).start)),length:e.markerIndexes.length},t.start,t.end)));return{getCollectedCustomMarkerSamples:r,getCommittedRangeMarkerSampleRange:n,getCommittedRangeMarkerSampleValueBounds:Yr(r,n,((e,t)=>{const[r,n]=t,{numbersPerLine:a}=e;if(r>=n)return{minNumber:0,maxNumber:0};let o=1/0,s=-1/0;for(let e=r;e<n;e++)for(let t=0;t<a.length;t++){const r=a[t][e];r<o&&(o=r),r>s&&(s=r)}return{minNumber:o,maxNumber:s}}))}}(e,t)),B[r][t]}}}function Bi(e,t,r,n,a){const o=r.getCallNodeTable(),{prefix:s,subtreeRangeEnd:i,depth:l}=o,c=Array.from({length:n},(()=>({start:[],end:[],sameWidthsStart:[],sameWidthsEnd:[],callNode:[],length:0}))),u=[];if(0===e.length)return{timings:c,sameWidthsIndexToTimestampMap:u};let d=-1,f=-1;const h=new Float64Array(n),m=new Float64Array(n);let p=0;for(let r=0;r<e.length;r++){const n=t[r]??-1;if(n===d)continue;const a=e.time[r];for(;-1!==f&&(n<d||n>=i[d]);){const e=h[f],t=m[f],r=c[f],n=r.length++;r.start[n]=e,r.end[n]=a,r.sameWidthsStart[n]=t,r.sameWidthsEnd[n]=p,r.callNode[n]=d,d=s[d],f--}if(-1!==n){const e=l[n];for(;f<e;)f++,h[f]=a,m[f]=p}d=n,u[p]=a,p++}const g=e.time[e.length-1]+a;for(;-1!==f;){const e=c[f],t=e.length++,r=h[f],n=m[f];e.start[t]=r,e.end[t]=g,e.sameWidthsStart[t]=n,e.sameWidthsEnd[t]=p,e.callNode[t]=d,d=s[d],f--}return u[p]=g,{timings:c,sameWidthsIndexToTimestampMap:u}}function Gi(e,t,r){if(0===e.length)return[[]];const{func:n,nextSibling:a,subtreeRangeEnd:o,maxDepth:s}=e,i=t.name,l=Array.from({length:s+1},(()=>[])),c=new Int32Array(s+1);let u=0,d=0;e:for(;;){const e=l[d],t=e.length;for(let o=u;-1!==o;o=a[o]){const a=e.length;if(t===a)e.push(o);else{const s=n[o],l=B(e,r.getString(i[s]),(e=>r.getString(i[n[e]])),t,a);e.splice(l,0,o)}}let s=d,f=e,h=c[s],m=f[h];for(;o[m]===m+1;){for(h++,c[s]=h;h===f.length;){if(0===s)break e;s--,f=l[s],h=c[s]}m=f[h]}c[s]=h+1,u=m+1,d=s+1}return l}function Wi(e,t,r){const{total:n,self:a,rootTotalSummary:o}=r,{prefix:s}=t,i=[],l=new Float32Array(t.length),c=Math.abs;for(let t=0;t<e.length;t++){const r=e[t],u=[],d=[],f=[],h=[];let m=0,p=-1;for(let e=0;e<r.length;e++){const t=r[e],i=n[t];if(0===i)continue;const g=s[t];g!==p&&(m=l[g],p=g),l[t]=m;const y=c(i/o),b=c(a[t]/o),T=m+y;u.push(m),d.push(T),f.push(b),h.push(t),m=T}i[t]={start:u,end:d,selfRelative:f,callNode:h,length:h.length}}return i}const Hi=Yr(bo,(e=>e.rightClickedCallNode));const Vi={totalLineHits:new Map,selfLineHits:new Map};function zi(e,t){if(null===e)return Vi;const{selfLine:r,stackLines:n}=e,a=new Map,o=new Map;for(let e=0;e<t.length;e++){const s=t.stack[e];if(null===s)continue;const i=t.weight?t.weight[e]:1,l=n[s];if(null!==l)for(const e of l){const t=a.get(e)??0;a.set(e,t+i)}const c=r[s];if(null!==c){const e=o.get(c)??0;o.set(c,e+i)}}return{totalLineHits:a,selfLineHits:o}}const Ji={totalAddressHits:new Map,selfAddressHits:new Map};function Ki(e,t){if(null===e)return Ji;const{selfAddress:r,stackAddresses:n}=e,a=new Map,o=new Map;for(let e=0;e<t.length;e++){const s=t.stack[e];if(null===s)continue;const i=t.weight?t.weight[e]:1,l=n[s];if(null!==l)for(const e of l){const t=a.get(e)??0;a.set(e,t+i)}const c=r[s];if(null!==c){const e=o.get(c)??0;o.set(c,e+i)}}return{totalAddressHits:a,selfAddressHits:o}}const qi=Zr(qr,{maxSize:2});function Zi(e,t){const r=Yr(e.getThread,Do,((e,t)=>{const{time:r}=e.samples;return 0===r.length?null:{start:r[0],end:r[r.length-1]+t}})),n=qi((t=>e.getFilteredThread(t).stackTable),(t=>e.getFilteredThread(t).frameTable),Uo,ne),a=qi(n,Uo,(t=>e.getFilteredThread(t).funcTable.length),ae),o=e=>Ma(e)?a(e):n(e),s=e=>n(e).getCallNodeTable(),i=Yr(s,ce),l=Yr(e.getFilteredThread,ka,(({stackTable:e,frameTable:t,funcTable:r},n)=>null===n?null:function(e,t,r,n){const a=[],o=[];for(let s=0;s<e.length;s++){const i=e.frame[s],l=e.prefix[s],c=t.func[i],u=r.source[c];let d=null,f=null!==l?o[l]:null;u===n&&(d=t.line[i],null!==d&&(null===f?f=new Set([d]):f.has(d)||(f=new Set(f),f.add(d)))),a.push(d),o.push(f)}return{selfLine:a,stackLines:o}}(e,t,r,n))),c=Yr(e.getFilteredThread,Na,(({nativeSymbols:e},t)=>null===t?null:e.address.findIndex(((r,n)=>r===t.address&&e.libIndex[n]===t.libIndex)))),u=Yr(e.getFilteredThread,c,(({stackTable:e,frameTable:t,funcTable:r},n)=>null===n?null:function(e,t,r,n){const a=[],o=[];for(let r=0;r<e.length;r++){const s=e.frame[r],i=e.prefix[r],l=t.nativeSymbol[s];let c=null,u=null!==i?o[i]:null;l===n&&(c=t.address[s],-1!==c&&(null===u?u=new Set([c]):u.has(c)||(u=new Set(u),u.add(c)))),a.push(c),o.push(u)}return{selfAddress:a,stackAddresses:o}}(e,t,0,n))),d=Yr(e.getViewOptions,Ma,((e,t)=>t?e.selectedInvertedCallNodePath:e.selectedNonInvertedCallNodePath)),f=Yr(o,d,((e,t)=>e.getCallNodeIndexFromPath(t))),h=Yr(e.getViewOptions,Ma,((e,t)=>t?e.expandedInvertedCallNodePaths:e.expandedNonInvertedCallNodePaths)),m=Yr(o,h,((e,t)=>Array.from(t).map((t=>e.getCallNodeIndexFromPath(t))))),p=Yr((t=>e.getPreviewFilteredCtssSamples(t).stack),(e=>o(e).getStackIndexToNonInvertedCallNodeIndex()),se),g=Yr((t=>e.getFilteredCtssSamples(t).stack),(e=>o(e).getStackIndexToNonInvertedCallNodeIndex()),se),y=Yr((t=>e.getFilteredThread(t).samples.stack),(e=>o(e).getStackIndexToNonInvertedCallNodeIndex()),se),b=Yr(y,o,f,((e,t,r)=>function(e,t,r){if(null===r||-1===r)return function(e){const t=new Array(e.length);for(let r=0;r<e.length;r++){let n="SELECTED";null===e[r]&&(n="FILTERED_OUT_BY_TRANSFORM"),t[r]=n}return t}(t);const n=e.asInverted();return null!==n?function(e,t,r){const n=r.getSuffixOrderIndexes(),[a,o]=r.getSuffixOrderIndexRangeForCallNode(t),s=e.length,i=new Array(s);for(let t=0;t<s;t++){let r="SELECTED";const s=e[t];if(null!==s){const e=n[s];e<a?r="UNSELECTED_ORDERED_BEFORE_SELECTED":e>=o&&(r="UNSELECTED_ORDERED_AFTER_SELECTED")}else r="FILTERED_OUT_BY_TRANSFORM";i[t]=r}return i}(t,r,n):function(e,t,r){const n=r.getCallNodeTable().subtreeRangeEnd[t],a=e.length,o=new Array(a);for(let r=0;r<a;r++){let a="SELECTED";const s=e[r];a=null!==s?s<t?"UNSELECTED_ORDERED_BEFORE_SELECTED":s<n?"SELECTED":"UNSELECTED_ORDERED_AFTER_SELECTED":"FILTERED_OUT_BY_TRANSFORM",o[r]=a}return o}(t,r,e)}(t,e,r))),w=Yr(y,o,Re),v=Yr(e.getFilteredCtssSamples,o,ke),S=Yr(e.getUnfilteredCtssSamples,(e=>e.weightType||"samples")),k=Yr(e.getPreviewFilteredCtssSamples,p,o,((e,t,r)=>function(e,t,r){const n=new Float64Array(r);for(let r=0;r<t.length;r++){const a=t[r];if(null!==a){const t=e.weight?e.weight[r]:1;n[a]+=t}}const a=Math.abs;let o=0;for(let e=0;e<r;e++)o+=a(n[e]);return{callNodeSelf:n,rootTotalSummary:o}}(e,t,r.getCallNodeTable().length))),I=Yr(o,k,Ei),x=Yr(o,k,Ai),N=Yr(s,i,k,(t=>e.getFilteredThread(t).funcTable.length),Oi),_=Yr(e.getFilteredThread,o,Xo,I,S,ts,Pi),C=Yr(e.getFilteredThread,a,Xo,N,S,((e,t,r,n,a)=>Pi(e,t,r,{type:"FUNCTION_LIST",timings:n},a))),E=Yr(l,e.getPreviewFilteredCtssSamples,zi),A=Yr(u,e.getPreviewFilteredCtssSamples,Ki),O=Yr(e.getPreviewFilteredCtssSamples,p,o,Do,((e,t,r,n)=>{const a=function(e,t,r,n){if("samples"!==e.weightType||e.weight)return null;const a=new Float64Array(r);let o=0;for(let r=0;r<e.length-1;r++){const n=t[r];if(null!==n){const t=e.time[r+1]-e.time[r];a[n]+=t,o+=t}}if(e.length>0){const r=t[e.length-1];if(null!==r){const e=n;a[r]+=e,o+=e}}return{callNodeSelf:a,rootTotalSummary:o}}(e,t,r.getCallNodeTable().length,n);return null===a?null:Ei(r,a)})),P=Yr(f,o,O,((e,t,r)=>null===e||null===r?null:function(e,t,r){switch(r.type){case"NON_INVERTED":{const{timings:t}=r;return{self:t.self[e],total:t.total[e]}}case"FUNCTION_LIST":{const n=(0,T.Nn)(t.asInverted()),{timings:a}=r,{funcSelf:o,funcTotal:s}=a;if(!n.isRoot(e))throw new Error("When using function list timings, callNodeIndex must always refer to a function (an inverted root)");return{self:o[e],total:s[e]}}case"INVERTED":{const n=(0,T.Nn)(t.asInverted()),{timings:a}=r,{callNodeSelf:o,totalPerRootFunc:s}=a;if(n.isRoot(e)){const t=s[e];return{self:t,total:t}}const{total:i}=_i(e,n,o);return{self:0,total:i}}default:throw(0,T.lC)(r,"callTreeTimings.type")}}(e,t,r))),M=Yr(e.getFilteredCtssSamples,g,o,v,Do,Bi),R=Yr((e=>o(e).getCallNodeTable()),(t=>e.getFilteredThread(t).funcTable),(t=>e.getFilteredThread(t).stringTable),Gi),F=Yr(R,(e=>o(e).getCallNodeTable()),x,Wi),D=Yr(Hi,o,((e,r)=>null!==e&&t===e.threadsKey?r.getCallNodeIndexFromPath(e.callNodePath):null));return{unfilteredSamplesRange:r,getWeightTypeForCallTree:S,getCallNodeInfo:o,getSourceViewStackLineInfo:l,getAssemblyViewNativeSymbolIndex:c,getAssemblyViewStackAddressInfo:u,getSelectedCallNodePath:d,getSelectedCallNodeIndex:f,getExpandedCallNodePaths:h,getExpandedCallNodeIndexes:m,getSampleIndexToNonInvertedCallNodeIndexForFilteredThread:y,getSamplesSelectedStatesInFilteredThread:b,getTreeOrderComparatorInFilteredThread:w,getCallTree:_,getFunctionListTree:C,getSourceViewLineTimings:E,getAssemblyViewAddressTimings:A,getTracedTiming:O,getTracedSelfAndTotalForSelectedCallNode:P,getStackTimingByDepth:e=>M(e).timings,getSameWidthsIndexToTimestampMap:e=>M(e).sameWidthsIndexToTimestampMap,getFilteredCallNodeMaxDepthPlusOne:v,getFlameGraphTiming:F,getRightClickedCallNodeIndex:D}}const Yi={},Qi=S()((e=>rl(new Set((""+e).split(",").map((e=>+e))),e)),{limit:5}),Xi=e=>{if(e in Yi)return Yi[e];const t=rl(new Set([e]));return Yi[e]=t,t},el=e=>{let t=null,r=null;return"number"==typeof e?t=e:r=e,null!==t?Xi(t):(r=(0,T.Nn)(r),tl(Le(r),r))},tl=(e,t=new Set((""+e).split(",").map((e=>+e))))=>1===t.size?Xi((0,T.Nn)((0,T.cF)(t))):Qi(e);function rl(e,t=Le(e)){let r=Fi(e,t);var n;return r={...r,...ji(r,t)},r={...r,...Di(r,t)},r={...r,...Zi(r,t)},r={...r,...(n=r,{getUsefulTabs:Yr(Fo,n.getRawThread,n.getIsNetworkChartEmptyInFullRange,n.getJsTracerTable,((e,t,r,n)=>{if("comparison"===t.processType)return["calltree"];let a=zn;r&&(a=a.filter((e=>"network-chart"!==e))),n||(a=a.filter((e=>"js-tracer"!==e)));const{samples:o,jsAllocations:s,nativeAllocations:i}=t;return[o,s,i].some((r=>ge(r?.stack,t,e)))||(a=a.filter((e=>!Jn.includes(e)))),a})),getCombinedTimingRows:Yr(n.getUserTimingMarkerTiming,n.getStackTimingByDepth,((e,t)=>[...e,...t]))})},r}const nl=(()=>{const e=el(0),t={};for(const r in e)t[r]=e=>el(Fa(e))[r](e);return t})();(()=>{Yr(nl.getSelectedCallNodePath,nl.getFilteredThread,((e,{stringTable:t,funcTable:r})=>{if(!e.length)return"";const n=ie(e);return t.getString(r.name[n])})),Yr(nl.getSelectedCallNodePath,nl.getFilteredThread,((e,{funcTable:t})=>{if(!e.length)return!1;const r=ie(e);return t.isJS[r]})),Yr(nl.getSelectedCallNodePath,nl.getFilteredThread,ts,((e,{stringTable:t,funcTable:r,resourceTable:n},a)=>e.length?Pe(ie(e),r,n,t,a):"")),Yr(nl.getSelectedCallNodePath,nl.getCallNodeInfo,nl.getThread,nl.getPreviewFilteredCtssSampleIndexOffset,Xo,nl.getPreviewFilteredCtssSamples,nl.getUnfilteredCtssSamples,le);const e=Yr(nl.getFilteredThread,ka,nl.getCallNodeInfo,nl.getSelectedCallNodeIndex,(({stackTable:e,frameTable:t,funcTable:r},n,a,o)=>{if(null===n||null===o)return null;const s=a.funcForNode(o),i=r.source[s];return null===i||i!==n?null:function(e,t,r,n){const a=n.asInverted();return null!==a?function(e,t,r,n){const a=n.depthForNode(r),[o,s]=n.getSuffixOrderIndexRangeForCallNode(r),i=n.isRoot(r),l=n.getStackIndexToNonInvertedCallNodeIndex(),c=e.prefix,u=n.getSuffixOrderIndexes(),d=[],f=[];for(let r=0;r<e.length;r++){let n=null,h=null;const m=oe(r,o,s,u,a,l,c);if(null!==m){const r=e.frame[m],a=t.line[r];null!==a&&(h=new Set([a]),i&&(n=a))}d.push(n),f.push(h)}return{selfLine:d,stackLines:f}}(e,t,r,a):function(e,t,r,n){const a=n.getStackIndexToNonInvertedCallNodeIndex(),o=[],s=[];for(let n=0;n<e.length;n++){let i=null,l=null;if(a[n]===r){const r=e.frame[n];i=t.line[r],null!==i&&(l=new Set([i]))}else{const t=e.prefix[n];l=null!==t?s[t]:null}o.push(i),s.push(l)}return{selfLine:o,stackLines:s}}(e,t,r,n)}(e,t,o,a)})),t=(Yr(e,nl.getPreviewFilteredCtssSamples,zi),Yr(nl.getFilteredThread,nl.getAssemblyViewNativeSymbolIndex,nl.getCallNodeInfo,nl.getSelectedCallNodeIndex,(({stackTable:e,frameTable:t},r,n,a)=>null===r||null===a?null:function(e,t,r,n,a){const o=n.asInverted();return null!==o?function(e,t,r,n,a){const o=n.depthForNode(r),[s,i]=n.getSuffixOrderIndexRangeForCallNode(r),l=n.isRoot(r),c=n.getStackIndexToNonInvertedCallNodeIndex(),u=e.prefix,d=n.getSuffixOrderIndexes(),f=[],h=[];for(let r=0;r<e.length;r++){let n=null,m=null;const p=oe(r,s,i,d,o,c,u);if(null!==p){const r=e.frame[p];if(t.nativeSymbol[r]===a){const e=t.address[r];-1!==e&&(m=new Set([e]),l&&(n=e))}}f.push(n),h.push(m)}return{selfAddress:f,stackAddresses:h}}(e,t,r,o,a):function(e,t,r,n,a){const o=n.getStackIndexToNonInvertedCallNodeIndex(),s=[],i=[];for(let n=0;n<e.length;n++){let l=null,c=null;const u=e.frame[n];if(o[n]===r&&t.nativeSymbol[u]===a)l=t.address[u],-1!==l&&(c=new Set([l]));else{const t=e.prefix[n];c=null!==t?i[t]:null}s.push(l),i.push(c)}return{selfAddress:s,stackAddresses:i}}(e,t,r,n,a)}(e,t,a,n,r))));Yr(t,nl.getPreviewFilteredCtssSamples,Ki)})();var al=r(3276),ol=r.n(al);function sl(e){const t=Ht(e.meta.markerSchema),r=function(e,t){const r=new Uint8Array(e.shared.stringArray.length);for(const n of e.threads)ll(n,r,t,e.shared.sources??null);return r}(e,t),n=function(e){const t=new Uint8Array(e.shared.sources.length);for(const r of e.threads)il(r,t);return t}(e);return function(e,t,r,n){const{newStringArray:a,oldStringToNewStringPlusOne:o}=function(e,t){const r=new Int32Array(e.length);let n=0;const a=[];for(let o=0;o<e.length;o++){if(0===t[o])continue;const s=n++;a[s]=e[o],r[o]=s+1}return{newStringArray:a,oldStringToNewStringPlusOne:r}}(e.shared.stringArray,t),{newSources:s,oldSourceToNewSourcePlusOne:i}=function(e,t,r){const n=new Int32Array(e.length);let a=0;const o=[],s=[];for(let i=0;i<e.length;i++){if(0===t[i])continue;const l=a++;o[l]=e.uuid[i];const c=e.filename[i],u=r[c];if(0===u)throw new Error(`String index ${c} was not found in the translation map`);s[l]=u-1,n[i]=l+1}return{newSources:{length:a,uuid:o,filename:s},oldSourceToNewSourcePlusOne:n}}(e.shared.sources,r,o),l=e.threads.map((e=>function(e,t,r,n){const a=function(e,t){const r=e.name.slice();for(let n=0;n<e.length;n++)r[n]=t[r[n]]-1;return{...e,name:r}}(e.nativeSymbols,t),o=function(e,t){const r=e.name.slice(),n=e.host.slice();for(let a=0;a<e.length;a++){const e=r[a];r[a]=t[e]-1;const o=n[a];n[a]=null!==o?t[o]-1:null}return{...e,name:r,host:n}}(e.resourceTable,t),s=function(e,t,r){const n=e.name.slice(),a=e.source.slice();for(let o=0;o<e.length;o++){const s=e.name[o];n[o]=t[s]-1;const i=e.source[o];if(null!==i){const e=r[i];a[o]=e-1}}return{...e,name:n,source:a}}(e.funcTable,t,r),i=function(e,t,r){const n=e.data.slice(),a=e.name.slice();for(let o=0;o<e.length;o++){a[o]=t[e.name[o]]-1;const s=e.data[o];if(!s)continue;let i=s;if(s.type){const e=r.get(s.type);if(void 0!==e)for(const r of e){const e=s[r];"number"==typeof e&&(i={...i,[r]:t[e]-1})}}n[o]=i}return{...e,name:a,data:n}}(e.markers,t,n);return{...e,nativeSymbols:a,resourceTable:o,funcTable:s,markers:i}}(e,o,i,n))),c={stringArray:a,sources:s};return{profile:{...e,shared:c,threads:l},oldStringToNewStringPlusOne:o,oldSourceToNewSourcePlusOne:i}}(e,r,n,t)}function il(e,t){for(let r=0;r<e.funcTable.length;r++){const n=e.funcTable.source[r];null!==n&&(t[n]=1)}}function ll(e,t,r,n){!function(e,t,r){for(let n=0;n<e.length;n++){t[e.name[n]]=1;const a=e.data[n];if(a&&a.type){const e=r.get(a.type);if(void 0!==e)for(const r of e){const e=a[r];"number"==typeof e&&(t[e]=1)}}}}(e.markers,t,r),function(e,t,r){for(let n=0;n<e.length;n++){t[e.name[n]]=1;const a=e.source[n];null!==a&&(t[r.filename[a]]=1)}}(e.funcTable,t,n),function(e,t){for(let r=0;r<e.length;r++){t[e.name[r]]=1;const n=e.host[r];null!==n&&(t[n]=1)}}(e.resourceTable,t),function(e,t){for(let r=0;r<e.length;r++)t[e.name[r]]=1}(e.nativeSymbols,t)}function cl(e){return e.markers.length>0||e.samples.stack.some((e=>null!==e))}const ul=e=>e.publish,dl=e=>ul(e).checkedSharingOptions,fl=Yr(Ro,wo,((e,t)=>{const{startTime:r,product:n}=e.meta,a=e=>e<10?`0${e}`:`${e}`,o=new Date(r+t.start);return`${n} ${a(o.getFullYear())}-${a(o.getMonth()+1)}-${a(o.getDate())} ${a(o.getHours())}.${a(o.getMinutes())} profile.json`})),hl=Yr(dl,Ro,No,Ga,Wa,us,ps,fs,Rs,((e,t,r,n,a,o,s,i,l)=>{let c=!0;for(const[t,r]of Object.entries(e))("includePreferenceValues"!==t||i)&&("includePrivateBrowsingData"!==t||l)&&(c=c&&r);if(c)return null;const u=new Set,d=new Set;if(!e.includeHiddenThreads){for(const e of n){const t=o[e];if("process"===t.type){null!==t.mainThreadIndex&&u.add(t.mainThreadIndex);const e=(0,T.Nn)(s.get(t.pid),"Expected to be able to get a local track by PID.");for(const t of e)"thread"===t.type&&u.add(t.threadIndex)}}for(const[e,t]of a){const r=(0,T.Nn)(s.get(e),"Expected to be able to get a local track by PID");for(const e of t){const t=r[e];"thread"===t.type?u.add(t.threadIndex):"counterIndex"in t&&"number"==typeof t.counterIndex&&d.add(t.counterIndex)}}}return{shouldFilterToCommittedRange:e.includeFullTimeRange?null:r,shouldRemoveUrls:!e.includeUrls,shouldRemoveThreadsWithScreenshots:new Set(e.includeScreenshots?[]:t.threads.map(((e,t)=>t))),shouldRemoveThreads:u,shouldRemoveCounters:d,shouldRemoveExtensions:!e.includeExtension,shouldRemovePreferenceValues:!e.includePreferenceValues,shouldRemovePrivateBrowsingData:!e.includePrivateBrowsingData}}));let ml=null,pl=null;const gl=Yr(Ro,(function(e){const t=$o(e);return ml===t&&null!==pl||(ml=t,pl=$o(e).map(((t,r)=>el(r).getDerivedMarkerInfo(e)))),pl}),hl,ns,(function(e,t,r,n){if(null===r)return{profile:e,isSanitized:!1,oldThreadIndexToNew:null,committedRanges:null};const a=r,o=new Map,s=new Set;let i=e.pages;if(i){if(a.shouldRemovePrivateBrowsingData){i=i.slice();for(let e=i.length-1;e>=0;e--){const t=i[e];let r=!1;a.shouldRemovePrivateBrowsingData&&t.isPrivateBrowsing&&(s.add(t.innerWindowID),r=!0),r&&i.splice(e,1)}}a.shouldRemoveUrls&&(i=i.map(((e,t)=>({...e,url:Sr(e.url,`<Page #${t}>`),favicon:null}))))}let l=e.shared.stringArray;a.shouldRemoveUrls&&(l=l.map((e=>Sr(e))));const c=$e.M.withBackingArray(l);let u=!1;const d={...e,meta:{...e.meta,extensions:a.shouldRemoveExtensions?(0,b.Ie)():e.meta.extensions},pages:i,shared:{stringArray:l,sources:e.shared.sources},threads:e.threads.reduce(((e,r,i)=>{const l=function(e,t,r,n,a,o,s){if(a.shouldRemoveThreads.has(n))return null;if(a.shouldRemovePrivateBrowsingData&&e.isPrivateBrowsing)return null;let i=(0,b.SQ)(e.markers);const l=new Set;if(a.shouldRemoveUrls||a.shouldRemovePreferenceValues||a.shouldRemoveExtensions||a.shouldRemoveThreadsWithScreenshots.size>0||a.shouldRemovePrivateBrowsingData)for(let e=0;e<i.length;e++){let r=i.data[e];if(a.shouldRemovePreferenceValues&&r&&"PreferenceRead"===r.type&&(i.data[e]=(c=r,{...c,prefValue:""})),r&&a.shouldRemoveUrls){const n=Lt(s,r);if(n&&(r=i.data[e]=Gr(n,r)),"Network"===r.type){i.data[e]=$r(r);const n=t.getString(i.name[e]).replace(/:.*/,"");i.name[e]=t.indexForString(n)}"Text"===r.type&&(i.data[e]=jr(r),r=i.data[e])}if(a.shouldRemoveExtensions&&r&&"Text"===r.type){const n=t.getString(i.name[e]);i.data[e]=Br(n,r)}a.shouldRemoveThreadsWithScreenshots.has(n)&&r&&"CompositorScreenshot"===r.type&&l.add(e),a.shouldRemovePrivateBrowsingData&&(r&&"Network"===r.type&&r.isPrivateBrowsing&&l.add(e),r&&"innerWindowID"in r&&r.innerWindowID&&o.has(r.innerWindowID)&&l.add(e))}var c;let u;if(l.size>0||null!==a.shouldFilterToCommittedRange)if(i=function(e,t,r,n){const a=(0,b.qc)(),o=[];e.threadId&&(a.threadId=o);const s=new Map,i=t=>{r.has(t)||(s.set(t,a.length),a.name.push(e.name[t]),a.startTime.push(e.startTime[t]),a.endTime.push(e.endTime[t]),a.phase.push(e.phase[t]),a.data.push(e.data[t]),a.category.push(e.category[t]),e.threadId&&o.push(e.threadId[t]),a.length++)};if(null===n)for(let t=0;t<e.length;t++)i(t);else{const{start:e,end:r}=n,a=function(e,t,r,n){const{markers:a,markerIndexToRawMarkerIndexes:o}=t,s=new Set;for(let e=0;e<a.length;e++){const{start:t,end:i}=a[e];if(null===i){if(t<n&&t>=r)for(const t of o[e])s.add(t)}else if(t<n&&i>=r)for(const t of o[e])s.add(t)}return[...s].sort(((e,t)=>e-t))}(0,t,e,r);for(const e of a)i(e)}return{rawMarkerTable:a,oldMarkerIndexToNew:s}}(i,r,l,a.shouldFilterToCommittedRange).rawMarkerTable,null!==a.shouldFilterToCommittedRange){const{start:t,end:r}=a.shouldFilterToCommittedRange;if(e.registerTime>r||e.unregisterTime&&e.unregisterTime<t)return null;u=function(e,t,r){const{samples:n,jsAllocations:a,nativeAllocations:o}=e,s=pe(n),[i,l]=be(s,t,r),c={length:l-i,time:s.slice(i,l),weight:n.weight?n.weight.slice(i,l):null,weightType:n.weightType,stack:n.stack.slice(i,l)};n.eventDelay?c.eventDelay=n.eventDelay.slice(i,l):n.responsiveness&&(c.responsiveness=n.responsiveness.slice(i,l)),n.threadCPUDelta&&(c.threadCPUDelta=n.threadCPUDelta.slice(i,l)),n.threadId&&(c.threadId=n.threadId.slice(i,l));const u={...e,samples:c};if(a){const[e,n]=ye(a,t,r);u.jsAllocations={time:a.time.slice(e,n),className:a.className.slice(e,n),typeName:a.typeName.slice(e,n),coarseType:a.coarseType.slice(e,n),weight:a.weight.slice(e,n),weightType:a.weightType,inNursery:a.inNursery.slice(e,n),stack:a.stack.slice(e,n),length:n-e}}if(o){const[e,n]=ye(o,t,r),a=o.time.slice(e,n),s=o.weight.slice(e,n),i=o.stack.slice(e,n),l=n-e;u.nativeAllocations="memoryAddress"in o?{time:a,weight:s,weightType:o.weightType,stack:i,memoryAddress:o.memoryAddress.slice(e,n),threadId:o.threadId.slice(e,n),length:l}:{time:a,weight:s,weightType:o.weightType,stack:i,length:l}}return u}(e,t,r)}else u={...e};else u={...e};if(a.shouldRemoveUrls&&u["eTLD+1"]&&delete u["eTLD+1"],o.size>0){const e=new Map,r=new Set,{frameTable:n,funcTable:a,resourceTable:s,stackTable:i,samples:l}=u;for(let t=0;t<n.length;t++){const a=n.innerWindowID[t],s=n.func[t];if(a&&o.has(a)){let r=e.get(s);r||(r=[],e.set(s,r)),r.push(t)}else r.add(s)}if(e.size){const o=new Set,i=u.funcTable=(0,b.ES)(a),l=u.frameTable={...n,innerWindowID:n.innerWindowID.slice(),func:n.func.slice(),line:n.line.slice(),column:n.column.slice()};for(const[n,s]of e.entries()){if(r.has(n)){const e=i.length,r=t.indexForString(`<Func #${e}>`);i.name.push(r),i.isJS.push(a.isJS[n]),i.relevantForJS.push(a.isJS[n]),i.resource.push(-1),i.source.push(null),i.lineNumber.push(null),i.columnNumber.push(null),i.length++,s.forEach((t=>l.func[t]=e))}else{const e=t.indexForString(`<Func #${n}>`);i.name[n]=e,i.source[n]=null,i.resource[n]>=0&&o.add(i.resource[n]),i.resource[n]=-1,i.lineNumber[n]=null,i.columnNumber[n]=null}s.forEach((e=>{l.line[e]=null,l.column[e]=null,l.innerWindowID[e]=null}))}if(o.size){const e=u.resourceTable={...s,lib:s.lib.slice(),name:s.name.slice(),host:s.host.slice()},r=new Set(i.resource);for(const n of o)if(!r.has(n)){const r=t.indexForString(`<Resource #${n}>`);e.name[n]=r,e.lib[n]=null,e.host[n]=null}}}const c=u.samples={...l,stack:l.stack.slice()},d=new Uint8Array(i.length),f=1;for(let e=0;e<i.length;e++){const t=i.prefix[e];if(null!==t&&(d[e]=d[t],d[e]===f))continue;const r=i.frame[e],a=n.innerWindowID[r];a&&(o.has(a)&&(d[e]=f))}for(let e=0;e<l.length;e++){const t=l.stack[e];null!==t&&(d[t]!==f||(c.stack[e]=null))}}return u.markers=i,cl(u)||!cl(e)?u:null}(r,c,t[i],i,a,s,n);return null!==l&&(o.set(i,e.length),e.push(l)),e}),[]),counters:e.counters?e.counters.reduce(((e,t,r)=>{if(a.shouldRemoveCounters.has(r))return u=!0,e;const n=function(e,t,r){const n=r.get(e.mainThreadIndex);if(void 0===n)return null;let a=e;if(null!==t.shouldFilterToCommittedRange){const{start:e,end:r}=t.shouldFilterToCommittedRange;a=function(e,t,r){const n={...e},{samples:a}=n,o=pe(a),[s,i]=we(o,t,r);return n.samples={length:i-s,time:o.slice(s,i),count:a.count.slice(s,i),number:a.number?a.number.slice(s,i):void 0},n}(a,e,r)}return{...a,mainThreadIndex:n}}(t,a,o);return null!==n&&e.push(n),e}),[]):void 0,profilerOverhead:e.profilerOverhead?e.profilerOverhead.reduce(((e,t)=>{const r=o.get(t.mainThreadIndex);return void 0!==r&&e.push({...t,mainThreadIndex:r}),e}),[]):void 0};if(null!==a.shouldFilterToCommittedRange){const{start:e,end:t}=a.shouldFilterToCommittedRange;d.meta.profilingStartTime=e,d.meta.profilingEndTime=t}return{profile:sl(d).profile,isSanitized:!0,committedRanges:a.shouldFilterToCommittedRange?[]:null,oldThreadIndexToNew:o.size!==e.threads.length||u?o:null}})),yl=e=>ul(e).sanitizedProfileEncodingState,bl=e=>ul(e).upload,Tl=e=>bl(e).phase,wl=e=>bl(e).generation,vl=Yr(bl,(({uploadProgress:e})=>ol()(e,.1,.95))),Sl=e=>bl(e).error,kl=Yr(vl,(e=>St(e,0,0,"percent"))),Il=e=>bl(e).abortFunction,xl=Yr(Ro,(function(e){switch(e.meta.updateChannel){case"esr":case"release":case"beta":return!0;default:return!1}})),Nl=e=>ul(e).prePublishedState,_l=e=>Boolean(Nl(e)),Cl=e=>ul(e).isHidingStaleProfile,El=e=>ul(e).hasSanitizedProfile,Al=Yr(Yo,Ho,$o,((e,t,r)=>void 0!==e&&(t.configuration&&t.configuration.features.includes("cpu")||r.some((e=>void 0!==e.samples.threadCPUDelta))))),Ol=Yr(Wo,(e=>null!==e&&e.some((e=>"CPU"===e.category)))),Pl=e=>e.code.sourceCodeCache,Ml=Yr(Pl,ka,((e,t)=>null!==t?e.get(t):void 0)),Rl=e=>e.code.assemblyCodeCache,Fl=Yr(Na,Mo,((e,t)=>null===t||null===e?null:t.libs[e.libIndex])),Dl=Yr(Rl,Na,Fl,((e,t,r)=>{if(null===t||null===r)return;const{debugName:n,breakpadId:a}=r,o=`${n}/${a}/${t.address.toString(16)}`;return e.get(o)})),Ll=e=>e.icons,Ul=(e,t)=>null===t?"":Ll(e).get(t)??"",$l=(e,t)=>t.some((t=>e instanceof t));let jl,Bl;const Gl=new WeakMap,Wl=new WeakMap,Hl=new WeakMap;let Vl={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return Gl.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Kl(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function zl(e){Vl=e(Vl)}function Jl(e){return"function"==typeof e?(t=e,(Bl||(Bl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(ql(this),e),Kl(this.request)}:function(...e){return Kl(t.apply(ql(this),e))}):(e instanceof IDBTransaction&&function(e){if(Gl.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)}));Gl.set(e,t)}(e),$l(e,jl||(jl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Vl):e);var t}function Kl(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{t(Kl(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",a),e.addEventListener("error",o)}));return Hl.set(t,e),t}(e);if(Wl.has(e))return Wl.get(e);const t=Jl(e);return t!==e&&(Wl.set(e,t),Hl.set(t,e)),t}const ql=e=>Hl.get(e),Zl=["get","getKey","getAll","getAllKeys","count"],Yl=["put","add","delete","clear"],Ql=new Map;function Xl(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ql.get(t))return Ql.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=Yl.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!a&&!Zl.includes(r))return;const o=async function(e,...t){const o=this.transaction(e,a?"readwrite":"readonly");let s=o.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[r](...t),a&&o.done]))[0]};return Ql.set(t,o),o}zl((e=>({...e,get:(t,r,n)=>Xl(t,r)||e.get(t,r,n),has:(t,r)=>!!Xl(t,r)||e.has(t,r)})));const ec=["continue","continuePrimaryKey","advance"],tc={},rc=new WeakMap,nc=new WeakMap,ac={get(e,t){if(!ec.includes(t))return e[t];let r=tc[t];return r||(r=tc[t]=function(...e){rc.set(this,nc.get(this)[t](...e))}),r}};async function*oc(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const r=new Proxy(t,ac);for(nc.set(r,t),Hl.set(r,ql(t));t;)yield r,t=await(rc.get(r)||t.continue()),rc.delete(r)}function sc(e,t){return t===Symbol.asyncIterator&&$l(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&$l(e,[IDBIndex,IDBObjectStore])}let ic;function lc(e){return(t,r)=>{const{threads:n,shared:a}=Ro(r()),o=new Map,s=n.map(((t,r)=>{const n=e.get(r);if(void 0===n)return t;const{thread:s,oldFuncToNewFuncsMap:i}=function(e,t,r){const n=new Map,a=e.frameTable.length,o=new Uint8Array(a),s=new Map;let i=e;for(const e of r)i=gr(i,t,e,n,o,s);return i=function(e,t,r){if(0===r.size)return e;const{stackTable:n}=e,a=(0,b.Gh)(),o=new Int32Array(n.length);for(let e=0;e<n.length;e++){const s=n.frame[e],i=n.prefix[e],l=null===i?-1:o[i];if(0!==t[s]){o[e]=l;continue}let c=r.get(s);void 0===c&&(c=[s]);let u=-1!==l?l:null;for(let e=0;e<c.length;e++){const t=c[e],r=a.length;a.frame.push(t),a.prefix.push(u),a.length++,u=r}o[e]=u??-1}return function(e,t,r){return Ce(e,t,r,r)}(e,a,(e=>{if(null===e)return null;const t=o[e];return-1!==t?t:null}))}(i,o,s),{thread:i,oldFuncToNewFuncsMap:n}}(t,a,n);return o.set(r,i),s}));t({type:"BULK_SYMBOLICATION",oldFuncToNewFuncsMaps:o,symbolicatedThreads:s})}}async function cc(e){switch(e.type){case"HASH":return async function(e){const t=await fetch(function(e){return`https://storage.googleapis.com/${w.d7}/${e}`}(e));return pr(await t.json())}(e.hash);case"FILE":return async function(e){return pr(p().readFileSync(e,null).buffer)}(e.file);default:return e}}if(zl((e=>({...e,get:(t,r,n)=>sc(t,r)?oc:e.get(t,r,n),has:(t,r)=>sc(t,r)||e.has(t,r)}))),new Set,ic="object"==typeof window&&window.requestIdleCallback?window.requestIdleCallback:"object"==typeof process&&process.nextTick?process.nextTick:e=>setTimeout(e,0),new class{constructor(){this._updates=void 0,this._updateObservers=void 0,this._requestedUpdate=void 0,this._updates=new Map,this._updateObservers=[],this._requestedUpdate=!1}_scheduleUpdate(e){this._requestedUpdate||(ic((()=>this._dispatchUpdate(e)),{timeout:2e3}),this._requestedUpdate=!0)}_dispatchUpdate(e){const t=this._updates,r=this._updateObservers;this._updates=new Map,this._updateObservers=[],this._requestedUpdate=!1,e(lc(t));for(const e of r)e()}enqueueSingleSymbolicationStep(e,t,r,n){this._scheduleUpdate(e);let a=this._updates.get(t);void 0===a&&(a=[],this._updates.set(t,a)),a.push(r),this._updateObservers.push(n)}},Error,!(e=r.hmd(e)).parent)try{(async function(e){const t=await cc(e.samplesProf),n=await cc(e.markersProf);void 0===t.meta.startTimeAsClockMonotonicNanosecondsSinceBoot&&e.assumeSamplesProfileHasStartTimeZero&&(t.meta.startTimeAsClockMonotonicNanosecondsSinceBoot=0);let a=n.meta.startTime-t.meta.startTime;void 0!==t.meta.startTimeAsClockMonotonicNanosecondsSinceBoot&&void 0!==n.meta.startTimeAsClockMonotonicNanosecondsSinceBoot&&(a=(n.meta.startTimeAsClockMonotonicNanosecondsSinceBoot-t.meta.startTimeAsClockMonotonicNanosecondsSinceBoot)/1e6);const o=t;o.meta.markerSchema=n.meta.markerSchema,o.pages=n.pages;const s=new Map,i=(0,T.Nn)(n.meta.categories),l=(0,T.Nn)(o.meta.categories);for(let e=0;e<i.length;e++){const t=i[e];let r=l.findIndex((e=>e.name===t.name));-1===r&&(r=l.length,l[r]={name:t.name,color:t.color,subcategories:["Other"]}),s.set(e,r)}const c=new Map(n.threads.map((e=>[""+e.tid,e]))),u=Ht(o.meta.markerSchema),d=new Set,f=$e.M.withBackingArray(o.shared.stringArray),h=n.shared.stringArray,m=[];for(const t of o.threads){if(void 0!==e.filterByProcessPrefix&&!t.processName.startsWith(e.filterByProcessPrefix))continue;m.push(t);const r=t.tid,n=c.get(r);if(void 0!==n){c.delete(r),t.markers=hr(n.markers,a);for(let e=0;e<t.markers.length;e++){t.markers.category[e]=(0,T.Nn)(s.get(t.markers.category[e])),t.markers.name[e]=f.indexForString(h[t.markers.name[e]]);const r=t.markers.data[e];if(null!==r&&r.type){const e=r.type,t=u.get(e);if(void 0!==t)for(const e of t){const t=r[e];if("number"==typeof t){const n=f.indexForString(h[t]);r[e]=n}}}}}else d.add(r)}o.threads=m,e.outputFile.endsWith(".gz")?p().writeFileSync(e.outputFile,await async function(e){const t="string"==typeof e?(new TextEncoder).encode(e):e;if("object"!=typeof window||!("Worker"in window)){const t=await Promise.resolve().then(r.t.bind(r,3106,23));return new Promise(((r,n)=>{t.gzip(e,((e,t)=>{e?n(e):r(new Uint8Array(t.buffer))}))}))}return qt("compress",t)}(JSON.stringify(o))):p().writeFileSync(e.outputFile,JSON.stringify(o))})(function(e){const t=y()(e.slice(2)),r="samples-hash"in t&&"string"==typeof t["samples-hash"],n="samples-file"in t&&"string"==typeof t["samples-file"],a="markers-hash"in t&&"string"==typeof t["markers-hash"],o="markers-file"in t&&"string"==typeof t["markers-file"];if(!r&&!n)throw new Error("Either --samples-file or --samples-hash must be supplied");if(r&&n)throw new Error("Only one of --samples-file or --samples-hash can be supplied");if(!a&&!o)throw new Error("Either --markers-file or --markers-hash must be supplied");if(a&&o)throw new Error("Only one of --markers-file or --markers-hash can be supplied");return{samplesProf:r?{type:"HASH",hash:t["samples-hash"]}:{type:"FILE",file:t["samples-file"]},markersProf:a?{type:"HASH",hash:t["markers-hash"]}:{type:"FILE",file:t["markers-file"]},filterByProcessPrefix:t["filter-by-process-prefix"],assumeSamplesProfileHasStartTimeZero:"assume-samply"in t,outputFile:t["output-file"]}}(process.argv)).catch((e=>{throw e}))}catch(e){console.error(e),process.exit(1)}},616:(e,t,r)=>{"use strict";var n=r(9039);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},684:e=>{"use strict";e.exports=function(e,t){var r="function"==typeof Iterator&&Iterator.prototype[e];if(r)try{r.call({next:null},t).next()}catch(e){return!0}}},741:e=>{"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},757:(e,t,r)=>{"use strict";var n=r(7751),a=r(4901),o=r(1625),s=r(7040),i=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return a(t)&&o(t.prototype,i(e))}},851:(e,t,r)=>{"use strict";var n=r(6955),a=r(5966),o=r(4117),s=r(6269),i=r(8227)("iterator");e.exports=function(e){if(!o(e))return a(e,i)||a(e,"@@iterator")||s[n(e)]}},910:(e,t,r)=>{"use strict";r.d(t,{S:()=>n,x:()=>a});const n="SIMPLEPERF";function a(e,t){return new TextDecoder("utf8").decode(t.slice(0,e.length))===e}},1020:(e,t,r)=>{"use strict";var n=r(6540),a=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,r){var n,l={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!i.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:l,_owner:s.current}}},1072:(e,t,r)=>{"use strict";var n=r(1828),a=r(8727);e.exports=Object.keys||function(e){return n(e,a)}},1148:(e,t,r)=>{"use strict";var n=r(6518),a=r(9565),o=r(2652),s=r(9306),i=r(8551),l=r(1767),c=r(9539),u=r(4549)("every",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:u},{every:function(e){i(this);try{s(e)}catch(e){c(this,"throw",e)}if(u)return a(u,this,e);var t=l(this),r=0;return!o(t,(function(t,n){if(!e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1181:(e,t,r)=>{"use strict";var n,a,o,s=r(8622),i=r(4576),l=r(34),c=r(6699),u=r(9297),d=r(7629),f=r(6119),h=r(421),m="Object already initialized",p=i.TypeError,g=i.WeakMap;if(s||d.state){var y=d.state||(d.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,n=function(e,t){if(y.has(e))throw new p(m);return t.facade=e,y.set(e,t),t},a=function(e){return y.get(e)||{}},o=function(e){return y.has(e)}}else{var b=f("state");h[b]=!0,n=function(e,t){if(u(e,b))throw new p(m);return t.facade=e,c(e,b,t),t},a=function(e){return u(e,b)?e[b]:{}},o=function(e){return u(e,b)}}e.exports={set:n,get:a,has:o,enforce:function(e){return o(e)?a(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=a(t)).type!==e)throw new p("Incompatible receiver, "+e+" required");return r}}}},1291:(e,t,r)=>{"use strict";var n=r(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},1385:(e,t,r)=>{"use strict";var n=r(9539);e.exports=function(e,t,r){for(var a=e.length-1;a>=0;a--)if(void 0!==e[a])try{r=n(e[a].iterator,t,r)}catch(e){t="throw",r=e}if("throw"===t)throw r;return r}},1454:(e,t,r)=>{"use strict";r(1701)},1617:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(){this.clear()}n.prototype={toString:function(){return"[object MixedTupleMap]"},_hash:function(e){if(e===this._lastTuple)return this._lastHash;for(var t=e.length,n=[],a=[],o=[],s=0;s<t;s++){var i=e[s],l=void 0===i?"undefined":r(i);null===l||"object"!==l&&"function"!==l?(n.push("string"===l?'"'+i+'"':""+i),a.push(s)):o.push(s)}if(0===o.length)throw new Error("Tuple must have at least one non-primitive part");return n.push("["+o.concat(a).join()+"]"),this._lastTuple=e,this._lastHash={nonPrimOrder:o,primHash:n.join("/<[MI_SEP]>/")},this._lastHash},has:function(e){for(var t=this._cache,r=this._hash(e),n=r.nonPrimOrder.length,a=0;a<n;a++){var o=e[r.nonPrimOrder[a]];if(!t.has||!t.has(o))return!1;t=t.get(o)}return!!t.has&&t.has(r.primHash)},set:function(e,t){for(var r=this._cache,n=this._hash(e),a=n.nonPrimOrder.length,o=!1,s=0;s<a;s++){var i=e[n.nonPrimOrder[s]];!o&&r.has(i)?r=r.get(i):(o=!0,r.set(i,r=s<a-1?new WeakMap:new Map))}return r.set(n.primHash,t),this},get:function(e){for(var t=this._cache,r=this._hash(e),n=r.nonPrimOrder.length,a=0;a<n;a++){var o=e[r.nonPrimOrder[a]],s=t.get&&t.get(o);if(void 0===s)return s;t=s}return t.get&&t.get(r.primHash)},clear:function(){this._cache=new WeakMap,delete this._lastTuple,delete this._lastHash}},t.default=n,e.exports=t.default},1625:(e,t,r)=>{"use strict";var n=r(9504);e.exports=n({}.isPrototypeOf)},1701:(e,t,r)=>{"use strict";var n=r(6518),a=r(9565),o=r(9306),s=r(8551),i=r(1767),l=r(9462),c=r(6319),u=r(9539),d=r(684),f=r(4549),h=r(6395),m=!h&&!d("map",(function(){})),p=!h&&!m&&f("map",TypeError),g=h||m||p,y=l((function(){var e=this.iterator,t=s(a(this.next,e));if(!(this.done=!!t.done))return c(e,this.mapper,[t.value,this.counter++],!0)}));n({target:"Iterator",proto:!0,real:!0,forced:g},{map:function(e){s(this);try{o(e)}catch(e){u(this,"throw",e)}return p?a(p,this,e):new y(i(this),{mapper:e})}})},1767:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},1828:(e,t,r)=>{"use strict";var n=r(9504),a=r(9297),o=r(5397),s=r(9617).indexOf,i=r(421),l=n([].push);e.exports=function(e,t){var r,n=o(e),c=0,u=[];for(r in n)!a(i,r)&&a(n,r)&&l(u,r);for(;t.length>c;)a(n,r=t[c++])&&(~s(u,r)||l(u,r));return u}},2140:(e,t,r)=>{"use strict";var n={};n[r(8227)("toStringTag")]="z",e.exports="[object z]"===String(n)},2195:(e,t,r)=>{"use strict";var n=r(9504),a=n({}.toString),o=n("".slice);e.exports=function(e){return o(a(e),8,-1)}},2203:e=>{"use strict";e.exports=require("stream")},2211:(e,t,r)=>{"use strict";var n=r(9039);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},2301:(e,t,r)=>{"use strict";r.d(t,{AJ:()=>l,F2:()=>u,Ie:()=>a,JZ:()=>y,KU:()=>T,LT:()=>s,NC:()=>h,ZB:()=>c,Zh:()=>d,a1:()=>v,d7:()=>g,li:()=>p,mN:()=>b,mk:()=>i,nO:()=>w,pp:()=>f,xC:()=>n,xJ:()=>m,xs:()=>o});const n=32,a=58,o=50,s=35,i=40,l=25,c=40,u=25,d=25,f=30,h=20,m=25,p=40,g="profile-store",y="https://symbolication.services.mozilla.com",b=0,T=1,w=2,v=3},2351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e){e&&"limit"in e&&(this._limit=e.limit),this.clear()}n.prototype={toString:function(){return"[object NamedTupleMap]"},_hash:function(e){if(e===this._lastTuple)return this._lastHash;for(var t=Object.keys(e),n=t.length,a=[],o=0;o<n;o++){var s=e[t[o]],i=void 0===s?"undefined":r(s);if(null===s||"object"!==i&&"function"!==i)a.push("string"===i?'"'+s+'"':""+s);else if(this._idMap.has(s))a.push(this._idMap.get(s));else{var l="#"+this._id++;this._idMap.set(s,l),a.push(l)}}return a.push('{"'+t.join('","')+'"}'),this._lastTuple=e,this._lastHash=a.join("/<[MI_SEP]>/"),this._lastHash},has:function(e){var t=this._hash(e);return this._cache.has(t)},set:function(e,t){var r=this._hash(e);return void 0!==this._limit&&this._cache.delete(r),this._cache.set(r,t),void 0!==this._limit&&this._cache.size>this._limit&&this._cache.delete(this._cache.keys().next().value),this},get:function(e){var t=this._hash(e);if(void 0!==this._limit&&this._cache.has(t)){var r=this._cache.get(t);return this._cache.delete(t),this._cache.set(t,r),r}return this._cache.get(t)},clear:function(){this._cache=new Map,this._idMap=new WeakMap,this._id=0,delete this._lastTuple,delete this._lastHash}},t.default=n,e.exports=t.default},2360:(e,t,r)=>{"use strict";var n,a=r(8551),o=r(6801),s=r(8727),i=r(421),l=r(397),c=r(4055),u=r(6119),d="prototype",f="script",h=u("IE_PROTO"),m=function(){},p=function(e){return"<"+f+">"+e+"</"+f+">"},g=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;y="undefined"!=typeof document?document.domain&&n?g(n):(t=c("iframe"),r="java"+f+":",t.style.display="none",l.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):g(n);for(var a=s.length;a--;)delete y[d][s[a]];return y()};i[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(m[d]=a(e),r=new m,m[d]=null,r[h]=e):r=y(),void 0===t?r:o.f(r,t)}},2489:(e,t,r)=>{"use strict";var n=r(6518),a=r(9565),o=r(9306),s=r(8551),i=r(1767),l=r(9462),c=r(6319),u=r(6395),d=r(9539),f=r(684),h=r(4549),m=!u&&!f("filter",(function(){})),p=!u&&!m&&h("filter",TypeError),g=u||m||p,y=l((function(){for(var e,t,r=this.iterator,n=this.predicate,o=this.next;;){if(e=s(a(o,r)),this.done=!!e.done)return;if(t=e.value,c(r,n,[t,this.counter++],!0))return t}}));n({target:"Iterator",proto:!0,real:!0,forced:g},{filter:function(e){s(this);try{o(e)}catch(e){d(this,"throw",e)}return p?a(p,this,e):new y(i(this),{predicate:e})}})},2529:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},2577:(e,t,r)=>{"use strict";r(116)},2652:(e,t,r)=>{"use strict";var n=r(6080),a=r(9565),o=r(8551),s=r(6823),i=r(4209),l=r(6198),c=r(1625),u=r(81),d=r(851),f=r(9539),h=TypeError,m=function(e,t){this.stopped=e,this.result=t},p=m.prototype;e.exports=function(e,t,r){var g,y,b,T,w,v,S,k=r&&r.that,I=!(!r||!r.AS_ENTRIES),x=!(!r||!r.IS_RECORD),N=!(!r||!r.IS_ITERATOR),_=!(!r||!r.INTERRUPTED),C=n(t,k),E=function(e){return g&&f(g,"normal"),new m(!0,e)},A=function(e){return I?(o(e),_?C(e[0],e[1],E):C(e[0],e[1])):_?C(e,E):C(e)};if(x)g=e.iterator;else if(N)g=e;else{if(!(y=d(e)))throw new h(s(e)+" is not iterable");if(i(y)){for(b=0,T=l(e);T>b;b++)if((w=A(e[b]))&&c(p,w))return w;return new m(!1)}g=u(e,y)}for(v=x?e.next:g.next;!(S=a(v,g)).done;){try{w=A(S.value)}catch(e){f(g,"throw",e)}if("object"==typeof w&&w&&c(p,w))return w}return new m(!1)}},2777:(e,t,r)=>{"use strict";var n=r(9565),a=r(34),o=r(757),s=r(5966),i=r(4270),l=r(8227),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!a(e)||o(e))return e;var r,l=s(e,u);if(l){if(void 0===t&&(t="default"),r=n(l,e,t),!a(r)||o(r))return r;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),i(e,t)}},2787:(e,t,r)=>{"use strict";var n=r(9297),a=r(4901),o=r(8981),s=r(6119),i=r(2211),l=s("IE_PROTO"),c=Object,u=c.prototype;e.exports=i?c.getPrototypeOf:function(e){var t=o(e);if(n(t,l))return t[l];var r=t.constructor;return a(r)&&t instanceof r?r.prototype:t instanceof c?u:null}},2796:(e,t,r)=>{"use strict";var n=r(9039),a=r(4901),o=/#|\.prototype\./,s=function(e,t){var r=l[i(e)];return r===u||r!==c&&(a(t)?n(t):!!t)},i=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},2834:e=>{"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},2839:(e,t,r)=>{"use strict";var n=r(4576).navigator,a=n&&n.userAgent;e.exports=a?String(a):""},3106:e=>{"use strict";e.exports=require("zlib")},3215:(e,t,r)=>{"use strict";r(1148)},3276:e=>{e.exports=function(e,t,r){return t<r?e<t?t:e>r?r:e:e<r?r:e>t?t:e}},3349:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});const n=new WeakMap;class a{constructor(e){this._array=void 0,this._stringToIndex=void 0,this._array=e,this._stringToIndex=new Map;for(let t=0;t<e.length;t++)this._stringToIndex.set(e[t],t)}static withBackingArray(e){let t=n.get(e);return void 0===t&&(t=new a(e),n.set(e,t)),t}getString(e,t){if(!this.hasIndex(e)){if(t)return console.warn(`index ${e} not in StringTable`),t;throw new Error(`index ${e} not in StringTable`)}return this._array[e]}hasIndex(e){return e in this._array}hasString(e){return this._stringToIndex.has(e)}indexForString(e){let t=this._stringToIndex.get(e);return void 0===t&&(t=this._array.length,this._stringToIndex.set(e,t),this._array.push(e)),t}getBackingArray(){return this._array}}},3392:(e,t,r)=>{"use strict";var n=r(9504),a=0,o=Math.random(),s=n(1.1.toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++a+o,36)}},3579:(e,t,r)=>{"use strict";var n=r(6518),a=r(9565),o=r(2652),s=r(9306),i=r(8551),l=r(1767),c=r(9539),u=r(4549)("some",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:u},{some:function(e){i(this);try{s(e)}catch(e){c(this,"throw",e)}if(u)return a(u,this,e);var t=l(this),r=0;return o(t,(function(t,n){if(e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},3706:(e,t,r)=>{"use strict";var n=r(9504),a=r(4901),o=r(7629),s=n(Function.toString);a(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},3717:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},3724:(e,t,r)=>{"use strict";var n=r(9039);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3949:(e,t,r)=>{"use strict";r(7588)},4006:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e){e&&"limit"in e&&(this._limit=e.limit),this.clear()}n.prototype={toString:function(){return"[object TupleMap]"},_hash:function(e){if(e===this._lastTuple)return this._lastHash;for(var t=e.length,n=[],a=0;a<t;a++){var o=e[a],s=void 0===o?"undefined":r(o);if(null===o||"object"!==s&&"function"!==s)n.push("string"===s?'"'+o+'"':""+o);else if(this._idMap.has(o))n.push(this._idMap.get(o));else{var i="#"+this._id++;this._idMap.set(o,i),n.push(i)}}return this._lastTuple=e,this._lastHash=n.join("/<[MI_SEP]>/"),this._lastHash},has:function(e){var t=this._hash(e);return this._cache.has(t)},set:function(e,t){var r=this._hash(e);return void 0!==this._limit&&this._cache.delete(r),this._cache.set(r,t),void 0!==this._limit&&this._cache.size>this._limit&&this._cache.delete(this._cache.keys().next().value),this},get:function(e){var t=this._hash(e);if(void 0!==this._limit&&this._cache.has(t)){var r=this._cache.get(t);return this._cache.delete(t),this._cache.set(t,r),r}return this._cache.get(t)},clear:function(){this._cache=new Map,this._idMap=new WeakMap,this._id=0,delete this._lastTuple,delete this._lastHash}},t.default=n,e.exports=t.default},4055:(e,t,r)=>{"use strict";var n=r(4576),a=r(34),o=n.document,s=a(o)&&a(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},4117:e=>{"use strict";e.exports=function(e){return null==e}},4209:(e,t,r)=>{"use strict";var n=r(8227),a=r(6269),o=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||s[o]===e)}},4270:(e,t,r)=>{"use strict";var n=r(9565),a=r(4901),o=r(34),s=TypeError;e.exports=function(e,t){var r,i;if("string"===t&&a(r=e.toString)&&!o(i=n(r,e)))return i;if(a(r=e.valueOf)&&!o(i=n(r,e)))return i;if("string"!==t&&a(r=e.toString)&&!o(i=n(r,e)))return i;throw new s("Can't convert object to primitive value")}},4434:e=>{"use strict";e.exports=require("events")},4495:(e,t,r)=>{"use strict";var n=r(9519),a=r(9039),o=r(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!a((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4520:(e,t,r)=>{"use strict";r(2489)},4549:(e,t,r)=>{"use strict";var n=r(4576);e.exports=function(e,t){var r=n.Iterator,a=r&&r.prototype,o=a&&a[e],s=!1;if(o)try{o.call({next:function(){return{done:!0}},return:function(){s=!0}},-1)}catch(e){e instanceof t||(s=!1)}if(!s)return o}},4576:function(e){"use strict";var t=function(e){return e&&e.Math===Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||t("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4848:(e,t,r)=>{"use strict";e.exports=r(1020)},4901:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4913:(e,t,r)=>{"use strict";var n=r(3724),a=r(5917),o=r(8686),s=r(8551),i=r(6969),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",h="writable";t.f=n?o?function(e,t,r){if(s(e),t=i(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var n=u(e,t);n&&n[h]&&(e[t]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:d in r?r[d]:n[d],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(s(e),t=i(t),s(r),a)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},5031:(e,t,r)=>{"use strict";var n=r(7751),a=r(9504),o=r(8480),s=r(3717),i=r(8551),l=a([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(i(e)),r=s.f;return r?l(t,r(e)):t}},5119:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=(n=r(4006))&&n.__esModule?n:{default:n};if("undefined"==typeof WeakMap||"undefined"==typeof Map)throw new Error("This lib requires an implementation of WeakMap and Map");t.default=function(e,t){var r=t&&t.cache||new a.default(t),n=void 0;return n=/^\[object (Weak|LRU|NamedTuple)?Map\]$/.test(r.toString())?function(t){if(!r.has(t)){var n=e.call(this,t);return r.set(t,n),n}return r.get(t)}:function(){if(!r.has(arguments)){var t=e.apply(this,arguments);return r.set(arguments,t),t}return r.get(arguments)},e.name&&(n.displayName=e.name+"Memoized"),n},e.exports=t.default},5287:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator,m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}function b(){}function T(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=T.prototype=new b;w.constructor=T,p(w,y.prototype),w.isPureReactComponent=!0;var v=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var a,o={},s=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,a)&&!I.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:r,type:e,key:s,ref:i,props:o,_owner:k.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var _=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,a,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return s=s(l=e),e=""===o?"."+C(l,0):o,v(s)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),E(s,t,a,"",(function(e){return e}))):null!=s&&(N(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",v(e))for(var c=0;c<e.length;c++){var u=o+C(i=e[c],c);l+=E(i,t,a,u,s)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=E(i=i.value,t,a,u=o+C(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,r){if(null==e)return e;var n=[],a=0;return E(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},M={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,r){A(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=T,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=F,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),o=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!I.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:r,type:e.type,key:o,ref:s,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,r){return P.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,r){return P.current.useReducer(e,t,r)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return P.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},5397:(e,t,r)=>{"use strict";var n=r(7055),a=r(7750);e.exports=function(e){return n(a(e))}},5610:(e,t,r)=>{"use strict";var n=r(1291),a=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):o(r,t)}},5745:(e,t,r)=>{"use strict";var n=r(7629);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},5917:(e,t,r)=>{"use strict";var n=r(3724),a=r(9039),o=r(4055);e.exports=!n&&!a((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5929:()=>{async function e(e){return new Uint8Array(await new Response(e).arrayBuffer())}onmessage=async t=>{const r=t.data;if("compress"===r.kind){const t=new CompressionStream("gzip"),n=t.writable.getWriter();n.write(r.arrayData),n.close();const a=await e(t.readable);postMessage(a,[a.buffer])}else{if("decompress"!==r.kind)throw new Error("unknown message");{const t=new DecompressionStream("gzip"),n=t.writable.getWriter();n.write(r.arrayData),n.close();const a=await e(t.readable);postMessage(a,[a.buffer])}}}},5966:(e,t,r)=>{"use strict";var n=r(9306),a=r(4117);e.exports=function(e,t){var r=e[t];return a(r)?void 0:n(r)}},6080:(e,t,r)=>{"use strict";var n=r(7476),a=r(9306),o=r(616),s=n(n.bind);e.exports=function(e,t){return a(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},6119:(e,t,r)=>{"use strict";var n=r(5745),a=r(3392),o=n("keys");e.exports=function(e){return o[e]||(o[e]=a(e))}},6198:(e,t,r)=>{"use strict";var n=r(8014);e.exports=function(e){return n(e.length)}},6269:e=>{"use strict";e.exports={}},6279:(e,t,r)=>{"use strict";var n=r(6840);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},6319:(e,t,r)=>{"use strict";var n=r(8551),a=r(9539);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){a(e,"throw",t)}}},6395:e=>{"use strict";e.exports=!1},6518:(e,t,r)=>{"use strict";var n=r(4576),a=r(7347).f,o=r(6699),s=r(6840),i=r(9433),l=r(7740),c=r(2796);e.exports=function(e,t){var r,u,d,f,h,m=e.target,p=e.global,g=e.stat;if(r=p?n:g?n[m]||i(m,{}):n[m]&&n[m].prototype)for(u in t){if(f=t[u],d=e.dontCallGetSet?(h=a(r,u))&&h.value:r[u],!c(p?u:m+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),s(r,u,f,e)}}},6540:(e,t,r)=>{"use strict";e.exports=r(5287)},6699:(e,t,r)=>{"use strict";var n=r(3724),a=r(4913),o=r(6980);e.exports=n?function(e,t,r){return a.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},6801:(e,t,r)=>{"use strict";var n=r(3724),a=r(8686),o=r(4913),s=r(8551),i=r(5397),l=r(1072);t.f=n&&!a?Object.defineProperties:function(e,t){s(e);for(var r,n=i(t),a=l(t),c=a.length,u=0;c>u;)o.f(e,r=a[u++],n[r]);return e}},6823:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},6840:(e,t,r)=>{"use strict";var n=r(4901),a=r(4913),o=r(283),s=r(9433);e.exports=function(e,t,r,i){i||(i={});var l=i.enumerable,c=void 0!==i.name?i.name:t;if(n(r)&&o(r,c,i),i.global)l?e[t]=r:s(t,r);else{try{i.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=r:a.f(e,t,{value:r,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return e}},6955:(e,t,r)=>{"use strict";var n=r(2140),a=r(4901),o=r(2195),s=r(8227)("toStringTag"),i=Object,l="Arguments"===o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=i(e),s))?r:l?o(t):"Object"===(n=o(t))&&a(t.callee)?"Arguments":n}},6969:(e,t,r)=>{"use strict";var n=r(2777),a=r(757);e.exports=function(e){var t=n(e,"string");return a(t)?t:t+""}},6980:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7040:(e,t,r)=>{"use strict";var n=r(4495);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:(e,t,r)=>{"use strict";var n=r(9504),a=r(9039),o=r(2195),s=Object,i=n("".split);e.exports=a((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?i(e,""):s(e)}:s},7347:(e,t,r)=>{"use strict";var n=r(3724),a=r(9565),o=r(8773),s=r(6980),i=r(5397),l=r(6969),c=r(9297),u=r(5917),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=i(e),t=l(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return s(!a(o.f,e,t),e[t])}},7476:(e,t,r)=>{"use strict";var n=r(2195),a=r(9504);e.exports=function(e){if("Function"===n(e))return a(e)}},7550:(e,t,r)=>{"use strict";r(3579)},7588:(e,t,r)=>{"use strict";var n=r(6518),a=r(9565),o=r(2652),s=r(9306),i=r(8551),l=r(1767),c=r(9539),u=r(4549)("forEach",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:u},{forEach:function(e){i(this);try{s(e)}catch(e){c(this,"throw",e)}if(u)return a(u,this,e);var t=l(this),r=0;o(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},7629:(e,t,r)=>{"use strict";var n=r(6395),a=r(4576),o=r(9433),s="__core-js_shared__",i=e.exports=a[s]||o(s,{});(i.versions||(i.versions=[])).push({version:"3.46.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7657:(e,t,r)=>{"use strict";var n,a,o,s=r(9039),i=r(4901),l=r(34),c=r(2360),u=r(2787),d=r(6840),f=r(8227),h=r(6395),m=f("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(a=u(u(o)))!==Object.prototype&&(n=a):p=!0),!l(n)||s((function(){var e={};return n[m].call(e)!==e}))?n={}:h&&(n=c(n)),i(n[m])||d(n,m,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},7740:(e,t,r)=>{"use strict";var n=r(9297),a=r(5031),o=r(7347),s=r(4913);e.exports=function(e,t,r){for(var i=a(t),l=s.f,c=o.f,u=0;u<i.length;u++){var d=i[u];n(e,d)||r&&n(r,d)||l(e,d,c(t,d))}}},7750:(e,t,r)=>{"use strict";var n=r(4117),a=TypeError;e.exports=function(e){if(n(e))throw new a("Can't call method on "+e);return e}},7751:(e,t,r)=>{"use strict";var n=r(4576),a=r(4901);e.exports=function(e,t){return arguments.length<2?(r=n[e],a(r)?r:void 0):n[e]&&n[e][t];var r}},8014:(e,t,r)=>{"use strict";var n=r(1291),a=Math.min;e.exports=function(e){var t=n(e);return t>0?a(t,9007199254740991):0}},8172:(e,t,r)=>{"use strict";function n(e,t=`There was an unhandled case for the value: "${e}"`){throw new Error(t)}function a(e,...t){return Object.assign({},e,...t)}function o(e){const t=function(e){const t=e;switch(t){case"calltree":case"stack-chart":case"marker-chart":case"network-chart":case"marker-table":case"flame-graph":case"js-tracer":return t;default:return null}}(e);if(!t)throw new Error(`Attempted to assert that "${e}" is a valid TransformType, and it was not.`);return t}function s(e){const t=e;switch(t){case"merge-call-node":case"merge-function":case"focus-subtree":case"focus-function":case"focus-category":case"collapse-resource":case"collapse-direct-recursion":case"collapse-recursion":case"collapse-function-subtree":case"drop-function":case"filter-samples":return t;default:return null}}function i(e){return e}function l(e){return Object.entries(e)}function c(e,t){const r={};for(const[n,a]of l(e))r[n]=t(a,n);return r}function u(e,t){if(null===e)throw new Error(t||"Expected an item to exist, and it was null.");if(void 0===e)throw new Error(t||"Expected an item to exist, and it was undefined.");return e}function d(e){return e.values().next().value}r.d(t,{Cn:()=>a,DO:()=>s,K0:()=>c,Nn:()=>u,WP:()=>l,au:()=>i,cF:()=>d,hQ:()=>o,lC:()=>n})},8227:(e,t,r)=>{"use strict";var n=r(4576),a=r(5745),o=r(9297),s=r(3392),i=r(4495),l=r(7040),c=n.Symbol,u=a("wks"),d=l?c.for||c:c&&c.withoutSetter||s;e.exports=function(e){return o(u,e)||(u[e]=i&&o(c,e)?c[e]:d("Symbol."+e)),u[e]}},8237:(e,t,r)=>{"use strict";var n=r(6518),a=r(2652),o=r(9306),s=r(8551),i=r(1767),l=r(9539),c=r(4549),u=r(8745),d=r(9039),f=TypeError,h=d((function(){[].keys().reduce((function(){}),void 0)})),m=!h&&c("reduce",f);n({target:"Iterator",proto:!0,real:!0,forced:h||m},{reduce:function(e){s(this);try{o(e)}catch(e){l(this,"throw",e)}var t=arguments.length<2,r=t?void 0:arguments[1];if(m)return u(m,this,t?[e]:[e,r]);var n=i(this),c=0;if(a(n,(function(n){t?(t=!1,r=n):r=e(r,n,c),c++}),{IS_RECORD:!0}),t)throw new f("Reduce of empty iterator with no initial value");return r}})},8480:(e,t,r)=>{"use strict";var n=r(1828),a=r(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},8551:(e,t,r)=>{"use strict";var n=r(34),a=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(a(e)+" is not an object")}},8622:(e,t,r)=>{"use strict";var n=r(4576),a=r(4901),o=n.WeakMap;e.exports=a(o)&&/native code/.test(String(o))},8686:(e,t,r)=>{"use strict";var n=r(3724),a=r(9039);e.exports=n&&a((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8727:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:(e,t,r)=>{"use strict";var n=r(616),a=Function.prototype,o=a.apply,s=a.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(o):function(){return s.apply(o,arguments)})},8773:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},8872:(e,t,r)=>{"use strict";r(8237)},8981:(e,t,r)=>{"use strict";var n=r(7750),a=Object;e.exports=function(e){return a(n(e))}},9023:e=>{"use strict";e.exports=require("util")},9031:e=>{"use strict";function t(e){return"number"==typeof e||!!/^0x[0-9a-f]+$/i.test(e)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function r(e,t){return"constructor"===t&&"function"==typeof e[t]||"__proto__"===t}e.exports=function(e,n){n||(n={});var a={bools:{},strings:{},unknownFn:null};"function"==typeof n.unknown&&(a.unknownFn=n.unknown),"boolean"==typeof n.boolean&&n.boolean?a.allBools=!0:[].concat(n.boolean).filter(Boolean).forEach((function(e){a.bools[e]=!0}));var o={};function s(e){return o[e].some((function(e){return a.bools[e]}))}Object.keys(n.alias||{}).forEach((function(e){o[e]=[].concat(n.alias[e]),o[e].forEach((function(t){o[t]=[e].concat(o[e].filter((function(e){return t!==e})))}))})),[].concat(n.string).filter(Boolean).forEach((function(e){a.strings[e]=!0,o[e]&&[].concat(o[e]).forEach((function(e){a.strings[e]=!0}))}));var i=n.default||{},l={_:[]};function c(e,t,n){for(var o=e,s=0;s<t.length-1;s++){var i=t[s];if(r(o,i))return;void 0===o[i]&&(o[i]={}),o[i]!==Object.prototype&&o[i]!==Number.prototype&&o[i]!==String.prototype||(o[i]={}),o[i]===Array.prototype&&(o[i]=[]),o=o[i]}var l=t[t.length-1];r(o,l)||(o!==Object.prototype&&o!==Number.prototype&&o!==String.prototype||(o={}),o===Array.prototype&&(o=[]),void 0===o[l]||a.bools[l]||"boolean"==typeof o[l]?o[l]=n:Array.isArray(o[l])?o[l].push(n):o[l]=[o[l],n])}function u(e,r,n){if(!n||!a.unknownFn||function(e,t){return a.allBools&&/^--[^=]+$/.test(t)||a.strings[e]||a.bools[e]||o[e]}(e,n)||!1!==a.unknownFn(n)){var s=!a.strings[e]&&t(r)?Number(r):r;c(l,e.split("."),s),(o[e]||[]).forEach((function(e){c(l,e.split("."),s)}))}}Object.keys(a.bools).forEach((function(e){u(e,void 0!==i[e]&&i[e])}));var d=[];-1!==e.indexOf("--")&&(d=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var f=0;f<e.length;f++){var h,m,p=e[f];if(/^--.+=/.test(p)){var g=p.match(/^--([^=]+)=([\s\S]*)$/);h=g[1];var y=g[2];a.bools[h]&&(y="false"!==y),u(h,y,p)}else if(/^--no-.+/.test(p))u(h=p.match(/^--no-(.+)/)[1],!1,p);else if(/^--.+/.test(p))h=p.match(/^--(.+)/)[1],void 0===(m=e[f+1])||/^(-|--)[^-]/.test(m)||a.bools[h]||a.allBools||o[h]&&s(h)?/^(true|false)$/.test(m)?(u(h,"true"===m,p),f+=1):u(h,!a.strings[h]||"",p):(u(h,m,p),f+=1);else if(/^-[^-]+/.test(p)){for(var b=p.slice(1,-1).split(""),T=!1,w=0;w<b.length;w++)if("-"!==(m=p.slice(w+2))){if(/[A-Za-z]/.test(b[w])&&"="===m[0]){u(b[w],m.slice(1),p),T=!0;break}if(/[A-Za-z]/.test(b[w])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(m)){u(b[w],m,p),T=!0;break}if(b[w+1]&&b[w+1].match(/\W/)){u(b[w],p.slice(w+2),p),T=!0;break}u(b[w],!a.strings[b[w]]||"",p)}else u(b[w],m,p);h=p.slice(-1)[0],T||"-"===h||(!e[f+1]||/^(-|--)[^-]/.test(e[f+1])||a.bools[h]||o[h]&&s(h)?e[f+1]&&/^(true|false)$/.test(e[f+1])?(u(h,"true"===e[f+1],p),f+=1):u(h,!a.strings[h]||"",p):(u(h,e[f+1],p),f+=1))}else if(a.unknownFn&&!1===a.unknownFn(p)||l._.push(a.strings._||!t(p)?p:Number(p)),n.stopEarly){l._.push.apply(l._,e.slice(f+1));break}}return Object.keys(i).forEach((function(e){var t,r,n;t=l,r=e.split("."),n=t,r.slice(0,-1).forEach((function(e){n=n[e]||{}})),r[r.length-1]in n||(c(l,e.split("."),i[e]),(o[e]||[]).forEach((function(t){c(l,t.split("."),i[e])})))})),n["--"]?l["--"]=d.slice():d.forEach((function(e){l._.push(e)})),l}},9039:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},9297:(e,t,r)=>{"use strict";var n=r(9504),a=r(8981),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(a(e),t)}},9306:(e,t,r)=>{"use strict";var n=r(4901),a=r(6823),o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(a(e)+" is not a function")}},9433:(e,t,r)=>{"use strict";var n=r(4576),a=Object.defineProperty;e.exports=function(e,t){try{a(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},9462:(e,t,r)=>{"use strict";var n=r(9565),a=r(2360),o=r(6699),s=r(6279),i=r(8227),l=r(1181),c=r(5966),u=r(7657).IteratorPrototype,d=r(2529),f=r(9539),h=r(1385),m=i("toStringTag"),p="IteratorHelper",g="WrapForValidIterator",y="normal",b="throw",T=l.set,w=function(e){var t=l.getterFor(e?g:p);return s(a(u),{next:function(){var r=t(this);if(e)return r.nextHandler();if(r.done)return d(void 0,!0);try{var n=r.nextHandler();return r.returnHandlerResult?n:d(n,r.done)}catch(e){throw r.done=!0,e}},return:function(){var r=t(this),a=r.iterator;if(r.done=!0,e){var o=c(a,"return");return o?n(o,a):d(void 0,!0)}if(r.inner)try{f(r.inner.iterator,y)}catch(e){return f(a,b,e)}if(r.openIters)try{h(r.openIters,y)}catch(e){return f(a,b,e)}return a&&f(a,y),d(void 0,!0)}})},v=w(!0),S=w(!1);o(S,m,"Iterator Helper"),e.exports=function(e,t,r){var n=function(n,a){a?(a.iterator=n.iterator,a.next=n.next):a=n,a.type=t?g:p,a.returnHandlerResult=!!r,a.nextHandler=e,a.counter=0,a.done=!1,T(this,a)};return n.prototype=t?v:S,n}},9504:(e,t,r)=>{"use strict";var n=r(616),a=Function.prototype,o=a.call,s=n&&a.bind.bind(o,o);e.exports=n?s:function(e){return function(){return o.apply(e,arguments)}}},9519:(e,t,r)=>{"use strict";var n,a,o=r(4576),s=r(2839),i=o.process,l=o.Deno,c=i&&i.versions||l&&l.version,u=c&&c.v8;u&&(a=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!a&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(a=+n[1]),e.exports=a},9539:(e,t,r)=>{"use strict";var n=r(9565),a=r(8551),o=r(5966);e.exports=function(e,t,r){var s,i;a(e);try{if(!(s=o(e,"return"))){if("throw"===t)throw r;return r}s=n(s,e)}catch(e){i=!0,s=e}if("throw"===t)throw r;if(i)throw s;return a(s),r}},9565:(e,t,r)=>{"use strict";var n=r(616),a=Function.prototype.call;e.exports=n?a.bind(a):function(){return a.apply(a,arguments)}},9617:(e,t,r)=>{"use strict";var n=r(5397),a=r(5610),o=r(6198),s=function(e){return function(t,r,s){var i=n(t),l=o(i);if(0===l)return!e&&-1;var c,u=a(s,l);if(e&&r!=r){for(;l>u;)if((c=i[u++])!=c)return!0}else for(;l>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},9635:(e,t,r)=>{"use strict";r.d(t,{AU:()=>T,ES:()=>d,Gh:()=>s,Ie:()=>w,LK:()=>c,Qh:()=>k,Ry:()=>m,SQ:()=>b,U1:()=>x,WG:()=>a,WU:()=>h,Z:()=>I,cy:()=>i,dY:()=>f,hp:()=>S,oP:()=>v,qc:()=>p,uv:()=>u,uz:()=>g,vA:()=>l,x2:()=>y,zl:()=>o});var n=r(2301);function a(){return{frame:[],prefix:[],category:[],subcategory:[],length:0}}function o(){return{weightType:"samples",weight:null,stack:[],time:[],length:0}}function s(){return{frame:[],prefix:[],length:0}}function i(){return{weightType:"samples",weight:null,eventDelay:[],stack:[],time:[],length:0}}function l(){return{address:[],inlineDepth:[],category:[],subcategory:[],func:[],nativeSymbol:[],innerWindowID:[],line:[],column:[],length:0}}function c(e){return{address:e.address.slice(),inlineDepth:e.inlineDepth.slice(),category:e.category.slice(),subcategory:e.subcategory.slice(),func:e.func.slice(),nativeSymbol:e.nativeSymbol.slice(),innerWindowID:e.innerWindowID.slice(),line:e.line.slice(),column:e.column.slice(),length:e.length}}function u(){return{isJS:[],relevantForJS:[],name:[],resource:[],source:[],lineNumber:[],columnNumber:[],length:0}}function d(e){return{isJS:e.isJS.slice(),relevantForJS:e.relevantForJS.slice(),name:e.name.slice(),resource:e.resource.slice(),source:e.source.slice(),lineNumber:e.lineNumber.slice(),columnNumber:e.columnNumber.slice(),length:e.length}}function f(e){return{libIndex:e.libIndex.slice(),address:e.address.slice(),name:e.name.slice(),functionSize:e.functionSize.slice(),length:e.length}}function h(){return{lib:[],name:[],host:[],type:[],length:0}}function m(){return{libIndex:[],address:[],name:[],functionSize:[],length:0}}function p(){return{data:[],name:[],startTime:[],endTime:[],phase:[],category:[],length:0}}function g(){return{time:[],className:[],typeName:[],coarseType:[],weight:[],weightType:"bytes",inNursery:[],stack:[],length:0}}function y(){return{time:[],weight:[],weightType:"bytes",stack:[],length:0}}function b(e){return{data:e.data.slice(),name:e.name.slice(),startTime:e.startTime.slice(),endTime:e.endTime.slice(),phase:e.phase.slice(),category:e.category.slice(),length:e.length}}const T={unknown:0,library:1,addon:2,webhost:3,otherhost:4,url:5};function w(){return{id:[],name:[],baseURL:[],length:0}}function v(){return[{name:"Other",color:"grey",subcategories:["Other"]},{name:"Idle",color:"transparent",subcategories:["Other"]},{name:"Layout",color:"purple",subcategories:["Other"]},{name:"JavaScript",color:"yellow",subcategories:["Other"]},{name:"GC / CC",color:"orange",subcategories:["Other"]},{name:"Network",color:"lightblue",subcategories:["Other"]},{name:"Graphics",color:"green",subcategories:["Other"]},{name:"DOM",color:"blue",subcategories:["Other"]}]}function S(){return{uuid:[],filename:[],length:0}}function k(e){return{processType:"default",processStartupTime:0,processShutdownTime:null,registerTime:0,unregisterTime:null,pausedRanges:[],name:"Empty",isMainThread:!1,pid:"0",tid:0,samples:{weightType:"samples",weight:null,eventDelay:[],stack:[],time:[],length:0},markers:{data:[],name:[],startTime:[],endTime:[],phase:[],category:[],length:0},stackTable:{frame:[],prefix:[],length:0},frameTable:{address:[],inlineDepth:[],category:[],subcategory:[],func:[],nativeSymbol:[],innerWindowID:[],line:[],column:[],length:0},funcTable:{isJS:[],relevantForJS:[],name:[],resource:[],source:[],lineNumber:[],columnNumber:[],length:0},resourceTable:{lib:[],name:[],host:[],type:[],length:0},nativeSymbols:{libIndex:[],address:[],name:[],functionSize:[],length:0},...e}}function I(){return{meta:{interval:1,startTime:0,abi:"",misc:"",oscpu:"",platform:"",processType:0,extensions:{id:[],name:[],baseURL:[],length:0},categories:[{name:"Other",color:"grey",subcategories:["Other"]},{name:"Idle",color:"transparent",subcategories:["Other"]},{name:"Layout",color:"purple",subcategories:["Other"]},{name:"JavaScript",color:"yellow",subcategories:["Other"]},{name:"GC / CC",color:"orange",subcategories:["Other"]},{name:"Network",color:"lightblue",subcategories:["Other"]},{name:"Graphics",color:"green",subcategories:["Other"]},{name:"DOM",color:"blue",subcategories:["Other"]}],product:"Firefox",stackwalk:0,toolkit:"",version:n.xC,preprocessedProfileVersion:n.Ie,appBuildID:"",sourceURL:"",physicalCPUs:0,logicalCPUs:0,CPUName:"",symbolicated:!0,markerSchema:[]},libs:[],pages:[],shared:{stringArray:[],sources:{uuid:[],filename:[],length:0}},threads:[]}}function x(){return{prefix:new Int32Array(0),subtreeRangeEnd:new Uint32Array(0),nextSibling:new Int32Array(0),func:new Int32Array(0),category:new Int32Array(0),subcategory:new Int32Array(0),innerWindowID:new Float64Array(0),sourceFramesInlinedIntoSymbol:new Int32Array(0),depth:new Int32Array(0),maxDepth:-1,length:0}}}},l={};function c(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={id:e,loaded:!1,exports:{}};return i[e].call(r.exports,r,r.exports,c),r.loaded=!0,r.exports}c.m=i,c.c=l,c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var a=Object.create(null);c.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,c.d(a,o),a},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,r)=>(c.f[r](e,t),t)),[])),c.u=e=>e+".merge-android-profiles.js",c.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="",r={792:1},c.f.require=(e,t)=>{if(!r[e]){var n=require("./"+c.u(e));r[e]||(e=>{var t=e.modules,n=e.ids,a=e.runtime;for(var o in t)c.o(t,o)&&(c.m[o]=t[o]);a&&a(c);for(var s=0;s<n.length;s++)r[n[s]]=1})(n)}},a={},o={1383:function(){return{"./index_bg.js":{__wbindgen_init_externref_table:function(){return void 0===n&&(n=c.c[2781].exports),n.bL()}}}}},s={307:[1383]},c.w={},c.f.wasm=function(e,t){(s[e]||[]).forEach((function(r,n){var s=a[r];if(s)t.push(s);else{var i,l=o[r](),u=new Promise((function(t,n){var{readFile:a}=require("node:fs"),{join:o}=require("node:path");try{a(o(__dirname,{307:{1383:"87a5643a7d8b2e4a8f7c"}}[e][r]+".module.wasm"),(function(e,r){if(e)return n(e);t({arrayBuffer:()=>r})}))}catch(e){n(e)}}));if(l&&"function"==typeof l.then){var d=u.then((function(e){return e.arrayBuffer()}));i=Promise.all([d.then((function(e){return WebAssembly.compile(e)})),l]).then((function(e){return WebAssembly.instantiate(e[0],e[1])}))}else i=(d=u.then((function(e){return e.arrayBuffer()}))).then((function(e){return WebAssembly.instantiate(e,l)}));t.push(a[r]=i.then((function(e){return c.w[r]=(e.instance||e).exports})))}}))},c(604)})();